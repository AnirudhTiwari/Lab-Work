!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("./components/desktop/author/AuthorPage.jsx"),a=r(i),s=e("./components/desktop/common/modal/AuthorRecommendationsModal.jsx"),u=r(s),l=e("./AppContext"),c=r(l),f=e("./components/desktop/crawler/CrawlerPage.jsx"),p=r(f),d=e("./components/desktop/error/ErrorPage.jsx"),h=r(d),y=e("./components/desktop/faq/FAQPage.jsx"),m=r(y),v=e("./components/desktop/paper-detail/figure/FigureDetailPage.jsx"),g=r(v),b=e("./components/desktop/home/HomePage.jsx"),_=r(b),w=e("./components/shared/icon/IconSprite.jsx"),S=r(w),T=e("./components/desktop/insights/InsightsPlaceholderPage.jsx"),x=r(T),P=e("./components/desktop/common/message/Messages.jsx"),E=r(P),C=e("./components/desktop/common/modal/ModalManager.jsx"),O=r(C),R=e("./components/desktop/404/NotFoundPage.jsx"),k=r(R),j=e("./components/desktop/paper-detail/PaperDetailPage.jsx"),I=r(j),M=e("./components/desktop/search/SearchResultsPage.jsx"),A=r(M),N=e("./components/desktop/terms-of-service/TermsOfServicePage.jsx"),D=r(N),L=e("./components/desktop/pdf-viewer/PaperPdfViewerPage.jsx"),q=r(L),F=e("./components/desktop/pdf-viewer/PresentationPdfViewerPage.jsx"),U=r(F),H=e("./router.jsx"),B=r(H),V=e("./util"),z=e("react"),$=r(z),W=e("react-router"),Y=e("../third-party/core.js");r(Y);V.isDev&&e("promise/lib/rejection-tracking").enable();var G=o(k["default"],{}),K=o(h["default"],{}),Q=o(W.RouteHandler,{}),J=o(E["default"],{max:4}),X=o(O["default"],{}),Z=o(S["default"],{}),ee=$["default"].createClass({displayName:"App",mixins:[c["default"].Mixin],renderError:function(){switch(this.state.routingError&&this.state.routingError.status){case 404:return G;default:return K}},render:function(){return o("div",{className:"s2 flex-column"},void 0,this.state.routingError?this.renderError():Q,J,X,Z)}}),te=o(W.Route,{name:"app",path:"/",handler:ee},void 0,o(W.DefaultRoute,{name:"home",handler:_["default"]}),o(W.Route,{name:"search",path:"search",handler:A["default"]}),o(W.Route,{name:"pdfViewerById",path:"paper/:paperId/pdf",handler:q["default"]}),o(W.Route,{name:"paperPdfViewer",path:"paper/:slug/:paperId/pdf",handler:q["default"]}),o(W.Route,{name:"presentationPdfViewer",path:"paper/:slug/:paperId/slides/:presentationId",handler:U["default"]}),o(W.Route,{name:"paperDetailById",path:"paper/:paperId",handler:I["default"],ignoreScrollBehavior:!0}),o(W.Route,{name:"paperDetail",path:"paper/:slug/:paperId",handler:I["default"],ignoreScrollBehavior:!0},void 0,o(W.Route,{name:"paperDetailFigure",path:"figure/:figureIndex",handler:g["default"]}),o(W.Redirect,{from:"figures/figure/:figureIndex",to:"paperDetailFigure"}),o(W.Redirect,{from:"*",to:"paperDetail"})),o(W.Route,{name:"authorProfileById",path:"author/:authorId",handler:a["default"],ignoreScrollBehavior:!0}),o(W.Route,{name:"authorProfile",path:"author/:slug/:authorId",handler:a["default"],ignoreScrollBehavior:!0},void 0,o(W.Route,{name:"authorRecommendations",path:"recommendations",handler:u["default"]}),o(W.Redirect,{from:"*",to:"authorProfile"})),o(W.Route,{name:"faq",path:"faq",handler:m["default"],ignoreScrollBehavior:!0}),o(W.Route,{name:"crawler",path:"crawler",handler:p["default"]}),o(W.Route,{name:"insights",path:"insights",handler:x["default"]},void 0,o(W.Route,{name:"insightsAuthors",path:"authors"}),o(W.Route,{name:"insightsUniversities",path:"universities"}),o(W.Route,{name:"insightsPapers",path:"papers"})),o(W.Route,{name:"termsOfService",path:"terms-of-service",handler:D["default"]}),o(W.NotFoundRoute,{handler:k["default"]}));if("undefined"!=typeof window)(0,B["default"])(te,c["default"].create());else{var ne=function(e){return(0,B["default"])(te,e,c["default"].create({clientRequest:e}))};t.exports=ne}},{"../third-party/core.js":227,"./AppContext":2,"./components/desktop/404/NotFoundPage.jsx":7,"./components/desktop/author/AuthorPage.jsx":8,"./components/desktop/common/message/Messages.jsx":42,"./components/desktop/common/modal/AuthorRecommendationsModal.jsx":45,"./components/desktop/common/modal/ModalManager.jsx":53,"./components/desktop/crawler/CrawlerPage.jsx":63,"./components/desktop/error/ErrorPage.jsx":64,"./components/desktop/faq/FAQPage.jsx":65,"./components/desktop/home/HomePage.jsx":66,"./components/desktop/insights/InsightsPlaceholderPage.jsx":71,"./components/desktop/paper-detail/PaperDetailPage.jsx":77,"./components/desktop/paper-detail/figure/FigureDetailPage.jsx":80,"./components/desktop/pdf-viewer/PaperPdfViewerPage.jsx":82,"./components/desktop/pdf-viewer/PresentationPdfViewerPage.jsx":84,"./components/desktop/search/SearchResultsPage.jsx":91,"./components/desktop/terms-of-service/TermsOfServicePage.jsx":102,"./components/shared/icon/IconSprite.jsx":137,"./router.jsx":204,"./util":221,"promise/lib/rejection-tracking":289,react:465,"react-router":322}],2:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./assets/AssetMap"),s=o(a),u=e("./api/Api"),l=o(u),c=e("./stores/auth"),f=o(c),p=e("./stores/author/AuthorStore"),d=o(p),h=e("./env/EnvInfo"),y=o(h),m=e("./stores/RoutingErrorStore"),v=o(m),g=e("./stores/GoogleAnalyticsStore"),b=o(g),_=e("./stores/HistoryStore"),w=o(_),S=e("./stores/InsightsStore"),T=o(S),x=e("./stores/messages"),P=o(x),E=e("./stores/modal"),C=o(E),O=e("./stores/paper"),R=o(O),k=e("./stores/query"),j=o(k),I=e("./stores/reading-list"),M=o(I),A=e("./stores/UIOptionsStore"),N=o(A),D=e("./stores/user-preferences"),L=o(D),q=e("./stores/PdfViewerStore"),F=o(q),U=e("./util"),H=r(U),B=e("flux"),V=e("react"),z=o(V),$=function W(e){var t=this;i(this,W),this.dispatcher=e.dispatcher,this.queryStore=e.queryStore,this.paperStore=e.paperStore,this.readingListStore=e.readingListStore,this.messageStore=e.messageStore,this.routingErrorStore=e.routingErrorStore,this.uiOptionsStore=e.uiOptionsStore,this.authStore=e.authStore,this.api=e.api,this.userPrefsStore=e.userPrefsStore,this.modalStore=e.modalStore,this.historyStore=e.historyStore,this.authorStore=e.authorStore,this.googleAnalyticsStore=e.googleAnalyticsStore,this.insightsStore=e.insightsStore,this.envInfo=e.envInfo,this.pdfViewerStore=e.pdfViewerStore,this.assetMap=e.assetMap,this.hostname=e.hostname,H.isBrowser&&(window.onerror=function(n,r,o,i,a){try{e.api.logError({message:n,srcUrl:r,url:document&&document.location?document.location.toString():"",line:o,col:i,stackTrace:a&&a.stack?a.stack:""}),"function"==typeof ga&&ga("send","exception",{exDescription:n}),t.messageStore.addError("An unexpected error occurred. You might want to refresh your browser.")}catch(s){console.error("Exception occured during error handling",s)}return!1})};$.Mixin={propTypes:{appContext:z["default"].PropTypes.object.isRequired},contextTypes:{router:z["default"].PropTypes.func.isRequired},childContextTypes:{dispatcher:z["default"].PropTypes.object.isRequired,queryStore:z["default"].PropTypes.object.isRequired,paperStore:z["default"].PropTypes.object.isRequired,readingListStore:z["default"].PropTypes.object.isRequired,messageStore:z["default"].PropTypes.object.isRequired,uiOptionsStore:z["default"].PropTypes.object.isRequired,authStore:z["default"].PropTypes.object.isRequired,api:z["default"].PropTypes.object.isRequired,routingErrorStore:z["default"].PropTypes.object.isRequired,userPrefsStore:z["default"].PropTypes.object.isRequired,modalStore:z["default"].PropTypes.object.isRequired,historyStore:z["default"].PropTypes.object.isRequired,authorStore:z["default"].PropTypes.object.isRequired,googleAnalyticsStore:z["default"].PropTypes.object.isRequired,insightsStore:z["default"].PropTypes.object.isRequired,envInfo:z["default"].PropTypes.object.isRequired,pdfViewerStore:z["default"].PropTypes.object.isRequired,assetMap:z["default"].PropTypes.object.isRequired,hostname:z["default"].PropTypes.string.isRequired},getChildContext:function(){return this.props.appContext},getInitialState:function(){return{routingError:this.props.appContext.routingErrorStore.error}},handleRoutingError:function(e){this.setState({routingError:e})},componentDidMount:function(){this.props.appContext.routingErrorStore.addChangeListener(this.handleRoutingError)},componentWillUnmount:function(){this.props.appContext.routingErrorStore.removeChangeListener(this.handleRoutingError)}},$.create=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.clientRequest,n=e.isMobile,r=new B.Dispatcher,o=new j["default"](r),i=new R["default"](r),a=new M["default"](r),u=new P["default"](r),c=new N["default"](r),p=new f["default"](r),h=new v["default"](r),m=new L["default"](r),g=new C["default"](r),_=new w["default"](r),S=new d["default"](r),x=new b["default"](r),E=new T["default"](r),O=new y["default"]({isMobile:n}),k=new l["default"](r,o,i,c,t),I=new F["default"](r),A=s["default"].load(),D=void 0;return H.isBrowser?D=document.location.hostname:t?D=t.headers.host.split(":").shift():(H.isDev&&console.warn("Unable to determine hostname, setting to empty string."),D=""),new $({dispatcher:r,queryStore:o,paperStore:i,readingListStore:a,messageStore:u,uiOptionsStore:c,authStore:p,api:k,routingErrorStore:h,userPrefsStore:m,modalStore:g,historyStore:_,authorStore:S,googleAnalyticsStore:x,insightsStore:E,envInfo:O,pdfViewerStore:I,assetMap:A,hostname:D})},n["default"]=$},{"./api/Api":3,"./assets/AssetMap":5,"./env/EnvInfo":178,"./stores/GoogleAnalyticsStore":205,"./stores/HistoryStore":206,"./stores/InsightsStore":207,"./stores/PdfViewerStore":208,"./stores/RoutingErrorStore":209,"./stores/UIOptionsStore":210,"./stores/auth":211,"./stores/author/AuthorStore":212,"./stores/messages":214,"./stores/modal":215,"./stores/paper":216,"./stores/query":217,"./stores/reading-list":218,"./stores/user-preferences":219,"./util":221,flux:271,react:465}],3:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){if(_.isBrowser){var e=E.parse(document.location.search.substr(1)),t=void 0;return e.r&&(t=parseInt(e.r,10)),t}}function s(){return"undefined"==typeof C||(Date.now()-C)/1e3>30}function u(){_.isBrowser&&window.history&&window.history.replaceState&&window.history.replaceState({},document.title,document.location.toString().replace(/[?&]r=\d+/,""))}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./ApiRequest.js"),f=o(c),p=e("../constants.js"),d=o(p),h=e("../metrics/UiMetricEvent"),y=(o(h),e("../ga.js")),m=r(y),v=e("../constants/sort-type"),g=o(v),b=e("../util.js"),_=r(b),w=e("merge"),S=o(w),T=e("promise"),x=o(T),P=e("querystring"),E=r(P),C=a();C&&u();var O=function(){function e(t,n,r,o,a){var s=this;i(this,e),this._dispatcher=t,this._queryStore=n,this._paperStore=r,this._uiOptionsStore=o,this._currentPageLoadRequest=null,this._currentAutosuggestRequest=null,!_.isBrowser&&a&&(this._extraHeaders=(0,S["default"])({"X-Is-Node-Renderer":!0},a.headers)),"undefined"!=typeof window&&(this._lastLoginMethod="",window.authSuccessful=function(){m.loginSuccessful(s._lastLoginMethod),s.fetchUserInfo()},window.authFailed=function(){m.loginFailed(s._lastLoginMethod)})}return l(e,[{key:"_apiRequest",value:function(e,t,n,r){var o=this;this._dispatcher.dispatch({actionType:d["default"].actions.API_REQUEST_STARTING,requestType:e,requestData:r,path:n});var i=new f["default"]({method:t,path:n,data:r,debug:this._uiOptionsStore.options.debug,extraHeaders:this._extraHeaders});return i.send(function(t){var r={actionType:d["default"].actions.API_REQUEST_COMPLETE,requestType:e,resultData:t.body,path:n};return o._dispatcher.dispatch(r),r},function(t,r){var o=r&&r.body&&"ClientVersionOutdated"===r.body.error,i=s();if(o&&!i&&console.error("Last UI reload occured less than 30 seconds ago so another will not be triggered."),!(_.isBrowser&&o&&i)){if(t.status){var a=void 0;a=503===t.status?d["default"].errorTypes.SERVER_UNAVAILABLE:d["default"].errorTypes.SERVER_ERROR;var u={actionType:d["default"].actions.API_ERROR,errorType:a,requestType:e,status:t.status,error:r.body?r.body.error:r.error,msg:r.body?r.body.msg:"",extraInfo:r.body?r.body.extraInfo:void 0,path:n};return u}var l={actionType:d["default"].actions.API_ERROR,errorType:t&&void 0!==t.timeout?d["default"].errorTypes.API_TIMEOUT:d["default"].errorTypes.NETWORK_ERROR,requestType:e,error:t,path:n};return l}var c=E.parse(document.location.search.substr(1));c.r=Date.now(),document.location.search=E.stringify(c)})}},{key:"_cancelRequest",value:function(e){void 0!==e&&"function"==typeof e.cancel&&e.cancel()}},{key:"rePopulateStoresFromServerRenderedData",value:function(){var e=this;return new x["default"](function(t,n){var r=window.DATA;window.DATA=void 0,Array.isArray(r)?r.map(function(t){return e._dispatcher.dispatch(t)}):console.error("Attempted to rehydrate with a non-array.");var o=r.filter(function(e){return e.actionType===d["default"].actions.API_ERROR}).length>0;o?n(r):t(r)})}},{key:"hasServerRenderedData",value:function(){var e="undefined"!=typeof window.DATA;return e}},{key:"search",value:function(){this._cancelRequest(this._currentSearchRequest);var e=this._queryStore._query.toJS();return null!==e.yearFilter.min&&null!==e.yearFilter.max||delete e.yearFilter,e.sort||(e.sort=g["default"].RELEVANCE.id),this._currentSearchRequest=this._apiRequest(d["default"].requestTypes.SEARCH,"POST","/search",e),this._currentSearchRequest}},{key:"searchAuthorPapers",value:function(e,t){this._cancelRequest(this._currentSearchRequest);var n=this._queryStore._query.toJS();return null!==n.yearFilter.min&&null!==n.yearFilter.max||delete n.yearFilter,n.autoEnableFilters=!1,n.sort||(n.sort=g["default"].INFLUENTIAL_CITATIONS.id),this._currentSearchRequest=this._apiRequest(d["default"].requestTypes.AUTHOR_DETAIL_WITH_PAPERS,"POST","/author/"+e+"?slug="+t+"&requireSlug=true",n),this._currentSearchRequest}},{key:"fetchAuthorDetail",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2];this._cancelRequest(this._currentAuthorDetailRequest);var r={slug:t,requireSlug:n};return this._currentAuthorDetailRequest=this._apiRequest(d["default"].requestTypes.AUTHOR_DETAIL,"GET","/author/"+e,r),this._currentAuthorDetailRequest}},{key:"fetchAuthorPaperRecommendations",value:function(e,t){return this._cancelRequest(this._currentAuthorPaperRecommendationsRequest),this._currentAuthorPaperRecommendationsRequest=this._apiRequest(d["default"].requestTypes.AUTHOR_RECOMMENDATIONS,"GET","/author/"+e+"/recommendations",{count:t}),this._currentAuthorPaperRecommendationsRequest}},{key:"fetchSearchSuggestions",value:function(e){return this._cancelRequest(this._currentSuggestRequest),this._currentSuggestRequest=this._apiRequest(d["default"].requestTypes.SEARCH_SUGGEST,"GET","/completion",{q:e}),this._currentSuggestRequest}},{key:"fetchPaperDetail",value:function(e,t,n,r){this._cancelRequest(this._currentPaperDetailRequest);var o={slug:t,requireSlug:!0,citingPapersSort:n,citedPapersSort:r,citationsPageSize:d["default"].params.CITATIONS_PAGE_SIZE};return this._currentPaperDetailRequest=this._apiRequest(d["default"].requestTypes.PAPER_DETAIL,"GET","/paper/"+e,o),this._currentPaperDetailRequest}},{key:"fetchPdfUrl",value:function(e,t){return this._apiRequest(d["default"].requestTypes.GET_PAPER_WITH_PDF_URL,"GET","/paper/"+e+"/pdf",{slug:t,requireSlug:t!==!1})}},{key:"fetchPresentationPdfUrl",value:function(e,t,n){return this._apiRequest(d["default"].requestTypes.GET_PAPER_WITH_PRESENTATION_URL,"GET","/paper/"+e+"/presentation/"+n+"/pdf",{slug:t,requireSlug:!0})}},{key:"fetchCitations",value:function(e,t,n,r){var o={sort:n,page:r,citationType:t,citationsPageSize:d["default"].params.CITATIONS_PAGE_SIZE};return this._apiRequest(d["default"].requestTypes.CITATIONS,"GET","/paper/"+e+"/citations",o)}},{key:"fetchRelatedPapers",value:function(e){return this._apiRequest(d["default"].requestTypes.RELATED_PAPERS,"GET","/paper/"+e+"/related-papers")}},{key:"fetchMoreCitations",value:function(e,t,n,r){var o={sort:n,page:r,citationType:t,citationsPageSize:d["default"].params.CITATIONS_PAGE_SIZE};return this._apiRequest(d["default"].requestTypes.MORE_CITATIONS,"GET","/paper/"+e+"/citations",o)}},{key:"fetchUserInfo",value:function(){return this._apiRequest(d["default"].requestTypes.USER_INFO,"GET","/user/userinfo")}},{key:"fetchTopAuthors",value:function(){return this._apiRequest(d["default"].requestTypes.TOP_AUTHORS,"GET","/insights/authors")}},{key:"fetchTopUniversities",value:function(){return this._apiRequest(d["default"].requestTypes.TOP_UNIVERSITIES,"GET","/insights/universities")}},{key:"fetchTopPapers",value:function(){return this._apiRequest(d["default"].requestTypes.TOP_PAPERS,"GET","/insights/papers")}},{key:"addToReadingList",value:function(e,t){var n={paperId:e,paperTitle:t};return this._apiRequest(d["default"].requestTypes.ADD_TO_READING_LIST,"POST","/readinglist/add-entry",n)}},{key:"removeFromReadingList",value:function(e){var t={id:e};return this._apiRequest(d["default"].requestTypes.REMOVE_FROM_READING_LIST,"POST","/readinglist/delete-entry",t)}},{key:"login",value:function(e){this._lastLoginMethod=e,window.open(f["default"].apiUrl("/auth/"+e.toLowerCase()+"/oauth"),"oauthWindow","width=580,height=480,resizable,scrollbars")}},{key:"logout",value:function(){return this._apiRequest(d["default"].requestTypes.LOGOUT,"GET","/auth/logout")}},{key:"submitFeedback",value:function(e,t){var n={email:t,feedback:e,url:document.location.toString()};return f["default"].send({method:"POST",path:"/feedback",data:n,dataType:"application/x-www-form-urlencoded",extraHeaders:this._extraHeaders})}},{key:"subscribe",value:function(e,t){return f["default"].send({method:"POST",path:"/subscribe/list/"+e,data:{email:t},extraHeaders:this._extraHeaders})}},{key:"logError",value:function(e){f["default"].send({method:"POST",path:"/logging/error",data:e,extraHeaders:this._extraHeaders})}},{key:"recordMetricEvent",value:function(e){var t=this;setTimeout(function(){f["default"].send({method:"POST",path:"/metrics/event",data:e,extraHeaders:t._extraHeaders})},0)}},{key:"recordMetricEvents",value:function(e){var t=this;setTimeout(function(){f["default"].send({method:"POST",path:"/metrics/events",data:e,extraHeaders:t._extraHeaders})},0)}}]),e}();n["default"]=O},{"../constants.js":155,"../constants/sort-type":175,"../ga.js":180,"../metrics/UiMetricEvent":183,"../util.js":221,"./ApiRequest.js":4,merge:277,promise:282,querystring:293}],4:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../util.js"),u=o(s),l=e("promise"),c=r(l),f=e("superagent"),p=r(f),d=3e4,h=t.env.API_PORT||8080,y=(u.isBrowser?"":"http://localhost:"+h)+"/api/1",m={S2_UI_VERSION:"X-S2-UI-Version"},v=!0,g=function(){if(u.isBrowser){var e=Array.prototype.slice.apply(document.getElementsByTagName("meta")).filter(function(e){return"s2-ui-version"===e.getAttribute("name")}).shift();if(e)return e.getAttribute("content")}}(),b=function(){function e(t){var n=this,r=t.method,o=t.path,a=t.data,s=t.dataType,l=void 0===s?"application/json":s,f=t.extraHeaders,h=void 0===f?void 0:f,y=t.debug,b=void 0!==y&&y,_=t.timeout,w=void 0===_?d:_;i(this,e),this.req=(0,p["default"])(r,e.apiUrl(o)).set("Cache-Control","no-cache,no-store,must-revalidate,max-age=-1").type(l).timeout(w),void 0!==h&&Object.getOwnPropertyNames(h).forEach(function(e){n.req.set(e,h[e])}),v&&u.isBrowser&&this.req.set(m.S2_UI_VERSION,g),b&&this.req.query("debug=true"),void 0!==a&&("GET"===r?this.req.query(a):this.req.send(a)),this.promise=new c["default"](function(e,t){n.reject=t,n.resolve=e}),this.complete=!1,this.aborted=!1}return a(e,[{key:"send",value:function(e,t){var n=this;return this.aborted||this.complete||this.req.end(function(r,o){n.aborted||(n.complete=!0,r?"function"==typeof t?n.reject(t(r,o)):n.reject(r,o):"function"==typeof e?n.resolve(e(o)):n.resolve(o))}),this}},{key:"cancel",value:function(){this.complete||this.aborted||(this.aborted=!0,this.req.abort())}},{key:"then",value:function(){var e;return(e=this.promise).then.apply(e,arguments)}},{key:"done",value:function(){var e;return(e=this.promise).done.apply(e,arguments)}},{key:"catch",value:function(){var e;return(e=this.promise)["catch"].apply(e,arguments)}}],[{key:"apiUrl",value:function(e){return""+y+e}},{key:"send",value:function(t){return new e(t).send()}}]),e}();n["default"]=b}).call(this,e("_process"))},{"../util.js":221,_process:281,promise:282,superagent:468}],5:[function(e,t,n){(function(t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("../util"),s=r(a),u=function(){function e(t){o(this,e),this.assetsByHost=t}return i(e,[{key:"getUrl",value:function(e,t){return this.assetsByHost.has("*")?this.assetsByHost.get("*").get(t):this.assetsByHost.get(e).get(t)}}]),e}();n["default"]=u,u.load=function(){var e=void 0;if(t&&t.env){var n=JSON.parse('{"staging.semanticscholar.org":{"/robots.allow.txt":"https://dpc3zufy6q85y.cloudfront.net/robots.allow.9b7737fe22.txt","/robots.disallow.txt":"https://dpc3zufy6q85y.cloudfront.net/robots.disallow.d70680c7c1.txt","/img/chrome.png":"https://dpc3zufy6q85y.cloudfront.net/img/chrome.85d60f9e7f.png","/img/close.png":"https://dpc3zufy6q85y.cloudfront.net/img/close.cf25076276.png","/img/colors.png":"https://dpc3zufy6q85y.cloudfront.net/img/colors.804bf42548.png","/img/error-155x102.png":"https://dpc3zufy6q85y.cloudfront.net/img/error-155x102.f88ed7b9a1.png","/img/error-310x204.png":"https://dpc3zufy6q85y.cloudfront.net/img/error-310x204.8dfb62d1d8.png","/img/error.png":"https://dpc3zufy6q85y.cloudfront.net/img/error.68e22041cf.png","/img/favicon.png":"https://dpc3zufy6q85y.cloudfront.net/img/favicon.2daca6cd10.png","/img/firefox.png":"https://dpc3zufy6q85y.cloudfront.net/img/firefox.0d8a4dc914.png","/img/hero-800x660.jpg":"https://dpc3zufy6q85y.cloudfront.net/img/hero-800x660.d78910094f.jpg","/img/logos.png":"https://dpc3zufy6q85y.cloudfront.net/img/logos.821ea058be.png","/img/logos_retina.png":"https://dpc3zufy6q85y.cloudfront.net/img/logos_retina.c74452c7fd.png","/img/no_results.png":"https://dpc3zufy6q85y.cloudfront.net/img/no_results.a193f822a7.png","/img/not-found-155x102.png":"https://dpc3zufy6q85y.cloudfront.net/img/not-found-155x102.f1fbb96c4f.png","/img/not-found-310x204.png":"https://dpc3zufy6q85y.cloudfront.net/img/not-found-310x204.e218eb0298.png","/img/semantic_scholar_og.jpg":"https://dpc3zufy6q85y.cloudfront.net/img/semantic_scholar_og.f0a66e575b.jpg","/img/tiles.png":"https://dpc3zufy6q85y.cloudfront.net/img/tiles.f89280b745.png","/img/tiles_retina.png":"https://dpc3zufy6q85y.cloudfront.net/img/tiles_retina.f3d6ba4191.png","/img/unsupported-browser-error.png":"https://dpc3zufy6q85y.cloudfront.net/img/unsupported-browser-error.b793921a6a.png","/svg/icons.svg":"https://dpc3zufy6q85y.cloudfront.net/svg/icons.c4e2edb310.svg"},"www.semanticscholar.org":{"/robots.allow.txt":"https://dab4rbh62k56j.cloudfront.net/robots.allow.9b7737fe22.txt","/robots.disallow.txt":"https://dab4rbh62k56j.cloudfront.net/robots.disallow.d70680c7c1.txt","/img/chrome.png":"https://dab4rbh62k56j.cloudfront.net/img/chrome.85d60f9e7f.png","/img/close.png":"https://dab4rbh62k56j.cloudfront.net/img/close.cf25076276.png","/img/colors.png":"https://dab4rbh62k56j.cloudfront.net/img/colors.804bf42548.png","/img/error-155x102.png":"https://dab4rbh62k56j.cloudfront.net/img/error-155x102.f88ed7b9a1.png","/img/error-310x204.png":"https://dab4rbh62k56j.cloudfront.net/img/error-310x204.8dfb62d1d8.png","/img/error.png":"https://dab4rbh62k56j.cloudfront.net/img/error.68e22041cf.png","/img/favicon.png":"https://dab4rbh62k56j.cloudfront.net/img/favicon.2daca6cd10.png","/img/firefox.png":"https://dab4rbh62k56j.cloudfront.net/img/firefox.0d8a4dc914.png","/img/hero-800x660.jpg":"https://dab4rbh62k56j.cloudfront.net/img/hero-800x660.d78910094f.jpg","/img/logos.png":"https://dab4rbh62k56j.cloudfront.net/img/logos.821ea058be.png","/img/logos_retina.png":"https://dab4rbh62k56j.cloudfront.net/img/logos_retina.c74452c7fd.png","/img/no_results.png":"https://dab4rbh62k56j.cloudfront.net/img/no_results.a193f822a7.png","/img/not-found-155x102.png":"https://dab4rbh62k56j.cloudfront.net/img/not-found-155x102.f1fbb96c4f.png","/img/not-found-310x204.png":"https://dab4rbh62k56j.cloudfront.net/img/not-found-310x204.e218eb0298.png","/img/semantic_scholar_og.jpg":"https://dab4rbh62k56j.cloudfront.net/img/semantic_scholar_og.f0a66e575b.jpg","/img/tiles.png":"https://dab4rbh62k56j.cloudfront.net/img/tiles.f89280b745.png","/img/tiles_retina.png":"https://dab4rbh62k56j.cloudfront.net/img/tiles_retina.f3d6ba4191.png","/img/unsupported-browser-error.png":"https://dab4rbh62k56j.cloudfront.net/img/unsupported-browser-error.b793921a6a.png","/svg/icons.svg":"https://dab4rbh62k56j.cloudfront.net/svg/icons.c4e2edb310.svg"}}');return new u(s.objectToMap(n))}return e=new Map,new u(e)}}).call(this,e("_process"))},{"../util":221,_process:281}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("promise"),i=r(o),a=["moz","webkit","ms","o"],s=/start|end$/,u=45,l=!1,c=[],f=function(){c.forEach(function(e){return e()})},p={},d=!1,h={isBrowser:"undefined"!=typeof window,createScript:function(e){var t=document.createElement("script");return t.src=e,t.async=!0,t},loadScript:function(e){if(p.hasOwnProperty(e))return p[e];if(0!==document.querySelectorAll('script[src="'+e+'"]').length)return i["default"].resolve(e);var t=new i["default"](function(t,n){var r=document.head.appendChild(h.createScript(e)),o=function i(o){delete p[e],r.removeEventListener("load",i),r.removeEventListener("error",i),"load"===o.type?t(e):n(e)};r.addEventListener("load",o),r.addEventListener("error",o)});return p[e]=t,t},listenForScroll:function(e){return!l&&h.isBrowser&&(document.addEventListener("scroll",f),l=!0),c.push(e),this},stopListeningForScroll:function(e){var t=c.indexOf(e);t!==-1&&c.splice(t,1);var n=c.length;return 0===n&&h.isBrowser&&(document.removeEventListener("scroll",f),l=!1),n},offsetFromBody:function(e){return e?e.offsetParent&&e.offsetParent!==document.body?e.offsetTop+this.offsetFromBody(e.offsetParent):e.offsetTop:0},requestAnimationFrame:function(e){if(this.isBrowser)return window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,0)},once:function(e,t,n){var r=this.vendorAppropriateEventName(t),o=function i(){e.removeEventListener(r,i),n.apply(void 0,arguments)};return e.addEventListener(r,o)},vendorAppropriateEventName:function(e){if("on"+e.toLowerCase()in document.body)return e;for(var t=e.replace(s,""),n=[void 0].concat(a),r=!1;r===!1&&n.length>0;){var o=n.shift(),i=void 0!==o?o+t.substr(0,1).toUpperCase()+t.substr(1):t;i in document.body.style&&(r=o)}if(r){if("webkit"===r){var u=s.exec(e).shift();return u?r+e.substr(0,1).toUpperCase()+e.substr(1,e.length-u.length-1)+u.substr(0,1).toUpperCase()+u.substr(1):r+e.substr(0,1).toUpperCase()+e.substr(1)}return r+e}return e},scrollTop:function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)},smoothScrollTo:function(e,t){d||!function(){d=!0;var n=function r(){var n=h.offsetFromBody(e),o=h.scrollTop(),i=document.body.scrollHeight-window.innerHeight,a=Math.abs(Math.min(i,n)-o);a>0?h.requestAnimationFrame(function(){window.scrollBy(0,(n>o?1:-1)*Math.min(a,u)),r()}):(d=!1,"function"==typeof t&&t())};n()}()}};n["default"]=h},{promise:282}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../common/layout/AppHeader.jsx"),c=r(l),f=e("../common/layout/AppFooter.jsx"),p=r(f),d=e("../../../constants/HttpStatusMeta"),h=r(d),y=e("../../shared/general/ImmutableRenderComponent.jsx"),m=r(y),v=e("../../shared/message/InlineNotFoundMessage.jsx"),g=r(v),b=e("promise"),_=r(b),w=e("react"),S=(r(w),s("div",{},void 0,s("input",{type:"hidden",id:"error-status",value:"404"}),s(c["default"],{showSearchBar:!0}),s("section",{className:"container"},void 0,s(g["default"],{})),s(p["default"],{}))),T=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",
value:function(){return S}}],[{key:"getPageTitle",value:function(){return h["default"].NOT_FOUND.TITLE}},{key:"getPageMetaDescription",value:function(){return h["default"].NOT_FOUND.DESC}},{key:"willRouteTo",value:function(){return _["default"].resolve({status:404})}}]),t}(m["default"]);n["default"]=T},{"../../../constants/HttpStatusMeta":161,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/message/InlineNotFoundMessage.jsx":143,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,promise:282,react:465}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./author-header/AuthorPageHeader.jsx"),c=r(l),f=e("./publications-section/AuthorPublicationsSection.jsx"),p=r(f),d=e("../common/layout/AppFooter.jsx"),h=r(d),y=e("../common/layout/AppHeader.jsx"),m=r(y),v=e("../../shared/author/BaseAuthorPage.jsx"),g=r(v),b=e("../../shared/author/influence-graph/InfluenceGraph.jsx"),_=r(b),w=e("../../shared/loading/LoadingIndicator.jsx"),S=r(w),T=e("../../../browser"),x=r(T),P=e("../../../constants"),E=r(P),C=e("../../../stores/query"),O=r(C),R=e("merge"),k=r(R),j=e("react"),I=r(j),M=e("react-dom"),A=r(M),N=e("react-router"),D=s("div",{className:"flex-row-vcenter loading container"},void 0,s(S["default"],{}),"Loading author…"),L=s(N.RouteHandler,{}),q=s(m["default"],{showSearchBar:!0}),F=s(h["default"],{}),U=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={loading:s.context.authorStore.isLoading()||s.context.queryStore.isLoading(),author:s.context.authorStore.author},s.context.authorStore.registerComponent(s,function(){s.setState({loading:s.context.authorStore.isLoading()||s.context.queryStore.isLoading(),author:s.context.authorStore.author})}),s.context.queryStore.registerComponent(s,function(){s.setState({loading:s.context.authorStore.isLoading()||s.context.queryStore.isLoading()})}),s}return a(t,e),u(t,null,[{key:"willRouteTo",value:function(e,t){return e.authorStore.isNewOrCanonicalAuthor(t.params.authorId,t.params.slug)&&e.dispatcher.dispatch({actionType:E["default"].actions.QUERY_UPDATED,query:{}}),O["default"].executeQuery(e,t)}},{key:"contextTypes",get:function(){return{authorStore:I["default"].PropTypes.object.isRequired,queryStore:I["default"].PropTypes.object.isRequired,router:I["default"].PropTypes.func.isRequired}}}]),u(t,[{key:"renderLoading",value:function(){return D}},{key:"scrollToSearchResults",value:function(){var e=this,t=this.context.router.getCurrentQuery();if(t&&t.scrollToResults&&!this.state.loading){var n=A["default"].findDOMNode(this.refs["author-search-results"]);x["default"].smoothScrollTo(n,function(){e.context.router.replaceWith("authorProfile",e.context.router.getCurrentParams(),(0,k["default"])(e.context.router.getCurrentQuery(),{scrollToResults:void 0}))})}}},{key:"componentDidUpdate",value:function(){this.scrollToSearchResults()}},{key:"componentDidMount",value:function(){this.scrollToSearchResults()}},{key:"renderAuthorProfile",value:function(){return s("div",{className:"content"},void 0,s(c["default"],{author:this.state.author}),s("div",{className:"container author-page-content"},void 0,s(_["default"],{author:this.state.author}),I["default"].createElement(p["default"],{author:this.state.author,ref:"author-search-results"})),L)}},{key:"render",value:function(){return s("div",{className:"author-page"},void 0,q,this.state.loading?this.renderLoading():this.renderAuthorProfile(),this.state.loading?null:F)}}]),t}(g["default"]);n["default"]=U},{"../../../browser":6,"../../../constants":155,"../../../stores/query":217,"../../shared/author/BaseAuthorPage.jsx":103,"../../shared/author/influence-graph/InfluenceGraph.jsx":105,"../../shared/loading/LoadingIndicator.jsx":141,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,"./author-header/AuthorPageHeader.jsx":11,"./publications-section/AuthorPublicationsSection.jsx":15,merge:277,react:465,"react-dom":294,"react-router":322}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/histogram/Histogram.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("react"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=[{buckets:this.props.citationBuckets.toArray(),renderer:c["default"].bucketRenderers.selectedBuckets}];return s("div",{className:"author-page-citation-histogram citation-histogram"},void 0,s("div",{className:"flex-row"},void 0,s("div",{className:"author-citation-histogram-wrapper"},void 0,s(c["default"],{id:"author-page-histogram",bucketRenderers:e,renderPopover:this.props.renderPopover,renderAxis:this.props.showAxes,squashFatBuckets:!0,width:this.props.width,height:this.props.height,paddingLeft:this.props.noPadding?0:c["default"].DefaultPadding.LEFT+20,paddingRight:this.props.noPadding?0:c["default"].DefaultPadding.RIGHT,paddingTop:this.props.noPadding?0:c["default"].DefaultPadding.TOP,paddingBottom:this.props.noPadding?0:c["default"].DefaultPadding.BOTTOM,enableBarHoverEffect:!1}))))}}],[{key:"propTypes",value:function(){return{citationBuckets:h["default"].PropTypes.object.isRequired,width:h["default"].PropTypes.number.isRequired,height:h["default"].PropTypes.number.isRequired,showAxes:h["default"].PropTypes.bool.isRequired,renderPopover:h["default"].PropTypes.bool.isRequired,noPadding:h["default"].PropTypes.bool}}}]),t}(p["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/histogram/Histogram.jsx":127,react:465}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./AuthorCitationsHistogram.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../common/modal/Modal.jsx"),h=r(d),y=e("../../common/modal/ModalHeader.jsx"),m=r(y),v=e("react"),g=r(v),b=s(m["default"],{title:"Estimated Citations Per Year"}),_=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s(h["default"],{className:"author-citations-modal"},void 0,b,s("div",{className:"modal-content"},void 0,s(c["default"],{citationBuckets:this.props.data.citedByBuckets,citationVelocity:this.props.data.citationVelocity,renderPopover:!0,width:400,height:250,showAxes:!0})))}}],[{key:"propTypes",get:function(){return{data:g["default"].PropTypes.object.isRequired}}}]),t}(p["default"]);n["default"]=_},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../common/modal/Modal.jsx":51,"../../common/modal/ModalHeader.jsx":52,"./AuthorCitationsHistogram.jsx":9,react:465}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./AuthorStats.jsx"),c=r(l),f=e("../../common/button/FeedbackButton.jsx"),p=r(f),d=e("../../../shared/icon/Icon.jsx"),h=r(d),y=e("../../common/button/IconButton.jsx"),m=r(y),v=e("../../../shared/icon/IconBubble.jsx"),g=r(v),b=e("../../../shared/general/ImmutableRenderComponent.jsx"),_=r(b),w=e("../../common/date/LabeledDate.jsx"),S=r(w),T=e("../../common/button/ShareButton.jsx"),x=r(T),P=e("../../common/tooltip/Tooltip.jsx"),E=r(P),C=e("../../../../constants.js"),O=r(C),R=e("react"),k=r(R),j=e("react-router"),I=s("span",{className:"author-actions-trigger flex-row"},void 0,s(h["default"],{icon:"ellipsis",width:"16",height:"16"})),M=s(g["default"],{icon:"author",width:"36",height:"36"}),A=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"renderActionsTooltip",value:function(){var e=s("div",{className:"author-actions-tooltip"},void 0,s(S["default"],{label:"Last updated",date:this.props.author.lastModifiedDate}),s(p["default"],{buttonText:"Report Problems",modalId:O["default"].modalId.PROBLEMS}));return s(E["default"],{tooltipContent:e,tooltipPosition:"bottom-left",className:"author-actions flex-row-vcenter",tooltipClassName:"author-actions-tooltip button tooltip--small"},void 0,I)}},{key:"renderRecommendedPapersButton",value:function(){return this.context.uiOptionsStore.options.showAuthorRecommendations&&this.props.author.hasPaperRecommendations?s(j.Link,{to:"authorRecommendations",params:{authorId:this.props.author.id,slug:this.props.author.slug,count:10}},void 0,s(m["default"],{className:"button button--ghost",text:"Recommended Publications",iconProps:{icon:"doc",width:"12",height:"12"}})):null}},{key:"render",value:function(){return s("header",{className:"author-page-header"},void 0,s("div",{className:"flex-row-vcenter author-page-header-inner"},void 0,M,s("div",{className:"author-name-wrapper"},void 0,s("h1",{className:"author-name"},void 0,this.props.author.name),s("div",{className:"flex-row-vcenter button-row"},void 0,s(x["default"],{className:"button--experimental",title:this.props.author.name+" Author Profile - Semantic Scholar",message:"Check out "+this.props.author.name+" on Semantic Scholar"}),this.renderRecommendedPapersButton(),this.renderActionsTooltip())),s("div",{className:"author-stats-wrapper flex-row"},void 0,s(c["default"],{author:this.props.author}))))}}],[{key:"propTypes",value:function(){return{author:k["default"].PropTypes.object.isRequired}}},{key:"contextTypes",get:function(){return{dispatcher:k["default"].PropTypes.object.isRequired,uiOptionsStore:k["default"].PropTypes.object.isRequired}}}]),t}(_["default"]);n["default"]=A},{"../../../../constants.js":155,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,"../../../shared/icon/IconBubble.jsx":136,"../../common/button/FeedbackButton.jsx":20,"../../common/button/IconButton.jsx":21,"../../common/button/ShareButton.jsx":22,"../../common/date/LabeledDate.jsx":23,"../../common/tooltip/Tooltip.jsx":62,"./AuthorStats.jsx":12,react:465,"react-router":322}],12:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./AuthorCitationsHistogram.jsx"),f=o(c),p=e("../statistics/CitationVelocity.jsx"),d=o(p),h=e("../statistics/EstimatedCitations.jsx"),y=o(h),m=e("../../../shared/general/ImmutableRenderComponent.jsx"),v=o(m),g=e("../statistics/InfluentialCitations.jsx"),b=o(g),_=e("../../../../constants"),w=o(_),S=e("../../../../content/content"),T=o(S),x=e("../../../../constants/Interaction"),P=o(x),E=e("../../../../ga"),C=r(E),O=e("react"),R=o(O),k=u("span",{className:"histogram-title"},void 0,"Citations Per Year"),j=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"onStatClick",value:function(e){this.context.dispatcher.dispatch({actionType:P["default"].action.AUTHOR_STAT_CLICK,data:{interactionCategory:P["default"].category.AUTHOR,interactionType:P["default"].type.CLICK,interactionTarget:"Author Stat - "+e}})}},{key:"onStatHover",value:function(e){this.context.dispatcher.dispatch({actionType:P["default"].action.AUTHOR_STAT_HOVER,data:{interactionCategory:P["default"].category.AUTHOR,interactionType:P["default"].type.HOVER,interactionTarget:"Author Stat - "+e}})}},{key:"renderCitationHistogram",value:function(){return!this.props.author.statistics.citedByBuckets.isEmpty()&&this.props.author.statistics.estNumCitations.shouldDisplay()?u("div",{},void 0,u("li",{className:"author-page-stat histogram",onClick:this.showHistogramModal.bind(this)},void 0,u(f["default"],{citationBuckets:this.props.author.statistics.citedByBuckets,width:160,height:30,showAxes:!1,renderPopover:!1,noPadding:!0}),k)):null}},{key:"showHistogramModal",value:function(){this.context.dispatcher.dispatch({actionType:w["default"].actions.SHOW_MODAL,id:w["default"].modalId.AUTHOR_CITATIONS,data:this.props.author.statistics})}},{key:"showFeedbackModal",value:function(){C.showFeedbackForm(),this.context.dispatcher.dispatch({actionType:w["default"].actions.SHOW_MODAL,id:w["default"].modalId.PROBLEMS})}},{key:"renderStats",value:function(){return u("ul",{className:"author-page-stats flex-row"},void 0,u("li",{},void 0,u(b["default"],{influentialCitations:this.props.author.statistics.totalInfluentialCitationCount,authorId:this.props.author.id,slug:this.props.author.slug,author:this.props.author,onHover:this.onStatHover.bind(this),onClick:this.onStatClick.bind(this)})),u("li",{},void 0,u(d["default"],{statistics:this.props.author.statistics,authorId:this.props.author.id,slug:this.props.author.slug,onHover:this.onStatHover.bind(this),onClick:this.onStatClick.bind(this)})),u("li",{},void 0,u(y["default"],{statistics:this.props.author.statistics,authorId:this.props.author.id,slug:this.props.author.slug,onHover:this.onStatHover.bind(this),onClick:this.onStatClick.bind(this)})),this.renderCitationHistogram())}},{key:"renderEmptyMessage",value:function(){return u("div",{className:"inline-message empty-author-stats-error"},void 0,T["default"].getString("author.empty-stats.message")," ",T["default"].getString("author.empty-stats.error"),u("a",{onClick:this.showFeedbackModal.bind(this)},void 0,T["default"].getString("author.empty-stats.action")))}},{key:"render",value:function(){return this.props.author.statistics.hasDisplayableStats()?this.renderStats():this.renderEmptyMessage()}}],[{key:"contextTypes",get:function(){return{dispatcher:R["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{author:R["default"].PropTypes.object.isRequired}}}]),t}(v["default"]);n["default"]=j},{"../../../../constants":155,"../../../../constants/Interaction":164,"../../../../content/content":176,"../../../../ga":180,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../statistics/CitationVelocity.jsx":16,"../statistics/EstimatedCitations.jsx":17,"../statistics/InfluentialCitations.jsx":18,"./AuthorCitationsHistogram.jsx":9,react:465}],13:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../shared/paper/PaperMeta.jsx"),f=o(c),p=e("../../../shared/general/ImmutableRenderComponent.jsx"),d=o(p),h=e("../../../../content/content"),y=o(h),m=e("../../../../constants/Interaction"),v=o(m),g=e("../../../../constants/RecommendedPaperType"),b=o(g),_=e("../../../../util"),w=r(_),S=e("react-router"),T=e("react"),x=o(T),P=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"onRecommendedPaperClick",value:function(e){this.context.dispatcher.dispatch({actionType:v["default"].action.INTERACTIVE_EVENT,data:{interactionCategory:v["default"].category.RECOMMENDED_PAPERS,interactionType:v["default"].type.CLICK,interactionTarget:this.props.paper.id,index:this.props.index,location:e}})}},{key:"formatEntityList",value:function(e){return 0===e.size?null:1===e.size?e.first():e.slice(0,-1).join(", ")+" and "+e.last()}},{key:"explainText",value:function(e){var t="author.recommended-papers.explanation."+e.explainType;switch(e.explainType){case b["default"].AUTHORED_BY_CITED_AUTHOR:var n=this.formatEntityList(e.authors);return y["default"].getString(t,this.props.authorName,n);case b["default"].AUTHORED_BY_COAUTHOR:var r=this.formatEntityList(e.coauthors);return y["default"].getString(t,this.props.authorName,r);case b["default"].AUTHORED_TOPICS:var o=this.formatEntityList(e.topics),i=w.pluralize(e.nPapers,"publication");return y["default"].getString(t,this.props.authorName,i,o);case b["default"].CITED_BY_CITED_AUTHOR:var a=this.formatEntityList(e.authors);return y["default"].getString(t,a,this.props.authorName);case b["default"].CITED_BY_COAUTHOR:var s=this.formatEntityList(e.coauthors),u=w.pluralize(e.coauthors.size,"coauthor",!0);return y["default"].getString(t,u,s);case b["default"].CITED_BY_SIMILAR:var l=w.pluralize(e.nPapers,"publication");return y["default"].getString(t,l);case b["default"].CITED_TOPICS:var c=this.formatEntityList(e.topics),f=w.pluralize(e.nPapers,"publication");return y["default"].getString(t,this.props.authorName,f,c);case b["default"].CITES_USER:var p=w.pluralize(e.papers.size,"publication");return y["default"].getString(t,p,this.props.authorName);default:return null}}},{key:"render",value:function(){return u("article",{className:"recommended-paper paper-snippet"},void 0,u("header",{className:"paper-snippet__header"},void 0,u("h4",{className:"recommended-paper__title paper-snippet__title"},void 0,u(S.Link,{to:"paperDetail",onClick:this.onRecommendedPaperClick.bind(this,"title"),params:{paperId:this.props.paper.recommendedPaper.id,slug:this.props.paper.recommendedPaper.slug}},void 0,this.props.paper.recommendedPaper.title.text)),u(f["default"],{paper:this.props.paper.recommendedPaper,maxAuthors:6,gaClickCallback:this.onRecommendedPaperClick.bind(this,"author")})),u("div",{className:"recommended-paper__explanation text--gray"},void 0,this.props.paper.explain?this.explainText(this.props.paper.explain):null))}}],[{key:"propTypes",get:function(){return{paper:x["default"].PropTypes.object.isRequired,authorName:x["default"].PropTypes.string.isRequired,index:x["default"].PropTypes.number.isRequired}}},{key:"contextTypes",get:function(){return{dispatcher:x["default"].PropTypes.object.isRequired}}}]),t}(d["default"]);n["default"]=P},{"../../../../constants/Interaction":164,"../../../../constants/RecommendedPaperType":168,"../../../../content/content":176,"../../../../util":221,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/paper/PaperMeta.jsx":151,react:465,"react-router":322}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("./RecommendedPaper.jsx"),p=r(f),d=e("immutable"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.recommendedPapers.map(function(t,n){var r="rec-"+n;return s(p["default"],{paper:t,authorName:e.props.authorName,index:n},r)});return s("div",{className:"recommended-papers"},void 0,t)}}],[{key:"propTypes",get:function(){return{recommendedPapers:m["default"].PropTypes.instanceOf(h["default"].List).isRequired,authorName:m["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=v},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"./RecommendedPaper.jsx":13,immutable:275,react:465}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../search/SearchResults.jsx"),p=r(f),d=e("../../search/SearchLayoutOptions"),h=r(d),y=e("../../../../constants/sort-type"),m=r(y),v=e("react"),g=r(v),b=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={query:s.context.queryStore.getQueryString()},s.context.queryStore.registerComponent(s,function(){s.setState({query:s.context.queryStore.getQueryString()})}),s}return a(t,e),u(t,null,[{key:"contextTypes",get:function(){return{router:g["default"].PropTypes.func.isRequired,queryStore:g["default"].PropTypes.object.isRequired}}},{key:"PropTypes",get:function(){return{author:g["default"].PropTypes.object}}}]),u(t,[{key:"render",value:function(){var e=new h["default"]({showQueryEntity:!1,showGoogleScholarButton:!1,showSortExplanation:!0,filtersExpandedByDefault:!0,showPageNumber:!1,sortDisplayType:"tabs",scrollToTopOfPage:!1,searchResultLayout:{showSortStat:!0},sorts:m["default"].authorPaperSearch()});return s("div",{className:"author-publications-list"},void 0,s(p["default"],{layoutOptions:e}))}}]),t}(c["default"]);n["default"]=b},{"../../../../constants/sort-type":175,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../search/SearchLayoutOptions":88,"../../search/SearchResults.jsx":89,react:465}],16:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;
if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("../../../shared/histogram/CitationVelocityHistogram.jsx"),p=o(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=o(d),y=e("../../common/tooltip/Tooltip.jsx"),m=o(y),v=e("../../../../constants/Author"),g=o(v),b=e("../../../../format"),_=r(b),w=e("../../../../utils/routing/query-routes"),S=o(w),T=e("react-router"),x=e("react"),P=o(x),E=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),c(t,[{key:"renderTooltipExplanation",value:function(){return l(p["default"],{width:350,id:this.props.authorId+"Popover",entityId:this.props.authorId,citationStats:this.props.statistics})}},{key:"render",value:function(){if(this.props.statistics.estCitationVelocity.shouldDisplay()){var e=_.authorStatDisplayName(g["default"].CitationStatTypes.VELOCITY),t=_.estCitationVelocityValue(this.props.statistics.estCitationVelocity),n="author-stat",r=S["default"].routeForAuthorStatistic({authorId:this.props.authorId,slug:this.props.slug},g["default"].CitationStatTypes.VELOCITY);return l(m["default"],{tooltipClassName:"tooltip--default-size",tooltipPosition:"bottom-right",tooltipContent:this.renderTooltipExplanation(),className:""+g["default"].CitationStatTypes.VELOCITY.toLowerCase()},void 0,P["default"].createElement(T.Link,u({},r,{className:n,onMouseEnter:this.props.onHover?this.props.onHover.bind(null,e):null,onClick:this.props.onClick?this.props.onClick.bind(null,e):null}),l("span",{className:"author-stat-number"},void 0,t),l("span",{className:"author-stat-label"},void 0,e)))}return null}}],[{key:"propTypes",get:function(){return{statistics:P["default"].PropTypes.object.isRequired,authorId:P["default"].PropTypes.string.isRequired,slug:P["default"].PropTypes.string.isRequired,onClick:P["default"].PropTypes.func,onHover:P["default"].PropTypes.func}}}]),t}(h["default"]);n["default"]=E},{"../../../../constants/Author":156,"../../../../format":179,"../../../../utils/routing/query-routes":224,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/histogram/CitationVelocityHistogram.jsx":125,"../../common/tooltip/Tooltip.jsx":62,react:465,"react-router":322}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("../../../shared/histogram/EstimatedTotalCitationsHistogram.jsx"),p=o(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=o(d),y=e("../../common/tooltip/Tooltip.jsx"),m=o(y),v=e("../../../../constants/Author"),g=o(v),b=e("../../../../content/content"),_=o(b),w=e("../../../../format"),S=r(w),T=e("../../../../utils/routing/query-routes"),x=o(T),P=e("react-router"),E=e("react"),C=o(E),O=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),c(t,[{key:"renderTooltipExplanation",value:function(){var e=void 0;if(this.props.statistics.citedByBuckets)e=l(p["default"],{width:350,id:this.props.authorId+"Popover",entityId:this.props.authorId.toString(),citationStats:this.props.statistics,type:"author"});else{var t=_["default"].getString("author.total.explanation",this.props.statistics.estNumCitations.min,this.props.statistics.estNumCitations.max),n=_["default"].getString("author.total.explanationExtra");e=l("div",{},void 0,l("p",{dangerouslySetInnerHTML:{__html:t}}),l("p",{dangerouslySetInnerHTML:{__html:n}}))}return e}},{key:"render",value:function(){if(this.props.statistics.estNumCitations.value>0){var e=S.authorStatDisplayName(g["default"].CitationStatTypes.TOTAL,this.props.statistics.estNumCitations.value),t=S.estCitationsValue(this.props.statistics.estNumCitations.value,!0),n="author-stat",r=x["default"].routeForAuthorStatistic({authorId:this.props.authorId,slug:this.props.slug},g["default"].CitationStatTypes.TOTAL);return l(m["default"],{tooltipClassName:"tooltip--default-size",tooltipPosition:"bottom-right",tooltipContent:this.renderTooltipExplanation(),className:""+g["default"].CitationStatTypes.TOTAL.toLowerCase()},void 0,C["default"].createElement(P.Link,u({},r,{className:n,onMouseEnter:this.props.onHover?this.props.onHover.bind(null,e):null,onClick:this.props.onClick?this.props.onClick.bind(null,e):null}),l("span",{className:"author-stat-number"},void 0,t),l("span",{className:"author-stat-label"},void 0,e)))}return null}}],[{key:"propTypes",get:function(){return{statistics:C["default"].PropTypes.object.isRequired,authorId:C["default"].PropTypes.string.isRequired,slug:C["default"].PropTypes.string.isRequired,onClick:C["default"].PropTypes.func,onHover:C["default"].PropTypes.func}}}]),t}(h["default"]);n["default"]=O},{"../../../../constants/Author":156,"../../../../content/content":176,"../../../../format":179,"../../../../utils/routing/query-routes":224,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/histogram/EstimatedTotalCitationsHistogram.jsx":126,"../../common/tooltip/Tooltip.jsx":62,react:465,"react-router":322}],18:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=o(f),d=e("../../common/tooltip/Tooltip.jsx"),h=o(d),y=e("../../../../constants/Author"),m=o(y),v=e("../../../../content/content"),g=o(v),b=e("../../../../format"),_=r(b),w=e("../../../../utils/routing/query-routes"),S=o(w),T=e("../../../../util"),x=r(T),P=e("react-router"),E=e("react"),C=o(E),O=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),c(t,[{key:"renderTooltipExplanation",value:function(){var e=x.pluralize(this.props.influentialCitations,g["default"].getString("citations.influential.label")),t=_.authorStatExplanation(m["default"].CitationStatTypes.INFLUENTIAL);return l("div",{className:"author-stat-explanation"},void 0,l("h4",{className:"author-stat-name"},void 0,e),l("p",{dangerouslySetInnerHTML:{__html:t}}),l("p",{dangerouslySetInnerHTML:{__html:_.authorStatExplanationExtra(m["default"].CitationStatTypes.INFLUENTIAL)}}))}},{key:"render",value:function(){if(this.props.influentialCitations>0){var e=_.authorStatDisplayName(m["default"].CitationStatTypes.INFLUENTIAL,this.props.influentialCitations),t=x.format(this.props.influentialCitations),n="author-stat is-key",r=S["default"].routeForAuthorStatistic({authorId:this.props.authorId,slug:this.props.slug},m["default"].CitationStatTypes.INFLUENTIAL);return l(h["default"],{tooltipClassName:"tooltip--default-size",tooltipPosition:"bottom-right",tooltipContent:this.renderTooltipExplanation(),className:""+m["default"].CitationStatTypes.INFLUENTIAL.toLowerCase()},void 0,C["default"].createElement(P.Link,u({},r,{className:n,onMouseEnter:this.props.onHover?this.props.onHover.bind(null,e):null,onClick:this.props.onClick?this.props.onClick.bind(null,e):null}),l("span",{className:"author-stat-number"},void 0,t),l("span",{className:"author-stat-label"},void 0,e)))}return null}}],[{key:"propTypes",get:function(){return{influentialCitations:C["default"].PropTypes.number.isRequired,authorId:C["default"].PropTypes.string.isRequired,slug:C["default"].PropTypes.string.isRequired,onClick:C["default"].PropTypes.func,onHover:C["default"].PropTypes.func}}}]),t}(p["default"]);n["default"]=O},{"../../../../constants/Author":156,"../../../../content/content":176,"../../../../format":179,"../../../../util":221,"../../../../utils/routing/query-routes":224,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../common/tooltip/Tooltip.jsx":62,react:465,"react-router":322}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../common/dropdown/DropdownMenu.jsx"),c=r(l),f=e("../../../shared/icon/Icon.jsx"),p=r(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("react"),m=r(y),v=s("span",{className:"icon-wrapper"},void 0,s(p["default"],{icon:"disclosure",width:"12",height:"12",className:"icon--down"})),g=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={showMenu:!1},s}return a(t,e),u(t,null,[{key:"propTypes",get:function(){return{buttonContent:m["default"].PropTypes.node.isRequired,dropdownContent:m["default"].PropTypes.node.isRequired}}}]),u(t,[{key:"triggerDropdownMenu",value:function(){this.setState({showMenu:!this.state.showMenu})}},{key:"render",value:function(){return s("span",{className:"icon-button dropdown-button"},void 0,s("span",{className:"dropdown-button__content"},void 0,this.props.buttonContent),s(c["default"],{content:this.props.dropdownContent,showMenu:this.state.showMenu},void 0,v))}}]),t}(h["default"]);n["default"]=g},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,"../../common/dropdown/DropdownMenu.jsx":24,react:465}],20:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./IconButton.jsx"),f=o(c),p=e("../../../shared/general/ImmutableRenderComponent.jsx"),d=o(p),h=e("../../../../constants"),y=o(h),m=e("../../../../ga.js"),v=r(m),g=e("react"),b=o(g),_=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)))}return s(t,e),l(t,null,[{key:"propTypes",value:function(){return{buttonText:b["default"].PropTypes.string.isRequired,modalId:b["default"].PropTypes.string}}},{key:"contextTypes",get:function(){return{dispatcher:b["default"].PropTypes.object.isRequired}}}]),l(t,[{key:"showModal",value:function(){v.showFeedbackForm(),this.context.dispatcher.dispatch({actionType:y["default"].actions.SHOW_MODAL,id:this.props.modalId?this.props.modalId:y["default"].modalId.FEEDBACK})}},{key:"render",value:function(){return u("div",{className:"feedback"},void 0,u(f["default"],{onClick:this.showModal.bind(this),iconProps:{icon:"feedback",width:"12",height:"12"},text:this.props.buttonText}))}}]),t}(d["default"]);n["default"]=_},{"../../../../constants":155,"../../../../ga.js":180,"../../../shared/general/ImmutableRenderComponent.jsx":123,"./IconButton.jsx":21,react:465}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../../shared/icon/Icon.jsx"),p=r(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,n=c["default"].createElement(p["default"],this.props.iconProps),r=this.props.text?s("span",{className:"flex-row-vcenter"},void 0,n,this.props.text):n,o=Object.getOwnPropertyNames(t.propTypes),i=this.props.className?"icon-button "+this.props.className:"icon-button",a=Object.getOwnPropertyNames(this.props).reduce(function(t,n){return o.indexOf(n)===-1&&(t[n]=e.props[n]),t},{className:i,onClick:this.props.onClick});return c["default"].createElement(this.props.tagName||"button",a,r)}}],[{key:"propTypes",get:function(){return{onClick:c["default"].PropTypes.func,iconProps:c["default"].PropTypes.object.isRequired,text:c["default"].PropTypes.node,tagName:c["default"].PropTypes.string,className:c["default"].PropTypes.string}}}]),t}(h["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,react:465}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("./IconButton.jsx"),p=r(f),d=e("../../../shared/share/ShareLinks.jsx"),h=r(d),y=e("../tooltip/Tooltip.jsx"),m=r(y),v=e("classnames"),g=r(v),b=e("react"),_=r(b),w=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,g["default"])("share-button button",this.props.className);return s(m["default"],{tooltipContent:s(h["default"],{message:this.props.message,title:this.props.title}),tooltipPosition:this.props.tooltipPosition,className:"share",tooltipClassName:"share-tooltip"},void 0,s(p["default"],{className:e,text:"Share",iconProps:{icon:"share",width:"15",height:"15"}}))}}],[{key:"propTypes",get:function(){return{title:_["default"].PropTypes.string.isRequired,message:_["default"].PropTypes.string,className:_["default"].PropTypes.string,tooltipPosition:_["default"].PropTypes.string}}},{key:"defaultProps",get:function(){return{tooltipPosition:"bottom-left"}}}]),t}(c["default"]);n["default"]=w},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/share/ShareLinks.jsx":153,"../tooltip/Tooltip.jsx":62,"./IconButton.jsx":21,classnames:240,react:465}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("moment"),p=r(f),d=e("react"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,p["default"])(new Date(this.props.date)).format("MMMM D, YYYY");return s("div",{className:"labeled-date"},void 0,this.props.label,": ",s("span",{className:"updated-date"},void 0,e))}}],[{key:"propTypes",value:function(){return{label:h["default"].PropTypes.string,date:h["default"].PropTypes.number}}}]),t}(c["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,moment:278,react:465}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("classnames"),p=r(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={showMenu:void 0!==s.props.showMenu&&s.props.showMenu},s}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.showMenu===!1?this.setState({showMenu:!1}):e.showMenu===!0&&this.setState({showMenu:!1})}},{key:"componentDidMount",value:function(){var e=this;this._handleBodyClick=function(t){if(e.state.showMenu){for(var n=t.target,r=!1;n&&n!==document.body&&!r;)r=n===e.refs.dropdown,r||(n=n.parentElement);r||e.setState({showMenu:!1})}},document.body.addEventListener("click",this._handleBodyClick)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this._handleBodyClick)}},{key:"componentDidUpdate",value:function(e,t){t.showMenu!==this.state.showMenu&&(this.state.showMenu&&this.props.onShow?this.props.onShow():this.props.onHide&&this.props.onHide())}},{key:"render",value:function(){var e=this,t=c["default"].cloneElement(this.props.children,{onClick:function(){return e.setState({showMenu:!e.state.showMenu})},className:(0,p["default"])(this.props.children.props.className,"dropdown-menu-trigger")}),n=this.state.showMenu?s("div",{className:"dropdown-menu-content"},void 0,this.props.content):null,r=(0,p["default"])("dropdown-menu",{"dropdown-is-visible":this.state.showMenu},this.props.className);return c["default"].createElement("div",{className:r,ref:"dropdown"},t,n)}}],[{key:"propTypes",get:function(){return{content:c["default"].PropTypes.element.isRequired,className:c["default"].PropTypes.string,onShow:c["default"].PropTypes.func,onHide:c["default"].PropTypes.func,showMenu:c["default"].PropTypes.bool}}}]),t}(h["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,classnames:240,react:465}],25:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("react"),f=o(c),p=e("../../../../constants"),d=o(p),h=e("../../../shared/icon/Icon.jsx"),y=o(h),m=e("../../../shared/general/ImmutableRenderComponent.jsx"),v=o(m),g=e("react-router"),b=e("../../../../ga.js"),_=r(b),w=u("h4",{className:"dropdown-header"},void 0,"Help"),S=u(y["default"],{icon:"faq",width:"18",height:"18"}),T=u("span",{},void 0,"Frequently Asked Questions"),x=u(y["default"],{icon:"feedback",width:"18",height:"18"}),P=u("span",{},void 0,"Send Feedback"),E=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"showFeedbackModal",value:function(){_.showFeedbackForm(),this.context.dispatcher.dispatch({actionType:d["default"].actions.SHOW_MODAL,id:d["default"].modalId.FEEDBACK}),this.props.onShowFeedback&&this.props.onShowFeedback()}},{key:"render",value:function(){return u("div",{},void 0,w,u("ul",{className:"dropdown-list"},void 0,u("li",{className:"dropdown-list-item"},void 0,u(g.Link,{className:"flex-row",to:"faq",onClick:_.trackViewFAQPage},void 0,S,T)),u("li",{className:"dropdown-list-item"},void 0,u("a",{className:"flex-row",onClick:this.showFeedbackModal.bind(this)},void 0,x,P))))}}],[{key:"propTypes",get:function(){return{onShowFeedback:f["default"].PropTypes.func}}},{key:"contextTypes",get:function(){return{dispatcher:f["default"].PropTypes.object.isRequired}}}]),t}(v["default"]);n["default"]=E},{"../../../../constants":155,"../../../../ga.js":180,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,react:465,"react-router":322}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("react"),a=r(i),s=e("../../../../browser.js"),u=r(s),l=a["default"].createClass({displayName:"ScrollWaypoint",propTypes:{onActive:a["default"].PropTypes.func,children:a["default"].PropTypes.any},onScroll:function(){this.isActive=this.getIsActive(),this.isActive&&"function"==typeof this.props.onActive&&this.props.onActive()},getIsActive:function(){var e=document.documentElement.scrollHeight-window.innerHeight,t=u["default"].scrollTop();return t>=this.offset.top&&t<=this.offset.bottom||t>=e},componentDidMount:function(){var e=u["default"].offsetFromBody(this.refs.container);this.offset={top:e,bottom:e+this.refs.container.scrollHeight},this.isActive=this.getIsActive(),this.isActive&&"function"==typeof this.props.onActive&&this.props.onActive(),u["default"].listenForScroll(this.onScroll)},componentWillUnmount:function(){u["default"].stopListeningForScroll(this.onScroll)},render:function(){return a["default"].createElement("div",o({},this.props,{ref:"container"}),this.props.children)}});n["default"]=l},{"../../../../browser.js":6,react:465}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("react"),a=r(i),s=e("react-immutable-render-mixin"),u=r(s),l=e("../../../../browser.js"),c=r(l),f=a["default"].createClass({displayName:"Sticky",mixins:[u["default"]],propTypes:{offset:a["default"].PropTypes.number,className:a["default"].PropTypes.string,children:a["default"].PropTypes.any},getInitialState:function(){return{stuck:!1}},onScroll:function(){c["default"].scrollTop()>this._breakpoint?this.setState({stuck:!0}):this.setState({stuck:!1})},componentDidMount:function(){this._breakpoint=c["default"].offsetFromBody(this.refs.container)-this.props.offset,c["default"].listenForScroll(this.onScroll)},componentWillUnmount:function(){c["default"].stopListeningForScroll(this.onScroll)},render:function(){var e=this.props.className||"";this.state.stuck&&(e+=" is-stuck");var t=this.state.stuck?{position:"fixed",top:this.props.offset||0}:null;return a["default"].createElement("div",o({},this.props,{className:e,ref:"container",style:t}),this.props.children)}});n["default"]=f},{"../../../../browser.js":6,react:465,"react-immutable-render-mixin":296}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../../../constants"),p=r(f),d=e("react"),h=r(d),y=e("react-router"),m=s("a",{href:"http://allenai.org",className:"footer-ai2-logo",target:"_blank"},void 0,"The Allen Institute for Artificial Intelligence"),v=s("a",{href:"http://allenai.org",target:"_blank"},void 0,"AI2"),g=s("br",{}),b=s(y.Link,{to:"termsOfService"},void 0,"Terms of Service"),_=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=function(t){e.context.dispatcher.dispatch({actionType:p["default"].actions.SHOW_MODAL,id:t})};return s("footer",{className:"footer"},void 0,s("div",{className:"container flex-row-vcenter"},void 0,m,s("span",{className:"flex-right text--right"},void 0,"Proudly built by ",v," with the help of our ",s("button",{className:"link-button",onClick:t.bind(void 0,p["default"].modalId.COLLABORATORS)},void 0,"Collaborators")," using these ",s("button",{className:"link-button",onClick:t.bind(void 0,p["default"].modalId.SOURCES)},void 0,"Sources"),".",g,b,".")))}}],[{key:"contextTypes",get:function(){return{dispatcher:h["default"].PropTypes.object.isRequired}}}]),t}(c["default"]);n["default"]=_},{"../../../../constants":155,"../../../shared/general/ImmutableRenderComponent.jsx":123,react:465,"react-router":322}],29:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("../dropdown/DropdownMenu.jsx"),s=o(a),u=e("../dropdown/HeaderHelpMenu.jsx"),l=o(u),c=e("../button/IconButton.jsx"),f=o(c),p=e("../../home/ReleaseNotes.jsx"),d=o(p),h=e("./Searchbar.jsx"),y=o(h),m=e("../../common/button/ShareButton.jsx"),v=o(m),g=e("../login/UserInfo.jsx"),b=o(g),_=e("../../../../content/content"),w=o(_),S=e("../../../../stores/query"),T=o(S),x=e("../../../../ga.js"),P=r(x),E=e("classnames"),C=o(E),O=e("react-immutable-render-mixin"),R=o(O),k=e("react-router"),j=e("react"),I=o(j),M=i(b["default"],{}),A=I["default"].createClass({displayName:"AppHeader",mixins:[R["default"],T["default"].Mixin],propTypes:{cssClass:I["default"].PropTypes.string,showUserControls:I["default"].PropTypes.bool,showSearchBar:I["default"].PropTypes.bool.isRequired,showReleaseNotes:I["default"].PropTypes.bool,showShareButton:I["default"].PropTypes.bool,back:I["default"].PropTypes.object,children:I["default"].PropTypes.arrayOf(I["default"].PropTypes.element)},getDefaultProps:function(){return{showUserControls:!0,showShareButton:!1,showReleaseNotes:!1}},getInitialState:function(){return{showHelpDropdown:!1,query:this.getQueryStore().getQueryString()}},onQueryStoreChange:function(){this.setState({query:this.getQueryStore().getQueryString()})},hideHelpDropdownMenu:function(){this.setState({showHelpDropdown:!this.state.showHelpDropdown})},render:function(){var e=this,t=this.props.showUserControls?M:null,n=null;if(this.props.showReleaseNotes){var r=function(){e.setState({showReleaseNotesDropdown:!1},function(){e.setState({showReleaseNotesDropdown:void 0})})};n=i(s["default"],{className:"release-notes-dropdown",content:i(d["default"],{onShowFeedback:r}),onShow:P.showReleaseNotes,showMenu:this.state.showReleaseNotesDropdown},void 0,i(f["default"],{className:"header-button release-notes-button",text:"What's New?",iconProps:{icon:"tag",width:"12",height:"12"}}))}var o=i(l["default"],{onShowFeedback:this.hideHelpDropdownMenu}),a=i(s["default"],{content:o,onShow:P.trackShowHelp,showMenu:this.state.showHelpDropdown},void 0,i(f["default"],{className:"header-button",iconProps:{icon:"help",width:"14",height:"14"}})),u=this.props.showShareButton?i(v["default"],{className:"header-button",title:w["default"].getString("home.share.title")}):null;return i("header",{className:(0,C["default"])("header",this.props.cssClass)},void 0,i("div",{className:"container flex-row-vcenter"},void 0,i(k.Link,{onClick:P.homeButtonClick,to:"app",className:"logo"}),this.props.showSearchBar?i(y["default"],{query:this.state.query,onChange:this.setQuery}):null,i("div",{className:"header-right flex-right flex-row-vcenter"},void 0,n,u,t,a,this.props.children)))}});n["default"]=A},{"../../../../content/content":176,"../../../../ga.js":180,"../../../../stores/query":217,"../../common/button/ShareButton.jsx":22,"../../home/ReleaseNotes.jsx":69,"../button/IconButton.jsx":21,"../dropdown/DropdownMenu.jsx":24,"../dropdown/HeaderHelpMenu.jsx":25,"../login/UserInfo.jsx":41,"./Searchbar.jsx":33,classnames:240,react:465,"react-immutable-render-mixin":296,"react-router":322}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"container flex-row"},void 0,this.props.children)}}],[{key:"propTypes",get:function(){return{children:p["default"].PropTypes.array.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../../../shared/general/ImmutableRenderComponent.jsx":123,react:465}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("classnames"),p=r(f),d=e("react"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,p["default"])("main-column",this.props.className);return s("main",{className:e},void 0,this.props.children)}}],[{key:"propTypes",get:function(){return{children:h["default"].PropTypes.node,className:h["default"].PropTypes.string}}}]),t}(c["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,classnames:240,react:465}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/icon/Icon.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("classnames"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,h["default"])("page-section__title flex-row-vcenter",this.props.className);return s("div",{className:e},void 0,s(c["default"],{icon:this.props.icon,width:"32",height:"32",className:"page-section__title__icon fill--primary"}),s("h4",{className:"page-section__title__text text--lg"},void 0,this.props.text))}}],[{key:"propTypes",get:function(){return{className:m["default"].PropTypes.string,icon:m["default"].PropTypes.string.isRequired,text:m["default"].PropTypes.string.isRequired}}}]),t}(p["default"]);n["default"]=v},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,classnames:240,react:465}],33:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-immutable-render-mixin"),l=o(u),c=e("immutable"),f=o(c),p=e("../../../shared/icon/Icon.jsx"),d=o(p),h=e("../../../../thirdparty.js"),y=e("../../../../ga.js"),m=r(y),v=50,g=i("button",{type:"submit",className:"button"},void 0,i(d["default"],{icon:"search",width:"16",height:"16"})),b=s["default"].createClass({displayName:"SearchBar",mixins:[l["default"]],propTypes:{query:s["default"].PropTypes.string,onChange:s["default"].PropTypes.func,focusOnLoad:s["default"].PropTypes.bool},contextTypes:{api:s["default"].PropTypes.object.isRequired,router:s["default"].PropTypes.func.isRequired},getBlankState:function(e){return{query:e.query||"",suggestQuery:null,showSuggestions:!1,suggestions:f["default"].Map(),selectedSuggestionIndex:null}},getInitialState:function(){return this.getBlankState(this.props)},componentWillReceiveProps:function(e){this.fetchSuggestions.cancel(),this.setState(this.getBlankState(e))},componentDidMount:function(){var e=this;this.props.focusOnLoad&&this.refs.query.focus(),this.fetchSuggestions=(0,h.debounce)(function(t){e.context.api.fetchSearchSuggestions(t).done(function(n){if(e.isMounted()){var r=e.state.suggestions.size<v?e.state.suggestions:f["default"].Map(),o=r.set(t,n.resultData.suggestions);e.state.query.trim()===t?e.setState({suggestQuery:t,suggestions:o}):e.setState({suggestions:o})}})},150,{leading:!0,trailing:!0})},componentWillUnmount:function(){this.fetchSuggestions&&this.fetchSuggestions.cancel()},onChange:function(e){var t=e.target.value,n=t.trim();0===n.length||this.state.suggestions.has(n)?this.setState({query:t,suggestQuery:n,showSuggestions:!0,selectedSuggestionIndex:null}):(this.setState({query:t,showSuggestions:!0,selectedSuggestionIndex:null}),this.fetchSuggestions(n))},fireOnChange:function(e){e&&e.preventDefault(),this.state.query.trim().length>0&&"function"==typeof this.props.onChange&&(this.props.onChange(this.state.query.trim()),m.searchBoxQuery(this.state.query))},selectAutocomplete:function(e){var t=this.getSuggestions()[e];m.autoCompleteSelect(t.text),this.setState({query:t.text,suggestQuery:null,showSuggestions:!1,selectedSuggestionIndex:null},this.fireOnChange)},getSuggestions:function(){return this.state.suggestQuery?this.state.suggestions.get(this.state.suggestQuery)||[]:[]},getSelectedSuggestion:function(){var e=this.getSuggestions();return null!==this.state.selectedSuggestionIndex&&e.length>0?e[this.state.selectedSuggestionIndex].text:""},onKeyDown:function(e){switch(e.keyCode){case 13:this.state.suggestQuery&&null!==this.state.selectedSuggestionIndex?this.selectAutocomplete(this.state.selectedSuggestionIndex):this.setState({suggestQuery:null,showSuggestions:!1,selectedSuggestionIndex:null},this.fireOnChange);break;case 9:var t=this.getSelectedSuggestion();t&&(e.preventDefault(),this.setState({query:t,suggestQuery:null,showSuggestions:!1,selectedSuggestionIndex:null}));break;case 27:this.setState({suggestQuery:null,showSuggestions:!1,selectedSuggestionIndex:null});break;case 38:var n=this.getSuggestions();if(this.state.showSuggestions&&this.state.suggestQuery&&n.length>0){e.preventDefault();var r=void 0;r=null===this.state.selectedSuggestionIndex?n.length-1:0===this.state.selectedSuggestionIndex?null:this.state.selectedSuggestionIndex-1,this.setState({selectedSuggestionIndex:r})}break;case 40:var o=this.getSuggestions();if(this.state.showSuggestions&&this.state.suggestQuery&&o.length>0){e.preventDefault();var i=void 0;i=null===this.state.selectedSuggestionIndex?0:this.state.selectedSuggestionIndex===o.length-1?null:this.state.selectedSuggestionIndex+1,this.setState({selectedSuggestionIndex:i})}}},onBlur:function(){this.setState({suggestQuery:null,showSuggestions:!1,selectedSuggestionIndex:null})},onFocus:function(){this.setState({suggestQuery:this.state.query||null,showSuggestions:!0})},onSuggestionEnter:function(e){this.setState({selectedSuggestionIndex:e})},onSuggestionLeave:function(){this.setState({selectedSuggestionIndex:null})},onSuggestionMouseDown:function(e){e.preventDefault()},renderSuggestions:function(){var e=this,t=this.getSuggestions();return this.state.suggestQuery&&this.state.showSuggestions&&t.length>0?(m.autoCompleteShow(this.state.suggestQuery),i("ul",{className:"dropdown-menu",onMouseLeave:this.onSuggestionLeave},void 0,t.map(function(t,n){var r=n===e.state.selectedSuggestionIndex?"flex-row-vcenter suggestion cursor":"flex-row-vcenter suggestion";return i("li",{className:r,onMouseMove:e.onSuggestionEnter.bind(e,n),onMouseDown:e.onSuggestionMouseDown,onClick:e.selectAutocomplete.bind(e,n)},n,i(d["default"],{icon:t.type,width:"16",height:"16",className:"type-icon"}),i("span",{},void 0,t.text))}))):null},render:function(){return i("form",{className:"search-bar",autoComplete:"off",action:this.context.router.namedRoutes.search.path,onSubmit:this.fireOnChange},void 0,i("div",{className:"flex-row"},void 0,s["default"].createElement("input",{type:"search",name:"q",className:"input form-input",placeholder:"Search",ref:"query",onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange,value:this.state.query}),g),this.renderSuggestions())}});n["default"]=b},{"../../../../ga.js":180,"../../../../thirdparty.js":220,"../../../shared/icon/Icon.jsx":135,immutable:275,react:465,"react-immutable-render-mixin":296}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("classnames"),p=r(f),d=e("react"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,p["default"])("column-wrapper",this.props.className),t=(0,p["default"])("sidebar","sidebar-"+this.props.leftOrRight,{collapsed:this.props.collapsed});return s("section",{className:t},void 0,s("div",{className:e},void 0,this.props.children))}}],[{key:"propTypes",get:function(){return{className:h["default"].PropTypes.string,collapsed:h["default"].PropTypes.bool,leftOrRight:h["default"].PropTypes.string,children:h["default"].PropTypes.node.isRequired}}}]),t}(c["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,classnames:240,react:465}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../general/Sticky.jsx"),p=r(f),d=e("./StickyNavItem.jsx"),h=r(d),y=e("classnames"),m=r(y),v=e("react"),g=r(v),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=(0,m["default"])("sticky-nav",this.props.className),n=this.props.navSections.map(function(t,n){var r="sticky-nav-"+n;return s(h["default"],{name:t.get("name"),icon:t.get("icon"),href:t.get("id"),isActive:t.get("id")===e.props.activeNavId},r)});return s(p["default"],{offset:30},void 0,s("nav",{className:t},void 0,s("ul",{},void 0,n)))}}],[{key:"propTypes",value:function(){return{activeNavId:g["default"].PropTypes.string.isRequired,navSections:g["default"].PropTypes.object.isRequired,className:g["default"].PropTypes.string}}}]),t}(c["default"]);n["default"]=b},{"../../../../shared/general/ImmutableRenderComponent.jsx":123,"../../general/Sticky.jsx":27,"./StickyNavItem.jsx":36,classnames:240,react:465}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../../shared/icon/Icon.jsx"),c=r(l),f=e("../../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("classnames"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e="#"+this.props.href,t=(0,h["default"])("sticky-nav__item",{"is-active":this.props.isActive});return s("li",{className:t},void 0,s("a",{className:"sticky-nav__item__link flex-row-vcenter",href:e},void 0,s(c["default"],{icon:this.props.icon,className:"sticky-nav__icon",width:"22",height:"22"}),this.props.name))}}],[{key:"propTypes",value:function(){return{name:m["default"].PropTypes.string.isRequired,icon:m["default"].PropTypes.string.isRequired,href:m["default"].Proptypes.string.isRequired,isActive:m["default"].PropTypes.bool}}}]),t}(p["default"]);n["default"]=v},{"../../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../../shared/icon/Icon.jsx":135,classnames:240,react:465}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=(r(f),function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("li",{className:"tab"},void 0,this.props.children)}}]),t}(c["default"]));n["default"]=p},{"../../../../shared/general/ImmutableRenderComponent.jsx":123,react:465}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("ul",{className:"tabs flex-row"},void 0,this.props.children)}}],[{key:"propTypes",get:function(){return{children:p["default"].PropTypes.node.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../../../../shared/general/ImmutableRenderComponent.jsx":123,react:465}],39:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});
if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../shared/icon/Icon.jsx"),f=o(c),p=e("../../../shared/general/ImmutableRenderComponent.jsx"),d=o(p),h=e("../../../../content/content"),y=o(h),m=e("../../../../utils/routing/history"),v=o(m),g=e("../../../../format"),b=r(g),_=e("../../../../ga"),w=r(_),S=e("../../../../util"),T=r(S),x=e("react-router"),P=e("react"),E=o(P),C=u("span",{className:"back-link__icon"},void 0,u(f["default"],{icon:"disclosure",width:"10",height:"10",className:"fill--primary"})),O=u("span",{className:"back-link__icon"},void 0,u(f["default"],{icon:"disclosure",width:"10",height:"10",className:"fill--primary"})),R=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),u=s.context.historyStore.previous();if(u){var l=T.rootPath(u);if(s.path=u,"author"===l&&s.context.authorStore.author){var c=b.possessiveSuffix(s.context.authorStore.author.name);s.content=y["default"].getString("general.backTo.authorProfile",c)}else"search"===l&&s.context.queryStore.getQueryString()?s.content=y["default"].getString("general.backTo.serp",s.context.queryStore.getQueryString()):s.content=y["default"].getString("general.backTo.general")}return s}return s(t,e),l(t,null,[{key:"contextTypes",get:function(){return{authorStore:E["default"].PropTypes.object.isRequired,historyStore:E["default"].PropTypes.object.isRequired,queryStore:E["default"].PropTypes.object.isRequired,router:E["default"].PropTypes.func.isRequired}}}]),l(t,[{key:"goBack",value:function(e){e.preventDefault(),w.trackBackToClick(this.path);var t=!v["default"].maybeRouteToPriorPath(this.context.router,this.context.historyStore,this.path);t||this.context.router.transitionTo(this.path)}},{key:"render",value:function(){var e=C;return this.path&&this.content?u("a",{className:"back-link",href:this.path,onClick:this.goBack.bind(this)},void 0,O,u("span",{dangerouslySetInnerHTML:{__html:this.content}})):u(x.Link,{className:"back-link",to:"home",onClick:w.trackBackToClick.bind(void 0,"/")},void 0,e,y["default"].getString("general.backTo.home"))}}]),t}(d["default"]);n["default"]=R},{"../../../../content/content":176,"../../../../format":179,"../../../../ga":180,"../../../../util":221,"../../../../utils/routing/history":223,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,react:465,"react-router":322}],40:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-immutable-render-mixin"),l=o(u),c=e("../../../shared/icon/Icon.jsx"),f=o(c),p=e("../../../../ga.js"),d=r(p),h=[{name:"Facebook",icon:"facebook"},{name:"Twitter",icon:"twitter"},{name:"Google",icon:"google"}],y=s["default"].PropTypes.oneOf(["modal","drop-down"]),m=s["default"].createClass({displayName:"LoginMethod",mixins:[l["default"]],propTypes:{icon:s["default"].PropTypes.string.isRequired,name:s["default"].PropTypes.string.isRequired,componentStyle:y},login:function(e,t){d.loginClick(e),this.context.api.login(e),t.stopPropagation()},contextTypes:{api:s["default"].PropTypes.object.isRequired},renderForModal:function(){return i("li",{className:"login-item",onClick:this.login.bind(this,this.props.name)},void 0,i("div",{className:"wrapper flex-row-vcenter"},void 0,i(f["default"],{icon:this.props.icon,width:"25",height:"25"}),i("span",{className:"login-item-text"},void 0,"Sign in using ",this.props.name)))},renderForDropDown:function(){return i("li",{className:"login-item",onClick:this.login.bind(this,this.props.name)},void 0,this.props.name)},render:function(){return"modal"===this.props.componentStyle?this.renderForModal():this.renderForDropDown()}}),v=s["default"].createClass({displayName:"LoginMethods",mixins:[l["default"]],propTypes:{componentStyle:y},getDefaultProps:function(){return{componentStyle:"drop-down"}},render:function(){var e=this;return i("div",{className:"auth"},void 0,i("section",{className:"auth-methods popover"},void 0,i("ul",{},void 0,h.map(function(t){return i(m,{componentStyle:e.props.componentStyle,name:t.name,icon:t.icon},t.name)}))))}});n["default"]=v},{"../../../../ga.js":180,"../../../shared/icon/Icon.jsx":135,react:465,"react-immutable-render-mixin":296}],41:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("../../../../stores/auth"),s=o(a),u=e("../../../../constants"),l=o(u),c=e("../dropdown/DropdownMenu.jsx"),f=o(c),p=e("../button/IconButton.jsx"),d=o(p),h=e("../../../../stores/reading-list"),y=o(h),m=e("../../../../ga"),v=r(m),g=e("react-immutable-render-mixin"),b=o(g),_=e("react-router"),w=e("react"),S=o(w),T=i("li",{className:"empty"},void 0,"(Empty)"),x=i("h4",{className:"reading-list-header"},void 0,"Reading List"),P=S["default"].createClass({displayName:"UserInfo",mixins:[b["default"],s["default"].Mixin,y["default"].Mixin],contextTypes:{api:S["default"].PropTypes.object.isRequired,dispatcher:S["default"].PropTypes.object.isRequired},getInitialState:function(){return{user:this.getAuthStore().getUser(),readingList:this.getReadingListStore().getReadingList(),isReadingListVisible:!1}},getDefaultProps:function(){return{showSectionNav:!1}},onAuthStoreChange:function(){this.setState({user:this.getAuthStore().getUser()})},onReadingListStoreChange:function(){this.setState({readingList:this.getReadingListStore().getReadingList()})},login:function(){v.loginClick("header"),this.context.dispatcher.dispatch({actionType:l["default"].actions.SHOW_MODAL,id:l["default"].modalId.LOGIN})},logout:function(){this.context.api.logout()},onReadingListRemove:function(e,t){v.removeFromReadingList("reading list",e,t),this.removeFromReadingList(e)},onReadingListItemClicked:function(e,t){var n=this;v.readingListEntryClick(e,t),this.setState({showReadingList:!1},function(){n.setState({showReadingList:void 0})})},renderReadingList:function(){var e=this,t=this.state.readingList.get("entries").map(function(t,n){return i("li",{},t.paperId,i(_.Link,{to:"paperDetailById",onClick:e.onReadingListItemClicked.bind(e,t.paperId,n),className:"reading-list-link",params:{paperId:t.paperId}},void 0,t.paperTitle),i(d["default"],{iconProps:{icon:"x",width:"12",height:"12"},className:"flex-right reading-list-remove",onClick:e.onReadingListRemove.bind(e,t.paperId,n)}))}),n=t.size>0?t:T,r=i("ul",{},void 0,n);return i("div",{className:"reading-list"},void 0,x,r)},renderLoggedOut:function(){return i("div",{},void 0,i("nav",{className:"flex-row-vcenter"},void 0,i("li",{},void 0,i(d["default"],{onClick:this.login,className:"header-button",text:"Sign in",iconProps:{icon:"reading-list",width:"16",height:"16"}}))))},renderLoggedIn:function(){return i("div",{className:"tooltip-parent reading-list-tooltip-parent"},void 0,i("nav",{className:"flex-row-vcenter"},void 0,i("li",{className:"logged-in-user-name"},void 0,this.state.user.displayName),i("li",{},void 0,i(f["default"],{content:this.renderReadingList(),onShow:v.viewReadingList,showMenu:this.state.showReadingList,className:"reading-list-dropdown-menu"},void 0,i(d["default"],{className:"header-button",iconProps:{icon:"reading-list",width:"16",height:"16"},text:this.state.readingList.get("totalCount")+""}))),i("li",{},void 0,i("button",{className:"button header-button",onClick:this.logout},void 0,"Sign out"))))},render:function(){return this.state.user?this.renderLoggedIn():this.renderLoggedOut()}});n["default"]=P},{"../../../../constants":155,"../../../../ga":180,"../../../../stores/auth":211,"../../../../stores/reading-list":218,"../button/IconButton.jsx":21,"../dropdown/DropdownMenu.jsx":24,react:465,"react-immutable-render-mixin":296,"react-router":322}],42:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../../shared/icon/Icon.jsx"),p=r(f),d=e("../button/IconButton.jsx"),h=r(d),y=e("../../../shared/message/MessagesBase.jsx"),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return c["default"].createElement("li",{className:this.getClassNames(),ref:"message"},s("div",{className:"msg-title flex-row-vcenter"},void 0,s(p["default"],{className:"msg-type-icon",icon:"msg-"+this.props.message.type,width:"17",height:"17"}),s("span",{className:"msg-title-text"},void 0,this.props.message.title),s(h["default"],{className:"close-modal-button",iconProps:{icon:"x",width:"15",height:"15 "},onClick:this.hideHandler.bind(this)})),s("div",{className:"msg-text"},void 0,this.props.message.text))}}]),t}(y.MessageBase),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"renderImpl",value:function(){var e=this,t=this.state.messages.take(this.props.max).map(function(t){return s(m,{message:t,onClose:e.closeMessage.bind(e)},t.id)});return s("ul",{className:this.getClassNames()},void 0,t)}}],[{key:"propTypes",get:function(){return{max:c["default"].PropTypes.number.isRequired}}}]),t}(y.MessagesBase);n["default"]=v},{"../../../shared/icon/Icon.jsx":135,"../../../shared/message/MessagesBase.jsx":144,"../button/IconButton.jsx":21,react:465}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/icon/Icon.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../../../constants"),h=r(d),y=e("../../../../constants/Interaction"),m=r(y),v=e("react"),g=r(v),b=s(c["default"],{height:"30",width:"30",icon:"doc-warning",className:"inline-message__icon fill--gray"}),_=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.context.dispatcher.isDispatching()?setTimeout(function(){e.onMount()},1):this.onMount()}},{key:"onMount",value:function(){this.context.dispatcher.dispatch({actionType:m["default"].action.POOR_METADATA_WARNING,data:{interactionCategory:m["default"].category.POOR_METADATA_WARNING,interactionType:m["default"].type.SHOW}})}},{key:"onFeedbackClick",value:function(){this.context.dispatcher.dispatch({actionType:h["default"].actions.SHOW_MODAL,id:h["default"].modalId.FEEDBACK})}},{key:"render",value:function(){return s("div",{className:"inline-message flex-row-vcenter"},void 0,b,s("span",{},void 0,"Some of this data may be incorrect. If you see an error, please ",s("strong",{},void 0,s("a",{onClick:this.onFeedbackClick.bind(this)},void 0,"let us know")),"."))}}],[{key:"contextTypes",get:function(){return{dispatcher:g["default"].PropTypes.object.isRequired}}}]),t}(p["default"]);n["default"]=_},{"../../../../constants":155,"../../../../constants/Interaction":164,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,react:465}],44:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("react"),f=o(c),p=e("../tooltip/Tooltip.jsx"),d=o(p),h=e("../../../shared/icon/Icon.jsx"),y=o(h),m=e("../../../../constants"),v=o(m),g=e("../../../../ga.js"),b=r(g),_=u(y["default"],{height:"15",width:"15",icon:"doc-warning"}),w=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={showTooltip:!1},s}return s(t,e),l(t,[{key:"componentDidMount",value:function(){b.poorMetaWarningRendered()}},{key:"render",value:function(){var e=this,t=function(){e.setState({showTooltip:!1},function(){e.context.dispatcher.dispatch({actionType:v["default"].actions.SHOW_MODAL,id:v["default"].modalId.FEEDBACK})})},n=u("span",{},void 0,"Some of this data may be incorrect. If you see an error, please ",u("a",{onClick:t},void 0,"let us know"),".");return u("div",{className:"poor-metadata-warning"},void 0,u(d["default"],{tooltipContent:n,tooltipPosition:"bottom-left",tooltipIsVisible:this.state.showTooltip,className:"flex-row-vcenter"},void 0,_))}}],[{key:"contextTypes",get:function(){return{dispatcher:f["default"].PropTypes.object.isRequired}}}]),t}(f["default"].Component);n["default"]=w},{"../../../../constants":155,"../../../../ga.js":180,"../../../shared/icon/Icon.jsx":135,"../tooltip/Tooltip.jsx":62,react:465}],45:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../../shared/loading/LoadingIndicator.jsx"),p=r(f),d=e("../../common/modal/Modal.jsx"),h=r(d),y=e("../../common/modal/ModalHeader.jsx"),m=r(y),v=e("../../author/author-header/RecommendedPapers.jsx"),g=r(v),b=e("../../../../content/content"),_=r(b),w=e("../../../../utils/routing/history"),S=r(w),T=e("promise"),x=r(T),P=e("react"),E=r(P),C=10,O=s(p["default"],{}),R=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={author:s.context.authorStore.author,loading:s.context.authorStore.isLoadingRecommendations(),recommendations:s.context.authorStore.recommendations},s.context.authorStore.registerComponent(s,function(){s.setState({author:s.context.authorStore.author,loading:s.context.authorStore.isLoadingRecommendations(),recommendations:s.context.authorStore.recommendations})}),s}return a(t,e),u(t,null,[{key:"willRouteTo",value:function(e,t){return e.authorStore.recommendations?x["default"].resolve(e.authorStore.recommendations):e.api.fetchAuthorPaperRecommendations(t.params.authorId,C)}},{key:"contextTypes",get:function(){return{authorStore:E["default"].PropTypes.object.isRequired,dispatcher:E["default"].PropTypes.object.isRequired,historyStore:E["default"].PropTypes.object.isRequired,router:E["default"].PropTypes.func.isRequired}}}]),u(t,[{key:"onToggleClose",value:function(){var e={to:"authorProfile",params:{authorId:this.state.author.id,slug:this.state.author.slug}},t=S["default"].maybeRouteToPrior(this.context.router,this.context.historyStore,e);t||this.context.router.transitionTo(e.to,e.params)}},{key:"renderLoading",value:function(){return s("div",{className:"loading flex-row-vcenter flex-column flex-grow"},void 0,O,_["default"].getString("author.recommended-papers.loading-papers"))}},{key:"renderRecommendedPapers",value:function(){return this.state.recommendations.isEmpty()?s("div",{className:"no-recommendations text--gray flex-row-vcenter flex-column flex-grow"},void 0,_["default"].getString("author.recommended-papers.no-papers")):s(g["default"],{recommendedPapers:this.state.recommendations,authorName:this.state.author.name})}},{key:"render",value:function(){var e=_["default"].getString("author.recommended-papers.title",this.state.author.name);return s(h["default"],{className:"modal--large author-recommendations-modal flex-column"},void 0,s(m["default"],{title:e,onCloseButtonClicked:this.onToggleClose.bind(this)}),s("div",{className:"modal-content flex-grow flex-row-vcenter flex-column"},void 0,this.state.loading?this.renderLoading():this.renderRecommendedPapers()))}}]),t}(c["default"]);n["default"]=R},{"../../../../content/content":176,"../../../../utils/routing/history":223,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/loading/LoadingIndicator.jsx":141,"../../author/author-header/RecommendedPapers.jsx":14,"../../common/modal/Modal.jsx":51,"../../common/modal/ModalHeader.jsx":52,promise:282,react:465}],46:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("../../../../constants/citation-style"),s=o(a),u=e("./Modal.jsx"),l=o(u),c=e("./ModalHeader.jsx"),f=o(c),p=e("../layout/tabs/Tab.jsx"),d=o(p),h=e("../layout/tabs/Tabs.jsx"),y=o(h),m=e("../../../../utils/citation-util"),v=e("../../../../ga"),g=r(v),b=e("classnames"),_=o(b),w=e("react-immutable-render-mixin"),S=o(w),T=e("react"),x=o(T),P=x["default"].createClass({displayName:"CiteModal",mixins:[S["default"]],propTypes:{data:x["default"].PropTypes.object.isRequired},getInitialState:function(){return{activeTab:s["default"].BIBTEX,position:l["default"].Position.CENTERED}},selectCitationText:function(){var e=window.getSelection();this.refs.cite&&e&&e.selectAllChildren(this.refs.cite)},focusCurrentCitation:function(){this.refs.cite&&(this.refs.cite.focus(),this.selectCitationText())},componentDidMount:function(){this.focusCurrentCitation(),g.showCiteModal(this.props.data.id),g.showCitationType(s["default"][Object.keys(s["default"]).shift()]),this.setState({position:l["default"].Position.FIXED})},setActiveTab:function(e){this.setState({activeTab:e},this.focusCurrentCitation,g.showCitationType(e))},render:function(){var e=this,t=Object.keys(s["default"]).map(function(t,n){var r=(0,_["default"])("tab__button",{"is-active":e.state.activeTab===s["default"][t]});return i(d["default"],{},n,i("button",{className:r,onClick:e.setActiveTab.bind(e,s["default"][t])},void 0,s["default"][t]))});return i(l["default"],{className:"cite-modal",position:this.state.position},void 0,i(f["default"],{title:"Cite"},void 0,i(y["default"],{},void 0,t)),i("div",{className:"padded"},void 0,x["default"].createElement("cite",{tabIndex:"0",ref:"cite",onClick:this.selectCitationText,dangerouslySetInnerHTML:{__html:(0,m.getCitation)(this.props.data,this.state.activeTab)}})))}});n["default"]=P},{"../../../../constants/citation-style":173,"../../../../ga":180,"../../../../utils/citation-util":222,"../layout/tabs/Tab.jsx":37,"../layout/tabs/Tabs.jsx":38,"./Modal.jsx":51,"./ModalHeader.jsx":52,classnames:240,react:465,"react-immutable-render-mixin":296}],47:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../button/IconButton.jsx"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s(h["default"],{className:"close-modal-button",iconProps:{icon:"x",width:"20",height:"20"},onClick:this.props.onClick})}}],[{key:"propTypes",get:function(){return{onClick:c["default"].PropTypes.func.isRequired}}}]),t}(p["default"]);n["default"]=y},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../button/IconButton.jsx":21,react:465}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("./Modal.jsx"),p=r(f),d=e("./ModalHeader.jsx"),h=r(d),y=e("react"),m=(r(y),s(p["default"],{className:"collaborators-modal"},void 0,s(h["default"],{title:"Collaborators"}),s("div",{className:"modal-content"},void 0,s("p",{},void 0,"We thank our external collaborators:"),s("ul",{className:"collaborators flex-row"},void 0,s("li",{},void 0,s("em",{},void 0,"Douglas Downey"),s("span",{},void 0,"Northwestern University")),s("li",{},void 0,s("em",{},void 0,"Aria Haghighi"),s("span",{},void 0,"Pioneer Square Labs")),s("li",{},void 0,s("em",{},void 0,"Marti Hearst"),s("span",{},void 0,"UC Berkeley")),s("li",{},void 0,s("em",{},void 0,"Andrew McCallum"),s("span",{},void 0,"University of Massachusetts Amherst")),s("li",{},void 0,s("em",{},void 0,"Lee Giles"),s("span",{},void 0,"and the ",s("a",{href:"http://citeseerx.ist.psu.edu/",target:"_blank"},void 0,"CiteSeer")," team")),s("li",{},void 0,s("em",{},void 0,"Pancake Labs"),s("span",{},void 0,"Seattle, WA")),s("li",{},void 0,s("em",{},void 0,"Reinaldo Bergamaschi"),s("span",{},void 0," and the ",s("a",{href:"http://academic.odysci.com/",target:"_blank"},void 0,"OdySci Academic")," team")),s("li",{},void 0,s("em",{},void 0,"Jie Tang"),s("span",{},void 0," and the ",s("a",{href:"https://aminer.org/",target:"_blank"},void 0,"AMiner")," team")))))),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return m}}]),t}(c["default"]);n["default"]=v},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"./Modal.jsx":51,"./ModalHeader.jsx":52,react:465}],49:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-immutable-render-mixin"),l=o(u),c=e("../../../../constants"),f=o(c),p=e("./Modal.jsx"),d=o(p),h=e("./ModalHeader.jsx"),y=o(h),m=e("../../../../ga"),v=r(m),g=s["default"].createClass({displayName:"FeedbackModal",mixins:[l["default"]],contextTypes:{dispatcher:s["default"].PropTypes.object.isRequired,messageStore:s["default"].PropTypes.object.isRequired,api:s["default"].PropTypes.object.isRequired},propTypes:{modalTitle:s["default"].PropTypes.string,modalText:s["default"].PropTypes.string,buttonText:s["default"].PropTypes.string},getInitialState:function(){return{submitting:!1,feedbackWasSubmitted:!1}},submitFeedback:function(e){var t=this;v.submitFeedback(),e.preventDefault();var n=this.refs.email.value.trim(),r=this.refs.feedback.value.trim();r.length>0&&(this.setState({submitting:!0
}),this.context.api.submitFeedback(r,n).then(function(){t.context.messageStore.addSuccess("Your feedback has been submitted.","Thanks!"),t.setState({submitting:!1,feedbackWasSubmitted:!0},function(){t.context.dispatcher.dispatch({actionType:f["default"].actions.HIDE_MODAL})})},function(){t.context.messageStore.addError("Sorry, something went wrong. Please try again later."),t.setState({submitting:!1})}))},componentDidMount:function(){this.refs.email.focus()},maybeTrackCancelEvent:function(){this.state.feedbackWasSubmitted||v.cancelFeedback()},render:function(){var e=this.props.modalTitle||"Submit Feedback",t=this.props.modalText||"Help us improve Semantic Scholar:",n=this.props.buttonText||"Submit Feedback";return i(d["default"],{className:"feedback-modal",onHidden:this.maybeTrackCancelEvent},void 0,i(y["default"],{title:e}),i("div",{className:"modal-content"},void 0,i("p",{},void 0,t),i("form",{onSubmit:this.submitFeedback},void 0,i("p",{},void 0,s["default"].createElement("input",{type:"email",placeholder:"Your email (Optional)",ref:"email"})),i("p",{},void 0,s["default"].createElement("textarea",{placeholder:"Enter your feedback…",rows:"4",ref:"feedback",required:!0})),i("div",{className:"submit-row"},void 0,i("input",{type:"submit",className:"button large-button blue-button",value:this.state.submitting?"Submitting…":n,disabled:this.state.submitting})))))}});n["default"]=g},{"../../../../constants":155,"../../../../ga":180,"./Modal.jsx":51,"./ModalHeader.jsx":52,react:465,"react-immutable-render-mixin":296}],50:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("react"),f=(o(c),e("../../../shared/general/ImmutableRenderComponent.jsx")),p=o(f),d=e("../login/LoginMethods.jsx"),h=o(d),y=e("./Modal.jsx"),m=o(y),v=e("./ModalHeader.jsx"),g=o(v),b=e("../../../../ga"),_=r(b),w=u(h["default"],{componentStyle:"modal"}),S=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return u(m["default"],{className:"login-modal"},void 0,u(g["default"],{title:"Sign In",onCloseButtonClicked:_.loginCancel}),w)}}]),t}(p["default"]);n["default"]=S},{"../../../../ga":180,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../login/LoginMethods.jsx":40,"./Modal.jsx":51,"./ModalHeader.jsx":52,react:465}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("classnames"),p=r(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("../../../../constants"),m=r(y),v=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={},s.onKeyDown=s.onKeyDown.bind(s),s}return a(t,e),u(t,[{key:"maybeSetFixedPosition",value:function(){this.props.position===t.Position.FIXED?this.setState({coords:{left:this.refs.modal.offsetLeft+"px",top:this.refs.modal.offsetTop+"px"}}):this.setState({coords:void 0})}},{key:"hideModal",value:function(){this.context.dispatcher.dispatch({actionType:m["default"].actions.HIDE_MODAL})}},{key:"onKeyDown",value:function(e){27===e.keyCode&&this.context.dispatcher.dispatch({actionType:m["default"].actions.HIDE_MODAL})}},{key:"componentDidMount",value:function(){this.maybeSetFixedPosition(),window.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentWillUnmount",value:function(){"function"==typeof this.props.onHidden&&this.props.onHidden(),window.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"componentDidUpdate",value:function(e){e.position!==this.props.position&&this.maybeSetFixedPosition()}},{key:"render",value:function(){var e=t.Position.FIXED===this.props.position&&this.state.coords,n=(0,p["default"])("modal",{"modal-position-fixed":e},this.props.className),r=e?this.state.coords:void 0;return s("div",{className:"modal-container",onClick:this.hideModal.bind(this)},void 0,c["default"].createElement("div",{className:n,onClick:function(e){return e.stopPropagation()},style:r,ref:"modal"},this.props.children))}}],[{key:"contextTypes",get:function(){return{dispatcher:c["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{className:c["default"].PropTypes.string,position:c["default"].PropTypes.string,onHidden:c["default"].PropTypes.func}}}]),t}(h["default"]);n["default"]=v,v.Position={CENTERED:"centered",FIXED:"fixed"}},{"../../../../constants":155,"../../../shared/general/ImmutableRenderComponent.jsx":123,classnames:240,react:465}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("./CloseModalButton.jsx"),h=r(d),y=e("../../../../constants"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=function(){e.context.dispatcher.dispatch({actionType:m["default"].actions.HIDE_MODAL}),e.props.onCloseButtonClicked&&e.props.onCloseButtonClicked()};return s("header",{className:"flex-row-vcenter modal-header"},void 0,s("h2",{},void 0,this.props.title),this.props.children,s("span",{className:"flex-right"},void 0,s(h["default"],{onClick:t})))}}],[{key:"contextTypes",get:function(){return{dispatcher:c["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{title:c["default"].PropTypes.string.isRequired,onCloseButtonClicked:c["default"].PropTypes.func}}}]),t}(p["default"]);n["default"]=v},{"../../../../constants":155,"../../../shared/general/ImmutableRenderComponent.jsx":123,"./CloseModalButton.jsx":47,react:465}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("../../author/author-header/AuthorCitationsModal.jsx"),a=r(i),s=e("./CiteModal.jsx"),u=r(s),l=e("./CollaboratorsModal.jsx"),c=r(l),f=e("./FeedbackModal.jsx"),p=r(f),d=e("../../../shared/author/influence-graph/node/InfluenceGraphModal.jsx"),h=r(d),y=e("./LoginModal.jsx"),m=r(y),v=e("./SourcesModal.jsx"),g=r(v),b=e("../../../../constants"),_=r(b),w=e("../../../../content/content"),S=r(w),T=e("../../../../stores/modal"),x=r(T),P=e("react-immutable-render-mixin"),E=r(P),C=e("react"),O=r(C),R=o(c["default"],{}),k=o(p["default"],{}),j=o(m["default"],{}),I=o(g["default"],{}),M=O["default"].createClass({displayName:"ModalManager",mixins:[E["default"],x["default"].Mixin],contextTypes:{dispatcher:O["default"].PropTypes.object.isRequired},getInitialState:function(){return{visibleModalId:void 0,data:void 0,key:void 0}},onModalStoreChange:function(e,t,n){this.setState({visibleModalId:e,data:t,key:n})},render:function(){if(void 0===this.state.visibleModalId)return null;switch(this.state.visibleModalId){case _["default"].modalId.CITE:return o(u["default"],{data:this.state.data});case _["default"].modalId.COLLABORATORS:return R;case _["default"].modalId.FEEDBACK:return k;case _["default"].modalId.PROBLEMS:return o(p["default"],{buttonText:S["default"].getString("modal.problems.submitButton"),modalTitle:S["default"].getString("modal.problems.text"),modalText:S["default"].getString("modal.problems.title")});case _["default"].modalId.LOGIN:return j;case _["default"].modalId.SOURCES:return I;case _["default"].modalId.AUTHOR_CITATIONS:return o(a["default"],{data:this.state.data});case _["default"].modalId.INFLUENTIAL_PAPERS:return o(h["default"],{data:this.state.data,type:this.state.key});default:return null}}});n["default"]=M},{"../../../../constants":155,"../../../../content/content":176,"../../../../stores/modal":215,"../../../shared/author/influence-graph/node/InfluenceGraphModal.jsx":111,"../../author/author-header/AuthorCitationsModal.jsx":10,"./CiteModal.jsx":46,"./CollaboratorsModal.jsx":48,"./FeedbackModal.jsx":49,"./LoginModal.jsx":50,"./SourcesModal.jsx":54,react:465,"react-immutable-render-mixin":296}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("./Modal.jsx"),h=r(d),y=e("./ModalHeader.jsx"),m=r(y),v=e("../../../../constants"),g=r(v),b=s("br",{}),_=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("li",{},void 0,s("strong",{},void 0,s("a",{href:this.props.href,target:"_blank"},void 0,this.props.name)),b,s("div",{className:"source-description"},void 0,this.props.description))}}],[{key:"propTypes",get:function(){return{href:c["default"].PropTypes.string.isRequired,name:c["default"].PropTypes.string.isRequired,description:c["default"].PropTypes.string.isRequired}}}]),t}(p["default"]),w=s(m["default"],{title:"Sources"}),S=s("p",{},void 0,"Semantic Scholar uses the following data sources:"),T=s("ul",{className:"sources-list"},void 0,s(_,{href:"http://arxiv.org/",name:"ArXiv",description:"Open access to e-prints in Physics, Mathematics, Computer Science, Quantitative Biology, Quantitative Finance and Statistics."}),s(_,{href:"http://dblp.uni-trier.de/",name:"DBLP",description:"The dblp computer science bibliography is the online reference for open bibliographic information on computer science journals and proceedings."}),s(_,{href:"http://citeseerx.ist.psu.edu/index",name:"CiteSeer",description:"Scientific literature digital library and search engine."}),s(_,{href:"http://academic.odysci.com/",name:"OdySci Academic",description:"A website for searching and ranking technical publications."}),s(_,{href:"https://aminer.org/",name:"AMiner",description:"Mining deep knowledge from scientific sources."})),x=s("span",{},void 0,"Interested in adding your data to our index?"),P=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=function(){e.context.dispatcher.dispatch({actionType:g["default"].actions.SHOW_MODAL,id:g["default"].modalId.FEEDBACK})};return s(h["default"],{},void 0,w,s("div",{className:"modal-content"},void 0,S,T,s("div",{className:"flex-row-vcenter sources-footer"},void 0,x,s("button",{onClick:t,className:"button flex-right"},void 0,"Let us Know"))))}}],[{key:"contextTypes",get:function(){return{dispatcher:c["default"].PropTypes.object.isRequired}}}]),t}(p["default"]);n["default"]=P},{"../../../../constants":155,"../../../shared/general/ImmutableRenderComponent.jsx":123,"./Modal.jsx":51,"./ModalHeader.jsx":52,react:465}],55:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-immutable-render-mixin"),l=o(u),c=e("react-router"),f=e("../../../shared/paper/PaperMeta.jsx"),p=o(f),d=e("../../../shared/general/HighlightedField.jsx"),h=o(d),y=e("../tooltip/Tooltip.jsx"),m=o(y),v=e("../../../shared/icon/Icon.jsx"),g=o(v),b=e("../../../../format"),_=r(b),w=e("../../../../util.js"),S=r(w),T=e("../../../../ga.js"),x=r(T),P=e("classnames"),E=o(P),C=i(g["default"],{icon:"details",width:"12",height:"12"}),O=i("strong",{},void 0,"strongly influenced"),R=i("strong",{},void 0,"strongly influenced"),k=i("strong",{},void 0,"Sorry, this paper is not in our corpus."),j=s["default"].createClass({displayName:"Citation",mixins:[l["default"]],propTypes:{citationType:s["default"].PropTypes.string.isRequired,sort:s["default"].PropTypes.string.isRequired,result:s["default"].PropTypes.object.isRequired,index:s["default"].PropTypes.number.isRequired},getInitialState:function(){return{showingAllCitations:!1}},componentWillReceiveProps:function(){this.setState({showingAllCitations:!1})},componentWillUnmount:function(){clearTimeout(this._timeout)},trackCitationClick:function(e){return x.citationClick(this.props.citationType,this.props.sort,this.props.index,this.props.result.id,this.props.result.isKey,e)},renderTitle:function(){var e=""!==this.props.result.title.text?this.props.result.title:{text:"( NO TITLE )",fragments:[]};return i("h2",{className:"result-title"},void 0,i(h["default"],{field:e}))},renderCitationContexts:function(){var e=this.props.result.citationContexts,t=this.props.result.citationContexts;if(t.length>0){var n=t.map(function(e,t){return i(h["default"],{className:"context",field:e},t)}),r=i("div",{},void 0,n);return i(m["default"],{className:"contexts",tooltipPosition:"bottom-right",tooltipClassName:"excerpts-tooltip",tooltipContent:r,onShow:x.trackShowCitationExcerpts.bind(x,this.props.citationType,this.props.result.isKey)},void 0,i("span",{className:"boxed"},void 0,C,S.pluralize(e.length,"Excerpt")))}return null},renderDebugInfo:function(){return this.props.result.debugInfo?this.props.result.debugInfo.keyCitationTypes.map(function(e,t){return i("li",{},t,i("label",{className:"key"},void 0,e))}):null},render:function(){var e=(0,E["default"])("citation",{"is-key":this.props.result.isKey}),t=null;if(this.props.result.isKey){var n=_.influentialCitationDisplayName(this.props.citationType),r=i(c.Link,{to:"paperDetail",params:{paperId:"d5641d684df3a9e7c357923d109421fe4304ffa8",slug:"Identifying-Meaningful-Citations-Valenzuela-Ha"}},void 0,"Identifying Meaningful Citations"),o=null;o="citingPapers"===this.props.citationType?i("span",{},void 0,"The citing paper was ",O," by this paper, as defined in ",r,"."):i("span",{},void 0,"This reference ",R," the paper, as defined in ",r,"."),t=i(m["default"],{tooltipClassName:"citation-influence-tooltip",tooltipPosition:"bottom-right",tooltipContent:o},void 0,i("span",{className:"boxed key"},void 0,n))}var a=null;return this.props.result.id||(a=k),i("article",{className:e},void 0,i("div",{className:"result-meta"},void 0,i("ul",{className:"key-citation"},void 0,this.renderDebugInfo()),this.props.result.id?i(c.Link,{onClick:this.trackCitationClick.bind(this,"title"),to:"paperDetail",params:{paperId:this.props.result.id,slug:this.props.result.slug}},void 0,this.renderTitle()):i(m["default"],{tooltipPosition:"bottom-left",tooltipContent:a,className:"no-id-tooltip"},void 0,this.renderTitle()),i(p["default"],{paper:this.props.result,maxAuthors:6,gaClickCallback:this.trackCitationClick.bind(this,"subhead")})),i("div",{className:"boxes"},void 0,t,this.renderCitationContexts()))}});n["default"]=j},{"../../../../format":179,"../../../../ga.js":180,"../../../../util.js":221,"../../../shared/general/HighlightedField.jsx":122,"../../../shared/icon/Icon.jsx":135,"../../../shared/paper/PaperMeta.jsx":151,"../tooltip/Tooltip.jsx":62,classnames:240,react:465,"react-immutable-render-mixin":296,"react-router":322}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../common/button/DropdownButton.jsx"),p=r(f),d=e("../../../shared/icon/Icon.jsx"),h=r(d),y=e("../button/IconButton.jsx"),m=r(y),v=e("../../../shared/general/ImmutableRenderComponent.jsx"),g=r(v),b=e("./ReadingListLink.jsx"),_=r(b),w=e("../../../../content/content"),S=r(w),T=e("../../../../constants"),x=r(T),P=e("../../../../constants/Interaction"),E=r(P),C=s(h["default"],{icon:"pdf",width:"15",height:"15"}),O=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={showExtraActions:!1},s.toggleExtraActions=s.toggleExtraActions.bind(s),s.onClick=s.onClick.bind(s,s.props.paper.id,s.props.index),s}return a(t,e),u(t,null,[{key:"contextTypes",get:function(){return{dispatcher:c["default"].PropTypes.object.isRequired,router:c["default"].PropTypes.func.isRequired,uiOptionsStore:c["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{paper:c["default"].PropTypes.object.isRequired,gaLabel:c["default"].PropTypes.string.isRequired,index:c["default"].PropTypes.number,hideText:c["default"].PropTypes.bool,showMoreActionsOnClick:c["default"].PropTypes.bool}}}]),u(t,[{key:"onClick",value:function(){var e=void 0,t=void 0;this.props.paper.viewablePdfId||this.props.paper.arxivLink?(e=E["default"].action.VIEW_PDF,t=E["default"].category.VIEW_PDF):(e=E["default"].action.VIEW_EXTERNAL_PDF,t=E["default"].category.VIEW_EXTERNAL_PDF),this.context.dispatcher.dispatch({actionType:e,data:{interactionCategory:t,interactionType:E["default"].type.CLICK,interactionLabel:this.props.paper.id,index:this.props.index}})}},{key:"onRelatedPapersClick",value:function(){this.context.dispatcher.dispatch({actionType:E["default"].action.SHOW_RELATED_PAPERS,data:{interactionCategory:E["default"].category.RELATED_PAPERS,interactionType:E["default"].type.CLICK,interactionLabel:this.props.paper.id,index:this.props.index}})}},{key:"toggleExtraActions",value:function(){this.setState({showExtraActions:!this.state.showExtraActions})}},{key:"renderButton",value:function(e){return s(m["default"],{iconProps:{icon:e.icon,width:"15",height:"15"},tagName:e.tagName,target:"_blank",href:e.href,onClick:e.onClick,title:e.title,className:e.className,text:e.content})}},{key:"renderListItem",value:function(e){return s("li",{className:"flex-row-vcenter"},void 0,e)}},{key:"renderPdfButton",value:function(){var e=this.context.router.makeHref("paperPdfViewer",{slug:this.props.paper.slug,paperId:this.props.paper.id}),t=void 0;if(this.props.paper.arxivLink)t=this.renderButton({icon:"pdf",tagName:"a",href:this.props.paper.arxivLink,title:this.props.paper.arxivLink,onClick:this.onClick,className:"pdf-button",content:S["default"].getString("paperDetail.action-text.view")});else if(this.props.paper.acmLink)if(this.props.paper.viewablePdfId){var n=s("a",{href:e,target:"_blank",className:"pdf-button flex-row-vcenter"},void 0,C,S["default"].getString("paperDetail.action-text.view")),r=s("a",{href:this.props.paper.acmLink,target:"_blank"},void 0,S["default"].getString("paperDetail.action-text.acm"));t=s(p["default"],{buttonContent:n,dropdownContent:r})}else t=this.renderButton({icon:"open",tagName:"a",href:this.props.paper.acmLink,title:this.props.paper.acmLink,onClick:this.onClick,className:"pdf-button",content:S["default"].getString("paperDetail.action-text.acm")});else this.props.paper.viewablePdfId&&(t=this.renderButton({icon:"pdf",tagName:"a",href:e,title:this.props.paper.viewablePdfId,onClick:this.onClick,className:"pdf-button",content:S["default"].getString("paperDetail.action-text.view")}));return t?this.renderListItem(t):null}},{key:"renderSlidesButton",value:function(){if(this.props.paper.presentationIds&&!this.props.paper.presentationIds.isEmpty()){var e=this.context.router.makeHref("presentationPdfViewer",{slug:this.props.paper.slug,paperId:this.props.paper.id,presentationId:this.props.paper.presentationIds.first()}),t=this.renderButton({icon:"slides",tagName:"a",href:e,title:this.props.paper.viewablePdfId,onClick:this.onClick.bind(this,this.props.paper.id,this.props.index),className:"slides-button",content:S["default"].getString("paperDetail.action-text.slides")});return this.renderListItem(t)}return null}},{key:"renderRelatedPapersButton",value:function(){if(this.props.showRelatedPapers&&!this.context.uiOptionsStore.options.disableRelatedPapers){var e=this.context.router.makeHref("paperDetail",{paperId:this.props.paper.id,slug:this.props.paper.slug}),t=this.renderButton({icon:"related-papers",tagName:"a",href:e+"#relatedPapers",onClick:this.onRelatedPapersClick.bind(this,this.props.paper.id,this.props.index),className:"related-papers-button",content:S["default"].getString("paperDetail.related-papers.generic-title")});return this.renderListItem(t)}return null}},{key:"renderMoreActionsTrigger",value:function(){var e=this.state.showExtraActions?S["default"].getString("general.paper-actions.less"):S["default"].getString("general.paper-actions.more");return s("li",{className:"flex-row-vcenter paper-actions-toggle",onClick:this.toggleExtraActions},void 0,e)}},{key:"renderExtraActions",value:function(){var e=[],t=this.context.dispatcher.dispatch.bind(this.context.dispatcher,{actionType:x["default"].actions.SHOW_MODAL,id:x["default"].modalId.CITE,data:this.props.paper});return e.push(this.renderButton({icon:"quote",tagName:"button",onClick:t,className:"cite-button",content:S["default"].getString("paperDetail.action-text.cite")})),e.push(s(_["default"],{gaLabel:this.props.gaLabel,showIcon:this.props.showIcons,paper:this.props.paper,index:this.props.index,hideText:this.props.hideText},"reading-list-link")),e.map(function(e,t){return s("li",{className:"flex-row-vcenter"},t,e)})}},{key:"render",value:function(){var e=!this.props.showMoreActionsOnClick||this.state.showExtraActions;return s("ul",{className:"paper-actions flex-row"},void 0,this.renderPdfButton(),this.renderRelatedPapersButton(),this.renderSlidesButton(),e?this.renderExtraActions():null,this.props.showMoreActionsOnClick?this.renderMoreActionsTrigger():null)}}]),t}(g["default"]);n["default"]=O},{"../../../../constants":155,"../../../../constants/Interaction":164,"../../../../content/content":176,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,"../../common/button/DropdownButton.jsx":19,"../button/IconButton.jsx":21,"./ReadingListLink.jsx":58,react:465}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/icon/Icon.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../tooltip/Tooltip.jsx"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"renderIcon",value:function(){return this.props.icon?s("div",{className:"badge-icon flex-row-centered"},void 0,s(c["default"],{icon:this.props.icon,width:"20",height:"20"})):null}},{key:"render",value:function(){var e="publication-badge flex-row-vcenter";return this.props.badgeExplanation?s(h["default"],{tooltipPosition:"bottom-right",tooltipContent:this.props.badgeExplanation},void 0,s("span",{className:e},void 0,this.renderIcon(),this.props.text)):s("div",{className:e},void 0,this.renderIcon(),this.props.text)}}],[{key:"propTypes",value:function(){return{text:m["default"].PropTypes.string.isRequired,badgeExplanation:m["default"].PropTypes.object.isRequired,icon:m["default"].PropTypes.string}}}]),t}(p["default"]);n["default"]=v},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,"../tooltip/Tooltip.jsx":62,react:465}],58:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;
if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-immutable-render-mixin"),l=o(u),c=e("../../../../stores/auth.js"),f=o(c),p=e("../button/IconButton.jsx"),d=o(p),h=e("../../../../stores/reading-list.js"),y=o(h),m=e("../../../../ga.js"),v=r(m),g=s["default"].createClass({displayName:"ReadingListLink",mixins:[l["default"],y["default"].Mixin,f["default"].Mixin],propTypes:{paper:s["default"].PropTypes.object.isRequired,gaLabel:s["default"].PropTypes.string.isRequired,index:s["default"].PropTypes.number,showIcon:s["default"].PropTypes.bool,hideText:s["default"].PropTypes.bool},getInitialState:function(){return{isInReadingList:this.getReadingListStore().isInReadingList(this.props.paper.id)}},onReadingListStoreChange:function(){this.setState({isInReadingList:this.getReadingListStore().isInReadingList(this.props.paper.id)})},onClick:function(){var e=this,t=this.state.isInReadingList;this.ensureLogin().then(function(){t?(e.removeFromReadingList(e.props.paper.id),v.removeFromReadingList(e.props.gaLabel,e.props.paper.id,e.props.index)):(e.addToReadingList(e.props.paper.id,e.props.paper.title.text),v.addToReadingList(e.props.gaLabel,e.props.paper.id,e.props.index))})},render:function(){var e=null;this.props.hideText||(e=this.state.isInReadingList?"Remove":"Save");var t=this.state.isInReadingList?"bookmark-remove":"bookmark";return this.props.showIcon?i(d["default"],{onClick:this.onClick,iconProps:{icon:t,width:"16",height:"16"},text:e}):i("a",{onClick:this.onClick},void 0,e)}});n["default"]=g},{"../../../../ga.js":180,"../../../../stores/auth.js":211,"../../../../stores/reading-list.js":218,"../button/IconButton.jsx":21,react:465,"react-immutable-render-mixin":296}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-dom"),l=o(u),c=e("react-immutable-render-mixin"),f=o(c),p=e("../../../shared/histogram/Histogram.jsx"),d=o(p),h=e("../../../../util.js"),y=r(h),m=e("../../../../utils/slider-util"),v=o(m),g=e("classnames"),b=o(g),_=30,w=20,S=2,T=s["default"].createClass({displayName:"RangeSlider",mixins:[f["default"],v["default"]],propTypes:{min:s["default"].PropTypes.number.isRequired,max:s["default"].PropTypes.number.isRequired,step:s["default"].PropTypes.number.isRequired,filteredMin:s["default"].PropTypes.number,filteredMax:s["default"].PropTypes.number,width:s["default"].PropTypes.number.isRequired,lowVal:s["default"].PropTypes.number.isRequired,highVal:s["default"].PropTypes.number.isRequired,onChanged:s["default"].PropTypes.func,onChange:s["default"].PropTypes.func},getInitialState:function(){return{lowVal:this.props.lowVal||this.props.min,highVal:this.props.highVal||this.props.max,sliding:!1}},componentWillReceiveProps:function(e){this.setState({lowVal:e.lowVal||e.min,highVal:e.highVal||e.max})},componentWillUnmount:function(){this.cleanup()},cleanup:function(){this._mouseMove&&(document.removeEventListener("mousemove",this._mouseMove),this._mouseMove=null),this._mouseUp&&(document.removeEventListener("mouseup",this._mouseUp),this._mouseUp=null)},addMouseMoveListener:function(e){var t=this;this.setState({sliding:!0});var n="highVal"===e?"lowVal":"highVal",r=d["default"].xScale(this.props.min,this.props.max,this.props.step,this.props.width),o=l["default"].findDOMNode(this).getBoundingClientRect(),i=this.state[e],a=this.state[n];this._mouseMove=function(e){var n=e.clientX-o.left,i=t.clamp(y.domainValForMousePos(r,n),t.props.filteredMin||t.props.min,t.props.filteredMax||t.props.max),s=t.state.lowVal,u=t.state.highVal;t.setState({lowVal:Math.min(i,a),highVal:Math.max(i+(t.props.step-1),a)},function(){!t.props.onChange||t.state.lowVal===s&&t.state.highVal===u||t.props.onChange(t.state.lowVal,t.state.highVal)})},this._mouseUp=function(){t.setState({sliding:!1}),t.cleanup(),!t.props.onChanged||t.state[e]===i&&t.state[n]===a||t.props.onChanged(t.state.lowVal,t.state.highVal)},document.addEventListener("mousemove",this._mouseMove),document.addEventListener("mouseup",this._mouseUp)},mouseDown:function(e,t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this.addMouseMoveListener(e))},render:function(){var e=d["default"].xScale(this.props.min,this.props.max,this.props.step,this.props.width),t=this.getScaleValForVal(this.state.lowVal,e),n=this.getScaleValForVal(this.state.highVal,e),r=this.getHandlePosition(t,e,w),o=this.getHandlePosition(n,e,w),a=this.getHandlePosition(this.props.min,e,w),s=this.props.width-a-(this.props.width-this.getHandlePosition(this.props.max,e,w))+w,u=this.getHighHandleLabel(n,this.state.lowVal,this.props.step),l=r,c=o,f=l+this.getBubbleWidth(this.props.step,_)-c;return r!==o&&f>0&&t!==n&&(l-=Math.round(f/2)+S,c+=Math.round(f/2)+S),i("div",{className:(0,b["default"])({slider:!0,sliding:this.state.sliding})},void 0,i("div",{className:"bar",style:{left:a,width:s}},void 0,i("div",{className:"selection",style:{left:r-a+w/2,width:o-r}})),i("div",{className:"handle low",style:{left:r}},void 0,i("span",{onMouseDown:this.mouseDown.bind(this,"lowVal")})),i("div",{className:"handle high",style:{left:o}},void 0,i("span",{onMouseDown:this.mouseDown.bind(this,"highVal")})),i("div",{className:"bubble value low",style:{left:l}},void 0,i("span",{},void 0,t)),i("div",{className:"bubble value high",style:{left:c}},void 0,i("span",{},void 0,u)))}});n["default"]=T},{"../../../../util.js":221,"../../../../utils/slider-util":225,"../../../shared/histogram/Histogram.jsx":127,classnames:240,react:465,"react-dom":294,"react-immutable-render-mixin":296}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/icon/Icon.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../../shared/loading/LoadingIndicator.jsx"),h=r(d),y=e("../../../../models/PaperSocialLink"),m=r(y),v=e("../../../../browser"),g=r(v),b=e("classnames"),_=r(b),w=e("react"),S=r(w),T=e("react-dom"),x=r(T),P=e("superagent"),E=r(P),C="//platform.twitter.com/widgets.js",O=s("div",{className:"embedded-tweet-loading flex-row-centered"},void 0,s(c["default"],{icon:"msg-error",className:"fill--dull-blue",width:"20",height:"20"})),R=s("div",{className:"embedded-tweet-loading flex-row-centered"},void 0,s(h["default"],{width:"20",height:"20"})),k=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={loading:!0,html:null,error:!1},s}return a(t,e),u(t,null,[{key:"propTypes",get:function(){return{socialLink:S["default"].PropTypes.instanceOf(m["default"]),relatedPaperId:S["default"].PropTypes.string.isRequired,onClick:S["default"].PropTypes.func}}},{key:"contextTypes",get:function(){return{dispatcher:S["default"].PropTypes.object.isRequired}}}]),u(t,[{key:"componentDidMount",value:function(){var e=this;E["default"].get("/api/1/social/embed/tweet?url="+this.props.socialLink.linkSource).end(function(t,n){t?e.setState({loading:!1,error:!0}):g["default"].loadScript(C).then(function(){e.setState({html:n.text},function(){twttr&&!function(){var t=function r(){e.setState({loading:!1}),twttr.events.unbind("rendered",r),"function"==typeof e.props.onClick&&n&&n.firstElementChild&&n.firstElementChild.contentDocument&&(e.clickTarget=n.firstElementChild.contentDocument,e.clickTarget.addEventListener("click",e.props.onClick))};twttr.events.bind("rendered",t);var n=x["default"].findDOMNode(e.refs.tweet);twttr.widgets.load(n)}()})})})}},{key:"componentWillUnmount",value:function(){this.clickTarget&&(this.clickTarget.removeEventListener("click",this.props.onClick),this.clickTarget=void 0)}},{key:"render",value:function(){var e=(0,_["default"])("embedded-tweet-container",{"is-loading":this.state.loading}),t=null;return this.state.error?t=O:this.state.loading&&(t=R),s("div",{className:e},void 0,t,S["default"].createElement("div",{ref:"tweet",className:"embedded-tweet",dangerouslySetInnerHTML:{__html:this.state.html}}))}}]),t}(p["default"]);n["default"]=k},{"../../../../browser":6,"../../../../models/PaperSocialLink":186,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,"../../../shared/loading/LoadingIndicator.jsx":141,classnames:240,react:465,"react-dom":294,superagent:468}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../button/IconButton.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../layout/tabs/Tab.jsx"),h=r(d),y=e("../layout/tabs/Tabs.jsx"),m=r(y),v=e("../../../../content/content"),g=r(v),b=e("classnames"),_=r(b),w=e("immutable"),S=r(w),T=e("react"),x=r(T),P=s("label",{className:"search-sort-label"},void 0,"Sort by:"),E=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onChangeSort",value:function(e){var t=void 0;t="string"==typeof e?e:e.target.value,this.props.onChangeSort&&this.props.onChangeSort(t)}},{key:"renderOptions",value:function(){return s("select",{onChange:this.onChangeSort.bind(this),value:this.props.sort},void 0,this.props.options.map(function(e){return s("option",{value:e.id},e.id,g["default"].getString("sort."+e.id+".label"))}))}},{key:"renderTabs",value:function(){var e=this,t=this.props.options.map(function(t){var n=(0,_["default"])("tab__button",{"is-active":t.id===e.props.sort});return s(h["default"],{},t.id,s(c["default"],{iconProps:{icon:t.icon,width:"15",height:"15"},text:g["default"].getString("sort."+t.id+".label"),onClick:e.onChangeSort.bind(e,t.id),className:n}))});return s(m["default"],{},void 0,t.toArray())}},{key:"render",value:function(){return s("div",{className:"search-sort flex-row author-publications-list-sorts"},void 0,P,"tabs"===this.props.displayType?this.renderTabs():this.renderOptions())}}],[{key:"propTypes",get:function(){return{sort:x["default"].PropTypes.string,onChangeSort:x["default"].PropTypes.func,options:x["default"].PropTypes.instanceOf(S["default"].List).isRequired,displayType:x["default"].PropTypes.string.isRequired}}},{key:"defaultProps",get:function(){return{displayType:"select"}}}]),t}(p["default"]);n["default"]=E},{"../../../../content/content":176,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../button/IconButton.jsx":21,"../layout/tabs/Tab.jsx":37,"../layout/tabs/Tabs.jsx":38,classnames:240,immutable:275,react:465}],62:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../shared/general/ImmutableRenderComponent.jsx"),f=o(c),p=e("../../../../constants/Interaction"),d=o(p),h=e("../../../../constants/Tooltip"),y=o(h),m=e("../../../../util"),v=r(m),g=e("react"),b=o(g),_=e("react-dom"),w=o(_),S=u("span",{className:"tooltip-pointer"},void 0,u("span",{className:"tooltip-pointer-arrow"})),T=function(e){function t(e){var n;i(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var u=a(this,(n=Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));return v.isDev&&u.props.permanentlyVisible===!0&&console.warn("The permanentlyVisible flag for the <Tooltip /> component is enabled. This is likely for debug purposes, this warning is here to help make sure this doesn't accidentally make it's way into production code."),u.state={tooltipIsVisible:u.props.tooltipIsVisible||u.props.permanentlyVisible},u}return s(t,e),l(t,[{key:"dispatchInteractiveEvent",value:function(){this.context.dispatcher.dispatch({actionType:d["default"].action.INTERACTIVE_EVENT,data:{interactionCategory:this.props.interactionCategory,interactionType:d["default"].type.HOVER,interactionTarget:this.props.interactionLabel}})}},{key:"showTooltip",value:function(){var e=this;clearTimeout(this.currentTimer),this.state.tooltipIsVisible||(this.currentTimer=setTimeout(function(){e.setState({tooltipIsVisible:!0}),e.props.dispatchShowEvent&&e.dispatchInteractiveEvent()},y["default"].InteractionTiming.TOOLTIP_SHOW_DELAY))}},{key:"hideTooltip",value:function(){var e=this;if(!this.props.permanentlyVisible){if(clearTimeout(this.currentTimer),!this.state.tooltipIsVisible)return;this.currentTimer=setTimeout(function(){return e.setState({tooltipIsVisible:!1})},y["default"].InteractionTiming.TOOLTIP_SHOW_DELAY)}}},{key:"toggleTooltip",value:function(e){var t=w["default"].findDOMNode(this);!this.state.tooltipIsVisible&&e&&t.contains(e.target)||t===e.target?this.showTooltip():this.hideTooltip()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.currentTimer),this.listener&&(document.removeEventListener("click",this.listener),this.listener=void 0)}},{key:"componentWillReceiveProps",value:function(e){this.setState({tooltipIsVisible:"undefined"!==e.tooltipIsVisible?e.tooltipIsVisible:this.state.tooltipIsVisible})}},{key:"componentDidMount",value:function(){var e=this;this.state.tooltipIsVisible&&(this.props.interactionType===y["default"].InteractionTypes.CLICK&&(this.listener=function(t){return e.toggleTooltip(t)},document.addEventListener("click",this.listener)),"function"==typeof this.props.onShow&&this.props.onShow())}},{key:"componentDidUpdate",value:function(e,t){var n=this;!t.tooltipIsVisible&&this.state.tooltipIsVisible&&"function"==typeof this.props.onShow&&this.props.onShow(),!this.listener&&this.state.tooltipIsVisible&&this.props.interactionType===y["default"].InteractionTypes.CLICK?(this.listener=function(e){return n.toggleTooltip(e)},document.addEventListener("click",this.listener)):this.listener&&(document.removeEventListener("click",this.listener),this.listener=void 0)}},{key:"renderTooltipContent",value:function(){if(this.state.tooltipIsVisible){var e=["tooltip","mod-tooltip-"+this.props.tooltipPosition,this.props.tooltipClassName].join(" ").trim();return u("div",{className:e},void 0,S,this.props.tooltipContent)}return null}},{key:"render",value:function(){var e=["tooltip-parent",this.props.className].join(" ").trim(),t=this.props.interactionType===y["default"].InteractionTypes.CLICK;return u("div",{className:e,onMouseEnter:t?null:this.showTooltip.bind(this),onMouseLeave:t?null:this.hideTooltip.bind(this),onClick:t?this.toggleTooltip.bind(this):null},void 0,this.props.children,this.renderTooltipContent())}}],[{key:"propTypes",get:function(){return{tooltipContent:b["default"].PropTypes.node.isRequired,tooltipClassName:b["default"].PropTypes.string,tooltipPosition:b["default"].PropTypes.string,tooltipIsVisible:b["default"].PropTypes.bool,className:b["default"].PropTypes.string,onShow:b["default"].PropTypes.func,interactionType:b["default"].PropTypes.string,children:b["default"].PropTypes.node,permanentlyVisible:b["default"].PropTypes.bool,dispatchShowEvent:b["default"].PropTypes.bool,interactionCategory:b["default"].PropTypes.string,interactionLabel:b["default"].PropTypes.string}}},{key:"contextTypes",get:function(){return{dispatcher:b["default"].PropTypes.object.isRequired}}},{key:"defaultProps",get:function(){return{tooltipPosition:"bottom-right"}}}]),t}(f["default"]);n["default"]=T},{"../../../../constants/Interaction":164,"../../../../constants/Tooltip":172,"../../../../util":221,"../../../shared/general/ImmutableRenderComponent.jsx":123,react:465,"react-dom":294}],63:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../common/layout/AppHeader.jsx"),f=o(c),p=e("../common/layout/AppFooter.jsx"),d=o(p),h=e("../../shared/general/ImmutableRenderComponent.jsx"),y=o(h),m=e("../../../constants"),v=o(m),g=e("../../../content/content"),b=o(g),_=e("../../../ga"),w=r(_),S=e("react"),T=o(S),x=u("h1",{className:"crawler-title"},void 0,"Semantic Scholar Bot"),P=u("p",{},void 0,"A bot, also known as a web robot, web spider, or web crawler, is a software application that runs automated tasks over the Internet in a more effective, structured, and concise manner than a human could ever do."),E=u("p",{},void 0,"The Semantic Scholar bot crawls certain domains to find academic PDFs. These PDFs are served on ",u("a",{href:"http://www.semanticscholar.org"},void 0,"semanticscholar.org")," so researchers can discover and understand other academic accomplishments."),C=u("p",{},void 0,"Our crawler supports the ",u("code",{},void 0,"robots.txt")," standard.  For more information about ",u("code",{},void 0,"robots.txt")," files, please visit ",u("a",{href:"http://www.robotstxt.org",target:"_blank"},void 0,"www.robotstxt.org"),"."),O=u("h2",{className:"crawler-subtitle"},void 0,"Technical Details"),R=u("p",{},void 0,"Our crawler specifically supports these directives when present in your site’s ",u("code",{},void 0,"robots.txt")," file:"),k=u("code",{className:"multiline"},void 0,"Crawl-delay",u("br",{}),"Disallow",u("br",{}),"Allow",u("br",{})),j=u("p",{},void 0,"Our crawler uses the following User-Agent HTTP header when looking for documents:"),I=u("code",{},void 0,"SemanticScholarBot/1.0 (+http://s2.allenai.org/bot.html)"),M=u("p",{},void 0,"To explicitly disallow our search engine, add the following to your ",u("code",{},void 0,"robots.txt")," file:"),A=u("code",{className:"multiline"},void 0,"User-agent: SemanticScholarBot",u("br",{}),"Disallow: /"),N=u("p",{},void 0,"To explicitly allow our search engine, add the following to your ",u("code",{},void 0,"robots.txt"),":"),D=u("code",{className:"multiline"},void 0,"User-agent: SemanticScholarBot",u("br",{}),"Allow: /"),L=u(f["default"],{showSearchBar:!0}),q=u(d["default"],{}),F=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"showFeedbackModal",value:function(){w.showFeedbackForm(),this.context.dispatcher.dispatch({actionType:v["default"].actions.SHOW_MODAL,id:v["default"].modalId.FEEDBACK})}},{key:"renderContent",value:function(){return u("div",{},void 0,x,P,E,C,u("p",{},void 0,"If you have any questions or concerns about our crawler, please ",u("a",{onClick:this.showFeedbackModal.bind(this)},void 0,"contact us.")),O,R,k,j,I,M,A,N,D)}},{key:"render",value:function(){return u("div",{className:"faq-page"},void 0,L,u("section",{className:"container"},void 0,u("div",{className:"main-column single-column-text-content crawler-content"},void 0,this.renderContent())),q)}}],[{key:"getPageMetaDescription",value:function(){return b["default"].getString("metaDescription.crawlerPage.content")}},{key:"contextTypes",get:function(){return{dispatcher:T["default"].PropTypes.object.isRequired}}}]),t}(y["default"]);n["default"]=F},{"../../../constants":155,"../../../content/content":176,"../../../ga":180,"../../shared/general/ImmutableRenderComponent.jsx":123,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,react:465}],64:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../common/layout/AppHeader.jsx"),c=r(l),f=e("../common/layout/AppFooter.jsx"),p=r(f),d=e("../../shared/message/InlineErrorMessage.jsx"),h=r(d),y=e("../../shared/general/ImmutableRenderComponent.jsx"),m=r(y),v=e("react"),g=(r(v),s("div",{},void 0,s("input",{type:"hidden",id:"error-status",value:"500"}),s(c["default"],{showSearchBar:!0}),s("section",{className:"container"},void 0,s(h["default"],{title:"Sorry, something went wrong.",message:"We weren't able to complete your request."})),s(p["default"],{}))),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return g}}]),t}(m["default"]);n["default"]=b},{"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/message/InlineErrorMessage.jsx":142,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,react:465}],65:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../common/layout/AppHeader.jsx"),f=o(c),p=e("../common/layout/AppFooter.jsx"),d=o(p),h=e("../common/layout/ColumnSet.jsx"),y=o(h),m=e("../../shared/faq/BaseFAQPage.jsx"),v=o(m),g=e("../../shared/faq/FAQPageHeader.jsx"),b=o(g),_=e("../../shared/faq/FAQSection.jsx"),w=o(_),S=e("../common/layout/MainColumn.jsx"),T=o(S),x=e("../common/general/ScrollWaypoint.jsx"),P=o(x),E=e("../common/layout/Sidebar.jsx"),C=o(E),O=e("../common/layout/sticky-nav/StickyNav.jsx"),R=o(O),k=e("../../../content/content"),j=o(k),I=e("../../../ga"),M=r(I),A=e("react"),N=(o(A),u(f["default"],{showSearchBar:!0})),D=u(d["default"],{}),L=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={activeNavId:"general"},s}return s(t,e),l(t,[{key:"onChangeActiveNav",value:function(e){this.setState({activeNavId:e})}},{key:"onActiveNavClick",value:function(e){M.waypointClick(e),this.setState({activeNavId:e})}},{key:"render",value:function(){var e=this,t=j["default"].getValuesAsArray("faq.sections"),n=t.map(function(t,n){var r="section-"+n,o=t.get("name");return u(P["default"],{onActive:function(){e.onChangeActiveNav(t.get("id"))}},r,u(w["default"],{title:o,id:t.get("id"),questions:t.get("questions")}))});return u("div",{className:"faq-page"},void 0,N,u("section",{className:"content"},void 0,u("div",{className:"container"},void 0,u(b["default"],{title:j["default"].getString("faq.title")}),u(y["default"],{},void 0,u(C["default"],{leftOrRight:"left"},void 0,u(R["default"],{activeNavId:this.state.activeNavId,navSections:t,className:"sticky-nav--left",onClick:this.onActiveNavClick.bind(this)})),u(T["default"],{className:"faq-content"},void 0,n)))),D)}}]),t}(v["default"]);n["default"]=L},{"../../../content/content":176,"../../../ga":180,"../../shared/faq/BaseFAQPage.jsx":117,"../../shared/faq/FAQPageHeader.jsx":118,"../../shared/faq/FAQSection.jsx":120,"../common/general/ScrollWaypoint.jsx":26,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,"../common/layout/ColumnSet.jsx":30,"../common/layout/MainColumn.jsx":31,"../common/layout/Sidebar.jsx":34,"../common/layout/sticky-nav/StickyNav.jsx":35,react:465}],66:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{
value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../common/layout/AppFooter.jsx"),f=o(c),p=e("../../shared/general/ImmutableRenderComponent.jsx"),d=o(p),h=e("../../shared/home/WhyS2.jsx"),y=o(h),m=e("./Quote.jsx"),v=o(m),g=e("./SearchHero.jsx"),b=o(g),_=e("../../../ga.js"),w=r(_),S=e("react"),T=(o(S),u("div",{className:"home-page"},void 0,u(b["default"],{}),u(y["default"],{}),u(v["default"],{}),u(f["default"],{}))),x=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"componentDidMount",value:function(){w.updateForHome()}},{key:"render",value:function(){return T}}],[{key:"getPageTitle",value:function(){return"Semantic Scholar"}},{key:"getCanonicalUrl",value:function(){return"/"}}]),t}(d["default"]);n["default"]=x},{"../../../ga.js":180,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/home/WhyS2.jsx":132,"../common/layout/AppFooter.jsx":28,"./Quote.jsx":68,"./SearchHero.jsx":70,react:465}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/layout/PageSection.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s(c["default"],{className:this.props.className},void 0,s("div",{className:"container"},void 0,this.props.children))}}],[{key:"propTypes",get:function(){return{children:p["default"].PropTypes.node.isRequired,className:p["default"].PropTypes.string}}}]),t}(p["default"].Component);n["default"]=d},{"../../shared/layout/PageSection.jsx":138,react:465}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./HomePageSection.jsx"),c=r(l),f=e("../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("react"),h=(r(d),s(c["default"],{className:"quote"},void 0,s("p",{},void 0,"“What if a cure for an intractable cancer is hidden within the tedious reports on thousands of clinical studies? In 20 years’ time, AI will be able to read — and more importantly, ",s("em",{},void 0,"understand")," — scientific text. These AI readers will be able to ",s("em",{},void 0,"connect the dots")," between disparate studies to identify novel hypotheses and to suggest experiments which would otherwise be missed."),s("p",{},void 0,"AI-based discovery engines will help ",s("em",{},void 0,"find the answers")," to science's thorniest problems.”"),s("p",{className:"cite"},void 0,"— Oren Etzioni"))),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return h}}]),t}(p["default"]);n["default"]=y},{"../../shared/general/ImmutableRenderComponent.jsx":123,"./HomePageSection.jsx":67,react:465}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/icon/Icon.jsx"),c=r(l),f=e("../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../../constants"),h=r(d),y=e("react"),m=r(y),v=e("react-router"),g=r(v),b=g["default"].Link,_=s("li",{className:"flex-row"},void 0,s(c["default"],{icon:"check",width:"18",height:"18"}),s("span",{},void 0,s("strong",{},void 0,"Implicit citation detection."),s("br",{}),"Our software now detects citations which don't use the standard notation. This  increases the size of our citation graph and the number of ",s("strong",{},void 0,"highly influential citations")," we detect.")),w=s(c["default"],{icon:"check",width:"18",height:"18"}),S=s("strong",{},void 0,"Author profile pages!"),T=s("br",{}),x=s("li",{className:"flex-row"},void 0,s(c["default"],{icon:"check",width:"18",height:"18"}),s("span",{},void 0,s("strong",{},void 0,"Citation velocity improvements."),s("br",{}),"We adjusted the formula for calculating citation velocity to better incorporate fresh citations.  A weighted average is now used for calculation purposes.")),P=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t=function(){e.context.dispatcher.dispatch({actionType:h["default"].actions.SHOW_MODAL,id:h["default"].modalId.FEEDBACK}),e.props.onShowFeedback&&e.props.onShowFeedback()},n={slug:"Tom-M-Mitchell",authorId:1779250};return s("div",{className:"release-notes"},void 0,"We're always working to improve Semantic Scholar. Here's what's been added recently:",s("ul",{className:"release-notes-list"},void 0,_,s("li",{className:"flex-row"},void 0,w,s("span",{},void 0,S,T,"We’ve launched profile pages for authors, providing a unique view of an individual’s influence. Access author profile pages by searching for a specific author or clicking an author’s name in search results. Take a look at ",s(b,{to:"authorProfile",params:n},void 0,"Tom M. Mitchell’s profile."))),x),"Something missing? ",s("button",{className:"link-button",onClick:t},void 0,"Let us know."))}}],[{key:"propTypes",get:function(){return{onShowFeedback:m["default"].PropTypes.func}}},{key:"contextTypes",get:function(){return{dispatcher:m["default"].PropTypes.object.isRequired}}}]),t}(p["default"]);n["default"]=P},{"../../../constants":155,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/icon/Icon.jsx":135,react:465,"react-router":322}],70:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("../common/layout/AppHeader.jsx"),p=o(f),d=e("../../shared/general/ImmutableRenderComponent.jsx"),h=o(d),y=e("../../shared/layout/PageSection.jsx"),m=o(y),v=e("../common/layout/Searchbar.jsx"),g=o(v),b=e("../../shared/home/CorpusNote.jsx"),_=o(b),w=e("../../../constants"),S=o(w),T=e("../../../models/query.js"),x=e("../../../utils/routing/query-routes"),P=o(x),E=e("../../../ga.js"),C=r(E),O=e("react-router"),R=e("react"),k=o(R),j=u(p["default"],{showShareButton:!0,showSearchBar:!1,showReleaseNotes:!0,cssClass:"transparent"}),I=u("div",{className:"bg-left"}),M=u("h1",{},void 0,"Cut through the clutter."),A=u("h2",{},void 0,"Home in on key publications, citations, and results."),N=u("label",{},void 0,"Try:"),D=u(_["default"],{}),L=u("div",{className:"bg-right"}),q=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),c(t,[{key:"setQuery",value:function(e,t){P["default"].changeRouteForQuery(T.Query.from(e,t),this.context.router,"search")}},{key:"renderSampleQueries",value:function(){return S["default"].content.HOME_QUERIES.map(function(e,t){return k["default"].createElement(O.Link,l({key:t,onClick:C.exampleQuery.bind(C,e.q)},P["default"].routeForQuery(e.q)),e.q)})}},{key:"render",value:function(){return u(m["default"],{className:"hero"},void 0,j,I,u("div",{className:"hero-content"},void 0,u("div",{className:"container"},void 0,M,A,u(g["default"],{onChange:this.setQuery.bind(this),focusOnLoad:!0}),u("div",{className:"examples"},void 0,N,this.renderSampleQueries())),D),L)}}],[{key:"contextTypes",get:function(){return{queryStore:k["default"].PropTypes.object.isRequired,router:k["default"].PropTypes.func.isRequired}}}]),t}(h["default"]);n["default"]=q},{"../../../constants":155,"../../../ga.js":180,"../../../models/query.js":201,"../../../utils/routing/query-routes":224,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/home/CorpusNote.jsx":131,"../../shared/layout/PageSection.jsx":138,"../common/layout/AppHeader.jsx":29,"../common/layout/Searchbar.jsx":33,react:465,"react-router":322}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../common/layout/AppHeader.jsx"),c=r(l),f=e("../common/layout/AppFooter.jsx"),p=r(f),d=e("../../../content/content"),h=r(d),y=e("../../shared/general/ImmutableRenderComponent.jsx"),m=r(y),v=e("react-router"),g=e("react"),b=(r(g),s(c["default"],{showSearchBar:!0})),_=s(v.RouteHandler,{}),w=s(p["default"],{}),S=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"insights-page"},void 0,b,s("main",{className:"container"},void 0,s("div",{className:"flex-row-vcenter insights-title"},void 0,s("h1",{},void 0,h["default"].getString("insights.title"))),s("p",{},void 0,h["default"].getString("insights.placeholder")),s("p",{},void 0,s("a",{className:"button",href:"/"},void 0,h["default"].getString("insights.return-home"))),_),w)}}]),t}(m["default"]);n["default"]=S},{"../../../content/content":176,"../../shared/general/ImmutableRenderComponent.jsx":123,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,react:465,"react-router":322}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("react"),s=o(a),u=e("react-immutable-render-mixin"),l=o(u),c=e("../common/paper/Citation.jsx"),f=o(c),p=e("../../shared/paper/EmptyCitationsMessage.jsx"),d=o(p),h=e("../../shared/icon/HelpIcon.jsx"),y=o(h),m=e("../../shared/icon/Icon.jsx"),v=o(m),g=e("../../shared/loading/LoadingIndicator.jsx"),b=o(g),_=e("../../shared/pager/Pager.jsx"),w=o(_),S=e("../../../stores/paper"),T=o(S),x=e("../common/sort/SortControl.jsx"),P=o(x),E=e("../common/tooltip/Tooltip.jsx"),C=o(E),O=e("../../../util"),R=r(O),k=e("../../../ga"),j=r(k),I=e("../../../content/content"),M=o(I),A=e("../../../constants.js"),N=o(A),D=e("../../../constants/sort-type"),L=o(D),q=s["default"].createClass({displayName:"CitationPageControls",mixins:[l["default"],T["default"].Mixin],propTypes:{citationTotal:s["default"].PropTypes.number.isRequired,keyTotal:s["default"].PropTypes.number,sort:s["default"].PropTypes.string.isRequired,totalPages:s["default"].PropTypes.number,citationType:s["default"].PropTypes.string.isRequired},onChangeSort:function(e){j.trackCitationSortChange(this.props.citationType,e),this.changeCitationsAndReferencesSort(this.props.citationType,e)},render:function(){var e="citingPapers"===this.props.citationType?"cited-by":"reference",t=this.props.totalPages>1?i("div",{className:"controls-right"},void 0,i(P["default"],{onChangeSort:this.onChangeSort,options:L["default"].citations(),sort:this.props.sort})):null;return i("div",{className:"controls"},void 0,i(v["default"],{icon:e,width:"32",height:"32"}),i("label",{className:"count-label"},void 0,i("h4",{},void 0,M["default"].getString("citations.list.title."+this.props.citationType))),t)}}),F=i(y["default"],{}),U=i("span",{className:"flex-row-vcenter citation-loading"},void 0,i(b["default"],{})," Loading"),H=s["default"].createClass({displayName:"CitationPage",mixins:[l["default"],T["default"].Mixin],propTypes:{name:s["default"].PropTypes.string.isRequired,paperId:s["default"].PropTypes.string.isRequired,paper:s["default"].PropTypes.object.isRequired,citationPage:s["default"].PropTypes.object.isRequired,citationTotal:s["default"].PropTypes.number.isRequired,keyTotal:s["default"].PropTypes.number},contextTypes:{api:s["default"].PropTypes.object.isRequired},fetchCitationsForPage:function(e){var t=this.props.citationPage,n=t.get("citationType"),r=t.get("sort");j.trackFetchMoreCitations(n,r,e),this.context.api.fetchCitations(this.props.paperId,n,r,e)},renderListLabel:function(){var e=R.pluralize(this.props.citationTotal,M["default"].getString("citations.list.label."+this.props.citationPage.citationType)),t=10*(this.props.citationPage.pageNumber-1)+1,n=Math.min(10*this.props.citationPage.pageNumber,this.props.citationTotal),r="Showing "+t+"-"+n+" of "+e;if("citingPapers"===this.props.citationPage.citationType){var o=M["default"].getString("citations.list.tooltip",this.props.citationTotal,Math.round(this.props.paper.citationStats.estNumCitations.value,10)),a=i("span",{dangerouslySetInnerHTML:{__html:o}});return i("div",{className:"citation-list__label text--gray"},void 0,i(C["default"],{tooltipPosition:"bottom-left",className:"flex-row-vcenter",tooltipClassName:"tooltip--med",tooltipContent:a},void 0,r," ",F))}return i("div",{className:"citation-list__label text--gray"},void 0,r)},renderCitationsList:function(){var e=this,t=this.props.citationPage.citations,n=this.props.citationPage.citationType;return t.isEmpty()?null:t.map(function(t,r){return i(f["default"],{citationType:n,sort:e.props.citationPage.sort,result:t,index:r},t.id||r)})},renderAcmOrEmptyCitationsMessage:function(){var e=this.props.paper.acmLink&&"citedPapers"===this.props.citationPage.citationType||this.props.citationPage.citations.isEmpty();return e?i(d["default"],{paper:this.props.paper,type:this.props.citationPage.citationType}):null},render:function(){var e=this.props.citationPage,t=e.get("loading"),n=Math.ceil(this.props.citationTotal/N["default"].params.CITATIONS_PAGE_SIZE),r=n>1?i("div",{className:"citation-pagination flex-row-vcenter"},void 0,t?U:null,i(w["default"],{className:"flex-right",pageNumber:this.props.citationPage.pageNumber,loadPage:this.fetchCitationsForPage,totalPages:n})):null;return i("div",{className:"paper-detail-content-section"},void 0,i("a",{name:this.props.name}),i(q,{citationTotal:this.props.citationTotal,keyTotal:this.props.keyTotal,sort:e.sort,totalPages:n,citationType:e.citationType}),this.props.citationTotal>1?this.renderListLabel():null,this.renderCitationsList(),this.renderAcmOrEmptyCitationsMessage(),r)}});n["default"]=H},{"../../../constants.js":155,"../../../constants/sort-type":175,"../../../content/content":176,"../../../ga":180,"../../../stores/paper":216,"../../../util":221,"../../shared/icon/HelpIcon.jsx":134,"../../shared/icon/Icon.jsx":135,"../../shared/loading/LoadingIndicator.jsx":141,"../../shared/pager/Pager.jsx":145,"../../shared/paper/EmptyCitationsMessage.jsx":148,"../common/paper/Citation.jsx":55,"../common/sort/SortControl.jsx":61,"../common/tooltip/Tooltip.jsx":62,react:465,"react-immutable-render-mixin":296}],73:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("react"),f=o(c),p=e("react-router"),d=e("classnames"),h=o(d),y=e("../../shared/general/ImmutableRenderComponent.jsx"),m=o(y),v=e("../../shared/loading/LoadingIndicator.jsx"),g=o(v),b=e("../../../ga.js"),_=r(b),w=u(g["default"],{}),S=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={loading:!0},s}return s(t,e),l(t,[{key:"render",value:function(){var e=this,t=(0,h["default"])("paper-detail-figures-list-figure-image",{"is-loading":this.state.loading});return u(p.Link,{to:"paperDetailFigure",onClick:_.figureClick.bind(_,this.props.index),params:{paperId:this.props.paperId,slug:this.props.slug,figureIndex:this.props.index}},void 0,u("div",{className:t},void 0,f["default"].createElement("img",{src:this.props.figure.uri,alt:this.props.figure.displayName,onLoad:function(){return e.setState({loading:!1})},ref:function(t){t&&t.complete&&e.setState({loading:!1})}}),this.state.loading?w:null),u("div",{className:"paper-detail-figures-list-figure-caption"},void 0,this.props.figure.displayName))}}],[{key:"propTypes",get:function(){return{paperId:f["default"].PropTypes.string.isRequired,slug:f["default"].PropTypes.string.isRequired,figure:f["default"].PropTypes.object.isRequired,index:f["default"].PropTypes.number.isRequired}}}]),t}(m["default"]),T=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.figures.map(function(t,n){return u("li",{},n,u(S,{index:n,figure:t,paperId:e.props.paperId,slug:e.props.slug}))});return u("ul",{className:"flex-row paper-detail-figures-list"},void 0,t)}}],[{key:"propTypes",get:function(){return{paperId:f["default"].PropTypes.string.isRequired,slug:f["default"].PropTypes.string.isRequired,figures:f["default"].PropTypes.object.isRequired}}}]),t}(m["default"]);n["default"]=T},{"../../../ga.js":180,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/loading/LoadingIndicator.jsx":141,classnames:240,react:465,"react-router":322}],74:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../shared/paper/AcmLinkMessage.jsx"),f=o(c),p=e("./CitationsList.jsx"),d=o(p),h=e("../common/layout/ColumnSet.jsx"),y=o(h),m=e("../../shared/paper/NoPdfFoundMessage.jsx"),v=o(m),g=e("./FigureList.jsx"),b=o(g),_=e("../../shared/general/ImmutableRenderComponent.jsx"),w=o(_),S=e("../../shared/loading/LoadingIndicator.jsx"),T=o(S),x=e("../common/layout/MainColumn.jsx"),P=o(x),E=e("../../shared/layout/PageSection.jsx"),C=o(E),O=e("./PaperDetailContent.jsx"),R=o(O),k=e("../common/layout/PageSectionTitle.jsx"),j=o(k),I=e("./PaperDetailStats.jsx"),M=o(I),A=e("./PaperHeader.jsx"),N=o(A),D=e("../common/message/PoorMetadataBanner.jsx"),L=o(D),q=e("./related-papers/RelatedPapers.jsx"),F=o(q),U=e("../common/general/ScrollWaypoint.jsx"),H=o(U),B=e("../common/layout/Sidebar.jsx"),V=o(B),z=e("../common/layout/sticky-nav/StickyNav.jsx"),$=o(z),W=e("../common/layout/tabs/Tab.jsx"),Y=o(W),G=e("../common/layout/tabs/Tabs.jsx"),K=o(G),Q=e("../../../hash-scroll.js"),J=o(Q),X=e("../../../content/content"),Z=o(X),ee=e("../../../models/index"),te=r(ee),ne=e("../../../constants/StatType"),re=o(ne),oe=e("../../../util"),ie=r(oe),ae=e("classnames"),se=o(ae),ue=e("react"),le=o(ue),ce=u(f["default"],{}),fe=u(v["default"],{}),pe=u("a",{name:"paperDetail"}),de=u(L["default"],{}),he=u("a",{name:"figures"}),ye=u("a",{name:"statistics"}),me=u("div",{className:"flex-grow"},void 0,u(j["default"],{icon:"chart",text:"Statistics",className:".page-section__title--bordered"})),ve=u(T["default"],{}),ge=u("a",{name:"relatedPapers"}),be=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),u=s.getStatTabs();return s.state={activeNavId:"paperDetail",user:s.context.authStore.getUser(),statsTabs:u,activeStatTabId:u.isEmpty()?void 0:u.first().id},s.context.authStore.registerComponent(s,function(){s.setState({user:s.context.authStore.getUser()})}),s}return s(t,e),l(t,null,[{key:"contextTypes",get:function(){return{api:le["default"].PropTypes.object.isRequired,authStore:le["default"].PropTypes.object.isRequired,uiOptionsStore:le["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{paperDetail:le["default"].PropTypes.instanceOf(te.PaperDetail)}}}]),l(t,[{key:"getStatTabs",value:function(){var e=this;return re["default"].paperDetailStats().filter(function(t){switch(t.id){case re["default"].CITATION_VELOCITY.id:return e.props.paperDetail.paper.citationStats.estCitationVelocity.shouldDisplay();case re["default"].CITATION_ACCELERATION.id:return e.props.paperDetail.paper.citationStats.estCitationAcceleration.shouldDisplay();case re["default"].CITATIONS.id:return e.props.paperDetail.paper.citationStats.estNumCitations.shouldDisplay()}})}},{key:"componentDidMount",value:function(){var e=this;this._hashScroll=new J["default"],this._hashScroll.execute(),setTimeout(function(){e.context.api.fetchRelatedPapers(e.props.paperDetail.paper.id)},0)}},{key:"componentDidUpdate",value:function(){this._hashScroll.execute()}},{key:"onActiveNavChange",value:function(e){e!==this.state.activeNavId&&this.setState({activeNavId:e})}},{key:"onStatTabClick",value:function(e){this.setState({activeStatTabId:e})}},{key:"renderNoPdfMessage",value:function(e){return e?ce:fe}},{key:"renderNav",value:function(){var e=this,t=Z["default"].getValuesAsArray("paperDetail.nav-sections"),n=t.filter(function(t){var n=t.get("id");switch(n){case"paperDetail":return!0;case"figures":return e.props.paperDetail.hasFigures();case"citedPapers":return e.props.paperDetail.paper.hasReferences();case"citingPapers":return e.props.paperDetail.paper.hasCitations();case"statistics":return e.props.paperDetail.paper.hasCitations();case"relatedPapers":return!e.context.uiOptionsStore.options.disableRelatedPapers;default:return!1}});return u($["default"],{activeNavId:this.state.activeNavId,navSections:n,className:"sticky-nav--right"})}},{key:"renderDetailsSection",value:function(e){var t=this;return u(C["default"],{className:"page-section--left details"},void 0,pe,u(H["default"],{onActive:function(){t.onActiveNavChange("paperDetail")}},void 0,e.hasPoorMetadata()?de:null,e.viewablePdfId?null:this.renderNoPdfMessage(e.acmLink),u(N["default"],{paper:e}),u(R["default"],{paperDetail:this.props.paperDetail})))}},{key:"renderFiguresSection",value:function(){var e=this;if(this.props.paperDetail.hasFigures()){var t=ie.pluralize(this.props.paperDetail.figures.size,Z["default"].getString("paperDetail.section-titles.figures.singular"),Z["default"].getString("paperDetail.section-titles.figures.plural"));return u(C["default"],{className:"page-section--left paper-detail-figures"},void 0,he,u(H["default"],{onActive:function(){e.onActiveNavChange("figures");
}},void 0,u(j["default"],{icon:"icon-figures",text:t}),u(b["default"],{paperId:this.props.paperDetail.paper.id,slug:this.props.paperDetail.paper.slug,figures:this.props.paperDetail.figures})))}return null}},{key:"renderReferencesSection",value:function(e,t){var n=this;return e.hasReferences()?u(H["default"],{onActive:function(){n.onActiveNavChange("citedPapers")}},void 0,u(d["default"],{name:"citedPapers",paperId:e.id,paper:e,citationPage:this.props.paperDetail.citedPapers,citationTotal:t.numViewableReferences,keyTotal:t.numKeyReferences})):null}},{key:"renderCitationsSection",value:function(e,t){var n=this;return e.hasCitations()?u(H["default"],{onActive:function(){n.onActiveNavChange("citingPapers")}},void 0,u(d["default"],{name:"citingPapers",paperId:e.id,paper:e,citationPage:this.props.paperDetail.citingPapers,citationTotal:t.numCitations,keyTotal:t.numKeyCitations,readingListIds:this.state.readingListIds})):null}},{key:"renderStatsTabControls",value:function(){var e=this;if(this.props.paperDetail.paper.hasCitations()){var t=this.state.statsTabs.map(function(t,n){var r="tab-"+n,o=(0,se["default"])("tab__link",{"is-active":e.state.activeStatTabId===t.id}),i=Z["default"].getString("paperDetail.stats."+t.id+".display");return u(Y["default"],{},r,u("a",{className:o,onClick:e.onStatTabClick.bind(e,t.id)},void 0,i))});return u(K["default"],{},void 0,t)}return null}},{key:"renderPaperDetailStats",value:function(){var e=this;return this.props.paperDetail.paper.citationStats.estNumCitations.shouldDisplay()||this.props.paperDetail.paper.citationStats.estCitationVelocity.shouldDisplay()||this.props.paperDetail.paper.citationStats.estCitationAcceleration.shouldDisplay()?u(C["default"],{className:"page-section--left"},void 0,ye,u(H["default"],{onActive:function(){e.onActiveNavChange("statistics")}},void 0,u("div",{className:"flex-row-vcenter border-bottom--gray"},void 0,me,u("div",{className:"flex-right page-section__controls"},void 0,this.renderStatsTabControls())),u(M["default"],{paperId:this.props.paperDetail.paper.id,stats:this.props.paperDetail.paper.citationStats,activeStat:this.state.activeStatTabId}))):null}},{key:"renderRelatedPapersSection",value:function(){var e=this;if(this.context.uiOptionsStore.options.disableRelatedPapers)return null;var t=this.props.paperDetail&&!this.props.paperDetail.isLoadingRelatedPapers?u(F["default"],{papers:this.props.paperDetail.relatedPapers,user:this.state.user}):u("div",{className:"padded flex-row-centered"},void 0,ve," ",Z["default"].getString("paperDetail.related-papers.loading"));return u(C["default"],{className:"page-section--left related-papers-section"},void 0,ge,u(H["default"],{onActive:function(){e.onActiveNavChange("relatedPapers")}},void 0,u(j["default"],{icon:"related-papers",text:Z["default"].getString("paperDetail.related-papers.generic-title")}),t))}},{key:"renderPaperContent",value:function(){var e=this.props.paperDetail.paper,t=e.citationStats||{};return u(y["default"],{},void 0,u(P["default"],{},void 0,this.renderDetailsSection(e),this.renderFiguresSection(),this.renderReferencesSection(e,t),this.renderCitationsSection(e,t),this.renderPaperDetailStats(),this.renderRelatedPapersSection()),u(V["default"],{leftOrRight:"right"},void 0,this.renderNav(e,t)))}},{key:"render",value:function(){return u("div",{className:"paper"},void 0,u("div",{className:"content paper-content"},void 0,this.renderPaperContent()))}}]),t}(w["default"]);n["default"]=be},{"../../../constants/StatType":171,"../../../content/content":176,"../../../hash-scroll.js":181,"../../../models/index":196,"../../../util":221,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/layout/PageSection.jsx":138,"../../shared/loading/LoadingIndicator.jsx":141,"../../shared/paper/AcmLinkMessage.jsx":146,"../../shared/paper/NoPdfFoundMessage.jsx":149,"../common/general/ScrollWaypoint.jsx":26,"../common/layout/ColumnSet.jsx":30,"../common/layout/MainColumn.jsx":31,"../common/layout/PageSectionTitle.jsx":32,"../common/layout/Sidebar.jsx":34,"../common/layout/sticky-nav/StickyNav.jsx":35,"../common/layout/tabs/Tab.jsx":37,"../common/layout/tabs/Tabs.jsx":38,"../common/message/PoorMetadataBanner.jsx":43,"./CitationsList.jsx":72,"./FigureList.jsx":73,"./PaperDetailContent.jsx":75,"./PaperDetailStats.jsx":78,"./PaperHeader.jsx":79,"./related-papers/RelatedPapers.jsx":81,classnames:240,react:465}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("react"),a=r(i),s=e("react-router"),u=e("react-immutable-render-mixin"),l=r(u),c=e("../../../stores/paper"),f=r(c),p=e("../../../utils/routing/query-routes"),d=r(p),h=a["default"].createClass({displayName:"PaperDetailContent",mixins:[l["default"],f["default"].Mixin],propTypes:{paperDetail:a["default"].PropTypes.object.isRequired,headerTag:a["default"].PropTypes.string},getDefaultProps:function(){return{headerTag:"h4"}},renderKeyPhrases:function(){var e=this.props.paperDetail.get("paper");if(e.keyPhrases&&!e.keyPhrases.isEmpty()){var t=a["default"].createElement(this.props.headerTag,void 0,"Extracted Key Phrases");return o("section",{className:"key-phrases"},void 0,t,o("ul",{className:"flex-row"},void 0,e.keyPhrases.map(function(e,t){return o("li",{},t,a["default"].createElement(s.Link,d["default"].routeForQuery(e,"keyPhrase"),e))})))}return null},render:function(){var e=this.props.paperDetail.get("paper");if(e.paperAbstract&&e.paperAbstract.text){var t=a["default"].createElement(this.props.headerTag,void 0,"Abstract");return o("section",{className:"paper-abstract"},void 0,t,o("p",{},void 0,e.paperAbstract.text),this.renderKeyPhrases())}return null}});n["default"]=h},{"../../../stores/paper":216,"../../../utils/routing/query-routes":224,react:465,"react-immutable-render-mixin":296,"react-router":322}],76:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"message--empty"},void 0,s("h4",{className:"text--gray"},void 0,this.props.title),s("p",{},void 0,this.props.text))}}],[{key:"propTypes",get:function(){return{title:p["default"].PropTypes.string.isRequired,text:p["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../../shared/general/ImmutableRenderComponent.jsx":123,react:465}],77:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("../common/layout/AppHeader.jsx"),a=r(i),s=e("../common/layout/AppFooter.jsx"),u=r(s),l=e("../../shared/loading/LoadingIndicator.jsx"),c=r(l),f=e("./PaperDetail.jsx"),p=r(f),d=e("../../shared/paper/PaperDetailLinkedData.jsx"),h=r(d),y=e("../../../models/redirects/S2Redirect"),m=r(y),v=e("../../../stores/auth"),g=r(v),b=e("../../../stores/paper"),_=r(b),w=e("../../../constants"),S=r(w),T=e("../../../constants/sort-type"),x=r(T),P=e("merge"),E=r(P),C=e("promise"),O=r(C),R=e("react"),k=r(R),j=e("react-router"),I=o("div",{className:"container"},void 0,o("div",{className:"loading-controls flex-row-vcenter"},void 0,o(c["default"],{})," Loading")),M=o(a["default"],{showSearchBar:!0}),A=o(j.RouteHandler,{}),N=o(u["default"],{}),D=k["default"].createClass({displayName:"PaperDetailPage",mixins:[g["default"].Mixin,_["default"].Mixin],contextTypes:{router:k["default"].PropTypes.func.isRequired,dispatcher:k["default"].PropTypes.object.isRequired},statics:{willRouteTo:function(e,t){var n=t.params.paperId,r=t.params.slug||"",o=e.paperStore.getPaperDetail().get("paper").id,i=e.paperStore.getPaperDetail().getIn(["citingPapers","sort"]),a=e.paperStore.getPaperDetail().getIn(["citedPapers","sort"]),s=t.query.citingPapersSort||x["default"].IS_INFLUENTIAL_CITATION.id,u=t.query.citedPapersSort||x["default"].IS_INFLUENTIAL_CITATION.id,l=void 0;return l=o!==n?e.api.fetchPaperDetail(n,r,s,u):i!==s?e.api.fetchCitations(n,"citingPapers",s,1):a!==u?e.api.fetchCitations(n,"citedPapers",u,1):O["default"].resolve(),e.dispatcher.dispatch({actionType:S["default"].actions.UPDATE_FOCUSED_FIGURE_INDEX,figureIndex:t.params.figureIndex}),l.then(function(n){if(n&&n.resultData&&n.resultData.canonicalId)return new m["default"]({routeName:"paperDetail",params:(0,E["default"])(t.params,{paperId:n.resultData.canonicalId,slug:n.resultData.canonicalSlug}),query:t.query,replace:!0});if(t.routes.filter(function(e){return"paperDetailFigure"===e.name}).length>0){var r=e.paperStore.getPaperDetail();return r.figures.has(e.paperStore.focusedFigureIndex)?n:O["default"].reject({status:404})}return n})},getPageTitle:function(e){var t=e.paperStore.getPaperDetail().paper.title.text;return t+" - Semantic Scholar"},getPageMetaDescription:function(e){return e.paperStore.getPaperDetail().description()}},getInitialState:function(){return{paperDetail:this.getPaperStore().getPaperDetail(),loading:this.getPaperStore().isLoading()}},onPaperStoreChange:function(){this.setState({paperDetail:this.getPaperStore().getPaperDetail(),loading:this.getPaperStore().isLoading()})},renderLoading:function(){return I},render:function(){var e=this.state.loading?this.renderLoading():o(p["default"],{paperDetail:this.state.paperDetail});return o("div",{className:"paper"},void 0,M,e,A,this.state.loading?null:N,o(h["default"],{paperDetail:this.state.paperDetail}))}});n["default"]=D},{"../../../constants":155,"../../../constants/sort-type":175,"../../../models/redirects/S2Redirect":203,"../../../stores/auth":211,"../../../stores/paper":216,"../../shared/loading/LoadingIndicator.jsx":141,"../../shared/paper/PaperDetailLinkedData.jsx":150,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,"./PaperDetail.jsx":74,merge:277,promise:282,react:465,"react-router":322}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/histogram/CitationVelocityHistogram.jsx"),c=r(l),f=e("../../shared/histogram/CitationAccelerationHistogram.jsx"),p=r(f),d=e("../../shared/histogram/EstimatedTotalCitationsHistogram.jsx"),h=r(d),y=e("../../shared/general/ImmutableRenderComponent.jsx"),m=r(y),v=e("./PaperDetailEmptyStatsMessage.jsx"),g=r(v),b=e("../../../content/content"),_=r(b),w=e("../../../constants/StatType"),S=r(w),T=e("react"),x=r(T),P=500,E=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"renderTotalCitationsHistogram",value:function(){return this.props.stats.estNumCitations.shouldDisplay()?s("div",{className:"paper-detail-histogram"},void 0,s(h["default"],{width:P,id:this.props.paperId+"Detail",entityId:this.props.paperId,citationStats:this.props.stats,showErrorBars:!0,layout:"horizontal"})):s(g["default"],{title:_["default"].getString("citations.few-citations.text"),text:_["default"].getString("citations.estimatedTotal.insufficientData")})}},{key:"renderCitationAccelerationHistogram",value:function(){return this.props.stats.estCitationAcceleration.shouldDisplay()?s("div",{className:"paper-detail-histogram"},void 0,s(p["default"],{width:P,id:this.props.paperId+"Detail",citationStats:this.props.stats,entityId:this.props.paperId,showErrorBars:!0,layout:"horizontal"})):s(g["default"],{title:_["default"].getString("citations.no-recent-citations.text"),text:_["default"].getString("citations.velocity.no-citations-text")})}},{key:"renderCitationVelocityHistogram",value:function(){return this.props.stats.estCitationVelocity.shouldDisplay()?s("div",{className:"paper-detail-histogram"},void 0,s(c["default"],{width:P,id:this.props.paperId+"Detail",citationStats:this.props.stats,entityId:this.props.paperId,showErrorBars:!0,layout:"horizontal"})):s(g["default"],{title:_["default"].getString("citations.no-recent-citations.text"),text:_["default"].getString("citations.velocity.no-citations-text")})}},{key:"render",value:function(){switch(this.props.activeStat){case S["default"].CITATIONS.id:return this.renderTotalCitationsHistogram();case S["default"].CITATION_VELOCITY.id:return this.renderCitationVelocityHistogram();case S["default"].CITATION_ACCELERATION.id:return this.renderCitationAccelerationHistogram();default:return this.renderTotalCitationsHistogram()}}}],[{key:"propTypes",get:function(){return{paperId:x["default"].PropTypes.string.isRequired,stats:x["default"].PropTypes.object.isRequired,activeStat:x["default"].PropTypes.string.isRequired}}}]),t}(m["default"]);n["default"]=E},{"../../../constants/StatType":171,"../../../content/content":176,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/histogram/CitationAccelerationHistogram.jsx":124,"../../shared/histogram/CitationVelocityHistogram.jsx":125,"../../shared/histogram/EstimatedTotalCitationsHistogram.jsx":126,"./PaperDetailEmptyStatsMessage.jsx":76,react:465}],79:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../common/links/BackToLink.jsx"),f=o(c),p=e("../../shared/general/ImmutableRenderComponent.jsx"),d=o(p),h=e("../common/paper/PaperActions.jsx"),y=o(h),m=e("../../shared/paper/PaperMeta.jsx"),v=o(m),g=e("../common/button/ShareButton.jsx"),b=o(g),_=e("../../../ga"),w=r(_),S=e("react"),T=o(S),x=u(f["default"],{}),P=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"subheadGACallback",value:function(e){"author"===e&&w.paperDetailAuthorClick(this.props.paper.id)}},{key:"render",value:function(){var e=this.props.paper;return u("section",{className:"paper-title"},void 0,u("div",{className:"flex-row-vcenter paper-detail-header-actions"},void 0,x,u("div",{className:"flex-right flex-row"},void 0,u(b["default"],{title:this.props.paper.title.text+" — Semantic Scholar",message:'View "'+this.props.paper.title.text+'" on Semantic Scholar',tooltipPosition:"bottom-right",className:"button--primary"}))),u("h1",{},void 0,e.title.text),u(v["default"],{paper:e,gaClickCallback:this.subheadGACallback.bind(this)}),u(y["default"],{paper:e,gaLabel:"detail",showIcons:!0}))}}],[{key:"propTypes",get:function(){return{paper:T["default"].PropTypes.object.isRequired}}},{key:"contextTypes",get:function(){return{router:T["default"].PropTypes.func.isRequired,dispatcher:T["default"].PropTypes.object.isRequired}}}]),t}(d["default"]);n["default"]=P},{"../../../ga":180,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/paper/PaperMeta.jsx":151,"../common/button/ShareButton.jsx":22,"../common/links/BackToLink.jsx":39,"../common/paper/PaperActions.jsx":56,react:465}],80:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("../../../shared/icon/Icon.jsx"),s=o(a),u=e("../../../../stores/paper.js"),l=o(u),c=e("../../../shared/figure/BaseFigureDetailPage"),f=o(c),p=e("../../common/button/ShareButton.jsx"),d=o(p),h=e("../../../../content/content"),y=o(h),m=e("../../../../format"),v=r(m),g=e("../../../../utils/routing/history"),b=o(g),_=e("../../../../ga"),w=r(_),S=e("react-immutable-render-mixin"),T=o(S),x=e("react-router"),P=o(x),E=e("react"),C=o(E),O=P["default"].Link,R=i(s["default"],{icon:"disclosure",width:"40",height:"40"}),k=i("a",{className:"close-figure-modal-link flex-row-vcenter"},void 0,i("span",{},void 0,"Close"),i(s["default"],{icon:"x",className:"flex-right",width:"30",height:"30"})),j=i(s["default"],{icon:"disclosure",width:"40",height:"40"}),I=C["default"].createClass({displayName:"FigureDetailPage",mixins:[T["default"],l["default"].Mixin],contextTypes:{router:C["default"].PropTypes.func.isRequired,historyStore:C["default"].PropTypes.object.isRequired,dispatcher:C["default"].PropTypes.object.isRequired},statics:{getPageTitle:function(e){return f["default"].getPageTitle(e)},getPageMetaDescription:function(e){var t=e.paperStore.getPaperDetail(),n=t.figures.get(e.paperStore.focusedFigureIndex),r=t.paper.title.text;return y["default"].getString("metaDescription.paperFigure.content",n.caption,r)},getPageFigure:function(e){var t=e.paperStore.getPaperDetail(),n=t.figures.get(e.paperStore.focusedFigureIndex);return n}},getSyncedState:function(){var e=this.getPaperStore(),t=e.getPaperDetail(),n=t.figures.size-1,r=e.focusedFigureIndex+1;r>n&&(r=0);var o=e.focusedFigureIndex-1;return o<0&&(o=n),{paperId:t.paper.id,paperTitle:t.paper.title.text,slug:t.paper.slug,figure:t.figures.get(e.focusedFigureIndex),next:r,prev:o}},getInitialState:function(){return this.getSyncedState()},onPaperStoreChange:function(){this.setState(this.getSyncedState())},hide:function(){var e={to:"paperDetail",params:{paperId:this.state.paperId,slug:this.state.slug}},t=b["default"].maybeRouteToPrior(this.context.router,this.context.historyStore,e);t||this.context.router.transitionTo(e.to,e.params)},onKeyDown:function(e){switch(e.keyCode){case 27:e.preventDefault(),w.figureKeyNav("hide"),this.hide();break;case 37:e.preventDefault(),w.figureKeyNav("prev"),this.context.router.transitionTo("paperDetailFigure",{paperId:this.state.paperId,slug:this.state.slug,figureIndex:this.state.prev});break;case 39:e.preventDefault(),w.figureKeyNav("next"),this.context.router.transitionTo("paperDetailFigure",{paperId:this.state.paperId,slug:this.state.slug,figureIndex:this.state.next})}},componentDidMount:function(){document.addEventListener("keydown",this.onKeyDown)},componentWillUnmount:function(){document.removeEventListener("keydown",this.onKeyDown)},render:function(){var e=this,t=function(e){return e.stopPropagation()},n=function(){w.figureClick("hide"),e.hide()};if("undefined"==typeof this.state.figure)return null;var r=y["default"].getString("paperDetail.figure.page-title",v.capitalizeFirst(this.state.figure.displayName),this.state.paperTitle);return i("div",{},void 0,i("div",{className:"enable-text-selection modal-container figure-modal",onClick:n},void 0,i(O,{to:"paperDetailFigure",params:{paperId:this.state.paperId,slug:this.state.slug,figureIndex:this.state.prev},onClick:function(e){e.stopPropagation(),w.figureClick("prev")},className:"prev-figure"},void 0,R),k,i("div",{className:"modal",onClick:t},void 0,i("div",{className:"text--right"},void 0,i(d["default"],{title:r,className:"button--primary flex-right",tooltipPosition:"bottom-right"})),i("img",{src:this.state.figure.uri,alt:this.state.figure.caption}),i("div",{className:"figure-caption"},void 0,this.state.figure.caption)),i(O,{to:"paperDetailFigure",params:{paperId:this.state.paperId,slug:this.state.slug,figureIndex:this.state.next},onClick:function(e){e.stopPropagation(),w.figureClick("next")},className:"next-figure"},void 0,j)))}});n["default"]=I},{"../../../../content/content":176,"../../../../format":179,"../../../../ga":180,"../../../../stores/paper.js":216,"../../../../utils/routing/history":223,"../../../shared/figure/BaseFigureDetailPage":121,"../../../shared/icon/Icon.jsx":135,"../../common/button/ShareButton.jsx":22,react:465,"react-immutable-render-mixin":296,"react-router":322}],81:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../search/result/SearchResult.jsx"),p=r(f),d=e("../../../../content/content"),h=r(d),y=e("../../../../constants/Interaction"),m=r(y),v=e("../../search/SearchLayoutOptions"),g=r(v),b=e("immutable"),_=r(b),w=e("react"),S=r(w),T=new g["default"],x=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.context.dispatcher.isDispatching()?setTimeout(this.trackRelatedPapersImpressions.bind(this),0):this.trackRelatedPapersImpressions()}},{key:"trackRelatedPapersImpressions",value:function(){this.context.dispatcher.dispatch({actionType:m["default"].action.NON_INTERACTIVE_EVENT,data:{interactionCategory:m["default"].category.RELATED_PAPERS,interactionType:m["default"].type.SHOW,interactionValue:this.props.papers.size}})}},{key:"renderRelatedPapers",value:function(){var e=this,t=this.props.papers.map(function(t,n){return s(p["default"],{result:t,layout:T,user:e.props.user,index:n},n)});return t}},{key:"renderEmptyRelatedPapers",value:function(){return s("div",{className:"empty"},void 0,h["default"].getString("paperDetail.related-papers.no-papers"))}},{key:"render",value:function(){return s("div",{className:"related-papers-list"},void 0,this.props.papers.isEmpty()?this.renderEmptyRelatedPapers():this.renderRelatedPapers())}}],[{key:"contextTypes",get:function(){return{dispatcher:S["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{papers:S["default"].PropTypes.instanceOf(_["default"].List),user:S["default"].PropTypes.object}}}]),t}(c["default"]);n["default"]=x},{"../../../../constants/Interaction":164,"../../../../content/content":176,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../search/SearchLayoutOptions":88,"../../search/result/SearchResult.jsx":96,immutable:275,react:465}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./PdfViewerPage.jsx"),l=r(u),c=e("../../../models/redirects/S2Redirect"),f=r(c),p=e("merge"),d=r(p),h=e("promise"),y=r(h),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,null,[{key:"willRouteTo",value:function(e,t){if(e.pdfViewerStore.state.paper&&e.pdfViewerStore.state.paper.id===t.params.paperId)return new y["default"].resolve(e.pdfViewerStore.state.paper);var n=e.api.fetchPdfUrl(t.params.paperId,t.params.slug);return n.then(function(e){return e&&e.resultData&&e.resultData.canonicalId?new f["default"]({routeName:"paperPdfViewer",params:(0,d["default"])(t.params,{paperId:e.resultData.canonicalId,slug:e.resultData.canonicalSlug}),query:void 0,replace:!0}):e})}},{key:"getPageTitle",value:function(e){var t=e.pdfViewerStore.state.paper;return t?t.title.text+" (PDF) - Semantic Scholar":"PDF - Semantic Scholar"}},{key:"getPageMetaDescription",value:function(e){return e.pdfViewerStore.state.paper.description()}}]),t}(l["default"]);n["default"]=m},{"../../../models/redirects/S2Redirect":203,"./PdfViewerPage.jsx":83,merge:277,promise:282}],83:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=e("react-dom"),h=r(d),y=function(e){function t(e,n){var r;o(this,t);for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];var l=i(this,(r=Object.getPrototypeOf(t)).call.apply(r,[this,e,n].concat(s)));return l.state={pdfUrl:n.pdfViewerStore.state.pdfUrl},n.pdfViewerStore.registerComponent(l,function(){l.setState({pdfUrl:n.pdfViewerStore.state.pdfUrl})}),l}return a(t,e),u(t,null,[{key:"contextTypes",get:function(){return{pdfViewerStore:p["default"].PropTypes.object.isRequired
}}}]),u(t,[{key:"componentDidMount",value:function(){h["default"].findDOMNode(this).focus()}},{key:"render",value:function(){return s("object",{className:"pdf-viewer",width:"100%",height:"100%",data:this.state.pdfUrl,type:"application/pdf"})}}]),t}(c["default"]);n["default"]=y},{"../../shared/general/ImmutableRenderComponent.jsx":123,react:465,"react-dom":294}],84:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./PdfViewerPage.jsx"),l=r(u),c=e("../../../models/redirects/S2Redirect"),f=r(c),p=e("merge"),d=r(p),h=e("promise"),y=r(h),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,null,[{key:"willRouteTo",value:function(e,t){if(e.pdfViewerStore.state.paper&&e.pdfViewerStore.state.paper.id===t.params.paperId)return new y["default"].resolve(e.pdfViewerStore.state.paper);var n=e.api.fetchPresentationPdfUrl(t.params.paperId,t.params.slug,t.params.presentationId);return n.then(function(e){return e&&e.resultData&&e.resultData.canonicalId?new f["default"]({routeName:"presentationPdfViewer",params:(0,d["default"])(t.params,{paperId:e.resultData.canonicalId,slug:e.resultData.canonicalSlug}),query:void 0,replace:!0}):e})}},{key:"getPageTitle",value:function(e){var t=e.pdfViewerStore.state.paper;return t?t.title.text+" (Slides) - Semantic Scholar":"Slides - Semantic Scholar"}},{key:"getPageMetaDescription",value:function(e){return e.pdfViewerStore.state.paper.description()}}]),t}(l["default"]);n["default"]=m},{"../../../models/redirects/S2Redirect":203,"./PdfViewerPage.jsx":83,merge:277,promise:282}],85:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../common/layout/ColumnSet.jsx"),p=r(f),d=e("../common/layout/MainColumn.jsx"),h=r(d),y=e("../common/layout/Sidebar.jsx"),m=r(y),v=e("../../../utils/routing/query-routes.js"),g=r(v),b=e("react"),_=r(b),w=e("react-router"),S=r(w),T=S["default"].Link,x=s(m["default"],{className:"no-results"}),P=s("h1",{className:"bold"},void 0,"No Papers Found"),E=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"suggestedQuery",value:function(){if(this.props.suggestedQuery){var e=_["default"].createElement(T,g["default"].routeForQuery(this.props.suggestedQuery),this.props.suggestedQuery);return s("p",{className:"query-suggestions"},void 0,"Did you mean ",s("strong",{},void 0,e,"?"))}return null}},{key:"render",value:function(){return s(p["default"],{},void 0,x,s(h["default"],{},void 0,P,s("p",{},void 0,"Sorry, there are no results for ",s("em",{},void 0,this.props.query,".")),this.suggestedQuery()))}}],[{key:"propTypes",get:function(){return{query:_["default"].PropTypes.string.isRequired,suggestedQuery:_["default"].PropTypes.string}}}]),t}(c["default"]);n["default"]=E},{"../../../utils/routing/query-routes.js":224,"../../shared/general/ImmutableRenderComponent.jsx":123,"../common/layout/ColumnSet.jsx":30,"../common/layout/MainColumn.jsx":31,"../common/layout/Sidebar.jsx":34,react:465,"react-router":322}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../shared/loading/LoadingIndicator.jsx"),p=r(f),d=e("../common/sort/SortControl.jsx"),h=r(d),y=e("./SortExplanation.jsx"),m=r(y),v=e("./ViewResultsOnGoogleScholar.jsx"),g=r(v),b=e("../../../constants/Interaction"),_=r(b),w=e("immutable"),S=r(w),T=e("react"),x=r(T),P=s("h1",{className:"flex-row-vcenter"},void 0,s(p["default"],{})," Updating results"),E=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onChangeSort",value:function(e){this.context.dispatcher.dispatch({actionType:_["default"].action.CHANGE_SORT,data:{interactionCategory:_["default"].category.SEARCH_RESULTS,interactionType:_["default"].type.SORT,interactionTarget:e}}),this.context.queryStore.routeToSort(e,this.context.router)}},{key:"renderCurrentPage",value:function(){return s("h1",{},void 0,"Page ",this.props.response.query.page)}},{key:"renderLoadingIndicator",value:function(){return P}},{key:"renderGoogleScholarButton",value:function(){return s(g["default"],{queryString:this.props.response.query.queryString})}},{key:"renderPageNumber",value:function(){return this.props.isFiltering?this.renderLoadingIndicator():this.renderCurrentPage()}},{key:"render",value:function(){return s("div",{className:"controls"},void 0,this.props.showPageNumber?this.renderPageNumber():null,s("div",{className:"controls-right flex-row"},void 0,this.props.showGoogleScholarButton?this.renderGoogleScholarButton():null,s(h["default"],{onChangeSort:this.onChangeSort.bind(this),options:this.props.sorts,displayType:this.props.sortDisplayType,sort:this.props.query.sort})),this.props.showSortExplanation?s(m["default"],{sorts:this.props.sorts}):null)}}],[{key:"contextTypes",get:function(){return{dispatcher:x["default"].PropTypes.object.isRequired,queryStore:x["default"].PropTypes.object.isRequired,router:x["default"].PropTypes.func.isRequired}}},{key:"propTypes",get:function(){return{isFiltering:x["default"].PropTypes.bool,query:x["default"].PropTypes.object.isRequired,response:x["default"].PropTypes.object.isRequired,showGoogleScholarButton:x["default"].PropTypes.bool,showPageNumber:x["default"].PropTypes.bool,sortDisplayType:x["default"].PropTypes.string,showFilterToggle:x["default"].PropTypes.bool,showSortExplanation:x["default"].PropTypes.bool,onFilterToggle:x["default"].PropTypes.func,sorts:x["default"].PropTypes.instanceOf(S["default"].List)}}}]),t}(c["default"]);n["default"]=E},{"../../../constants/Interaction":164,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/loading/LoadingIndicator.jsx":141,"../common/sort/SortControl.jsx":61,"./SortExplanation.jsx":92,"./ViewResultsOnGoogleScholar.jsx":93,immutable:275,react:465}],87:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=e("../../shared/checkbox/FilterCheckbox.jsx"),s=o(a),u=e("../../shared/histogram/Histogram.jsx"),l=o(u),c=e("../common/tooltip/Tooltip.jsx"),f=o(c),p=e("../../shared/icon/Icon.jsx"),d=o(p),h=e("../common/slider/Slider.jsx"),y=o(h),m=e("../../../stores/query"),v=o(m),g=e("../../../stores/user-preferences"),b=e("../../../constants"),_=o(b),w=e("../../../format"),S=r(w),T=e("../../../ga"),x=r(T),P=e("../../../util"),E=r(P),C=e("classnames"),O=o(C),R=e("react-immutable-render-mixin"),k=o(R),j=e("react"),I=o(j),M=i(d["default"],{className:"minus",icon:"minus",width:"16",height:"16"}),A=i("span",{},void 0,"Less"),N=i(d["default"],{className:"plus",icon:"plus",width:"16",height:"16"}),D={propTypes:{filters:I["default"].PropTypes.array,icon:I["default"].PropTypes.string,filterType:I["default"].PropTypes.string.isRequired},getInitialState:function(){return{open:!1,search:null}},componentWillReceiveProps:function(e){(!e.filters||e.filters.length<=_["default"].data.FILTER_DISPLAY_LIMIT)&&this.setState({open:!1,search:null})},toggleMore:function(){x.trackFilterToggleMore(this.props.filterType,this.state.open),this.setState({open:!this.state.open})},renderMoreToggle:function(){var e=this.props.filters.length,t=e-_["default"].data.FILTER_DISPLAY_LIMIT,n=this.props.filters.slice(e-t-1).reduce(function(e,t){return e+t.count},0),r=(0,O["default"])("more flex-row-vcenter",{active:n});return t>0?this.state.open?i("li",{className:r,onClick:this.toggleMore},void 0,M,A):i("li",{className:r,onClick:this.toggleMore},void 0,N,i("span",{},void 0,"More (",t,")")):null},renderRemainingFilters:function(){if(this.state.open&&this.props.filters.length>_["default"].data.FILTER_DISPLAY_LIMIT){var e=this.props.filters.slice(_["default"].data.FILTER_DISPLAY_LIMIT,this.props.filters.length);return i("div",{className:"remaining"},void 0,i("ul",{},void 0,e.map(this.renderFilter)))}return null},render:function(){if(this.props.filters&&this.props.filters.length){var e=void 0;e=this.props.filters.length>_["default"].data.FILTER_DISPLAY_LIMIT?this.props.filters.slice(0,_["default"].data.FILTER_DISPLAY_LIMIT):this.props.filters;var t="type"!==this.props.filterType?i("h4",{className:"flex-row-vcenter"},void 0,i(d["default"],{icon:this.props.icon,width:"16",height:"16"}),S.filterTypeDisplayTitle(this.props.filterType)):null;return i("section",{},void 0,t,i("ul",{},void 0,e.map(this.renderFilter),this.renderMoreToggle()),this.renderRemainingFilters())}return null}},L=i("strong",{},void 0,"Overviews"),q=I["default"].createClass({displayName:"ClassificationFilterList",mixins:[k["default"],D,g.UserPreferencesStoreMixin],contextTypes:{dispatcher:I["default"].PropTypes.object.isRequired},propTypes:{filterType:I["default"].PropTypes.string.isRequired},getDefaultProps:function(){return{filterType:"type"}},getInitialState:function(){return{hideOverviewExplanation:this.getLocalUserPreference(g.UserPreference.HIDE_OVERVIEW_EXPLANATION)}},onUserPrefsStoreChange:function(){this.setState({hideOverviewExplanation:this.getLocalUserPreference(g.UserPreference.HIDE_OVERVIEW_EXPLANATION)})},renderFilter:function(e,t){var n=e.displayValue||e.value,r=""+n.substr(0,1).toUpperCase()+n.substr(1),o=null,a=i("div",{className:"flex-row-vcenter"},void 0,i(d["default"],{className:"type-icon",icon:n,width:"20",height:"20"}),i("label",{className:"checkbox-label"},void 0,r+" ("+E.format(e.count)+")")),u=i(s["default"],{filterType:this.props.filterType,value:e.value,labelElement:a,index:t});if(e.count>0&&"survey"===e.value&&this.state.hideOverviewExplanation!==!0){var l=function(e){e.stopPropagation(),e.preventDefault(),this.context.dispatcher.dispatch({actionType:_["default"].actions.SET_LOCAL_USER_PREFERENCE,key:g.UserPreference.HIDE_OVERVIEW_EXPLANATION,value:!0})}.bind(this),c=i("span",{},void 0,L," provide a survey or high-level explanation of a field or topic.",i("div",{className:"dont-show-me-again"},void 0,i("a",{onClick:l},void 0,"Don't show me this again.")));o=i(f["default"],{tooltipContent:c,tooltipPosition:"bottom-left"},void 0,u)}else o=u;return i("li",{className:"filter-type-"+n},e.value,o)}}),F=I["default"].createClass({displayName:"FilterList",mixins:[k["default"],v["default"].Mixin,D],propTypes:{filterType:I["default"].PropTypes.string.isRequired},renderFilter:function(e,t){var n=e.displayValue||e.value,r=e.count,o=!(this.isFilterActive(this.props.filterType,e.value)&&0===r),a=o?n+" ("+E.format(r)+")":n;return i("li",{},e.value,i(s["default"],{filterType:this.props.filterType,value:e.value,label:a,index:t}))}}),U=i("h4",{className:"flex-row-vcenter"},void 0,i(d["default"],{icon:"calendar",width:"16",height:"16"})," Publication Year:"),H=I["default"].createClass({displayName:"Filters",mixins:[k["default"],v["default"].Mixin],propTypes:{selectedStartYear:I["default"].PropTypes.number,selectedEndYear:I["default"].PropTypes.number,availableFilters:I["default"].PropTypes.object.isRequired},getYearStats:function(e){var t=e.availableFilters.get("years");if(t&&t.length>1){var n=e.availableFilters.get("filteredYears"),r=null,o=null;n&&n.length>0&&(r=n[0].startKey,o=n[n.length-1].startKey);var i=e.selectedStartYear,a=e.selectedEndYear,s=t[0].startKey,u=t[t.length-1].startKey,l=a;l=l<s?u:Math.min(u,l);var c=i;return c=c>u?s:Math.max(s,c),{years:t,filteredYears:n,selectedStartYear:c,selectedEndYear:l,min:t[0].startKey,max:t[t.length-1].startKey,step:t[0].endKey-t[0].startKey+1,filteredMin:r,filteredMax:o}}return null},getInitialYearSliderState:function(e){var t={yearSliderHighVal:null,yearSliderLowVal:null},n=this.getYearStats(e);return n&&(t.yearSliderLowVal=Math.max(n.selectedStartYear||n.min,n.filteredMin||Number.MIN_VALUE),t.yearSliderHighVal=Math.min(n.selectedEndYear||n.max,n.filteredMax||Number.MAX_VALUE)),t},getInitialState:function(){return this.getInitialYearSliderState(this.props)},componentWillReceiveProps:function(e){this.setState(this.getInitialYearSliderState(e))},onYearChange:function(e,t){this.setYearRange(e,t)},onYearSliderChange:function(e,t){this.setState({yearSliderLowVal:e,yearSliderHighVal:t})},onYearBucketSelect:function(e){var t=this.getYearStats(this.props);(!t.filteredMin||e.startKey>=t.filteredMin)&&(!t.filteredMax||e.endKey<=t.filteredMax)&&this.setYearRange(e.startKey,e.endKey)},filterPopoverCount:function(e){var t=this.getYearStats(this.props),n=t.filteredYears||e.selectedStartYear<(t.selectedStartYear||t.min)||e.selectedEndYear>(t.selectedEndYear||t.max),r=E.arrayFind(t.filteredYears||[],function(t){return t.startKey===e.startKey}),o=r&&r.count||0,i=n?o:e.count;return i},renderYearSlider:function(){var e=this.getYearStats(this.props);if(e){var t=void 0;return t=e.filteredYears?[{buckets:e.years,renderer:l["default"].bucketRenderers.unfilteredBuckets},{buckets:e.filteredYears,renderer:l["default"].bucketRenderers.selectedBuckets}]:[{buckets:e.years,renderer:l["default"].bucketRenderers.selectedBuckets}],i("section",{className:"years"},void 0,U,i(l["default"],{id:"filters",width:200,height:50,useLogScale:!0,bucketRenderers:t,minSelected:this.state.yearSliderLowVal,maxSelected:this.state.yearSliderHighVal,onBucketClick:this.onYearBucketSelect,renderPopover:!0,filterPopoverCount:this.filterPopoverCount}),i(y["default"],{onChanged:this.onYearChange,onChange:this.onYearSliderChange,width:200,min:e.min,max:e.max,step:e.step,filteredMin:e.filteredMin,filteredMax:e.filteredMax,lowVal:this.state.yearSliderLowVal,highVal:this.state.yearSliderHighVal}))}return null},render:function(){return i("div",{className:"filters-wrapper"},void 0,i(q,{filters:this.props.availableFilters.classifications}),this.renderYearSlider(),i(F,{icon:"author",filterType:"author",filters:this.props.availableFilters.authors}),i(F,{icon:"author",filterType:"coAuthor",filters:this.props.availableFilters.coAuthors}),i(F,{icon:"topic",filterType:"keyPhrase",filters:this.props.availableFilters.keyPhrases}),i(F,{icon:"dataset",filterType:"dataSet",filters:this.props.availableFilters.dataSets}),i(F,{icon:"venue",filterType:"venue",filters:this.props.availableFilters.venues}))}});n["default"]=H},{"../../../constants":155,"../../../format":179,"../../../ga":180,"../../../stores/query":217,"../../../stores/user-preferences":219,"../../../util":221,"../../shared/checkbox/FilterCheckbox.jsx":116,"../../shared/histogram/Histogram.jsx":127,"../../shared/icon/Icon.jsx":135,"../common/slider/Slider.jsx":59,"../common/tooltip/Tooltip.jsx":62,classnames:240,react:465,"react-immutable-render-mixin":296}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../constants/sort-type"),a=r(i),s=e("merge"),u=r(s),l=function c(){var e=arguments.length<=0||void 0===arguments[0]?{showQueryEntity:!0,showGoogleScholarButton:!0,showSortExplanation:!1,filtersExpandedByDefault:!0,showPageNumber:!0,sortDisplayType:"select",scrollToTopOfPage:!0,searchResultLayout:{showSortStat:!1},sorts:null}:arguments[0];o(this,c),e.sorts||(e.sorts=a["default"].paperSearch()),(0,u["default"])(this,e)};n["default"]=l},{"../../../constants/sort-type":175,merge:277}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./EmptySearchResults.jsx"),c=r(l),f=e("./SearchResultsList.jsx"),p=r(f),d=e("../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("../../shared/loading/LoadingIndicator.jsx"),m=r(y),v=e("../../../constants/query-state"),g=r(v),b=e("merge"),_=r(b),w=e("react"),S=r(w),T=s("div",{className:"container loading-controls flex-row-vcenter"},void 0,s(m["default"],{})," Loading results"),x=function(e){function t(e,n){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e,n));return r.state=(0,_["default"])(r.stateFromAuthStore(),r.stateFromQueryStore()),n.queryStore.registerComponent(r,function(){r.setState(r.stateFromQueryStore())}),n.authStore.registerComponent(r,function(){r.setState(r.stateFromAuthStore())}),r}return a(t,e),u(t,null,[{key:"contextTypes",get:function(){return{authStore:S["default"].PropTypes.object.isRequired,queryStore:S["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{layoutOptions:S["default"].PropTypes.object.isRequired}}}]),u(t,[{key:"stateFromAuthStore",value:function(){return{user:this.context.authStore._user}}},{key:"stateFromQueryStore",value:function(){return{queryStoreState:this.context.queryStore._state,query:this.context.queryStore._query,response:this.context.queryStore._response}}},{key:"render",value:function(){if(this.state.queryStoreState===g["default"].LOADING)return T;var e=!this.state.response.results.isEmpty();if(e)return s(p["default"],{query:this.state.query,response:this.state.response,layoutOptions:this.props.layoutOptions,isFiltering:this.state.queryStoreState===g["default"].FILTERING,user:this.state.user});var t=this.state.response.querySuggestions.isEmpty()?void 0:this.state.response.querySuggestions.first().text;return s(c["default"],{query:this.state.query.queryString,suggestedQuery:t})}}]),t}(h["default"]);n["default"]=x},{"../../../constants/query-state":174,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/loading/LoadingIndicator.jsx":141,"./EmptySearchResults.jsx":85,"./SearchResultsList.jsx":90,merge:277,react:465}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./SearchControls.jsx"),c=r(l),f=e("./SearchFilters.jsx"),p=r(f),d=e("./result/SearchResult.jsx"),h=r(d),y=e("./result/SocialResult.jsx"),m=r(y),v=e("../../shared/general/ImmutableRenderComponent.jsx"),g=r(v),b=e("../../shared/pager/Pager.jsx"),_=r(b),w=e("./query-infobox/QueryInfobox.jsx"),S=r(w),T=e("../../../browser"),x=r(T),P=e("../common/layout/ColumnSet.jsx"),E=r(P),C=e("../common/layout/MainColumn.jsx"),O=r(C),R=e("../common/layout/Sidebar.jsx"),k=r(R),j=e("classnames"),I=r(j),M=e("immutable"),A=r(M),N=e("react"),D=r(N),L=e("react-dom"),q=r(L),F=s("h4",{className:"filter-header"},void 0,"Filter Results:"),U=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={filtersCollapsed:!s.props.layoutOptions.filtersExpandedByDefault},s}return a(t,e),u(t,null,[{key:"contextTypes",get:function(){return{queryStore:D["default"].PropTypes.object.isRequired,router:D["default"].PropTypes.func.isRequired,uiOptionsStore:D["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{isFiltering:D["default"].PropTypes.bool,query:D["default"].PropTypes.object.isRequired,response:D["default"].PropTypes.object.isRequired,user:D["default"].PropTypes.object,layoutOptions:D["default"].PropTypes.object}}}]),u(t,[{key:"componentDidUpdate",value:function(e){if(!A["default"].is(e.response,this.props.response)&&!this.props.response.results.isEmpty()){var t=document.body.scrollTop,n=this.refs["search-result-"+(this.props.response.results.size-1)];if(n){var r=x["default"].offsetFromBody(n);r<t&&(document.body.scrollTop=r-20)}}}},{key:"loadPage",value:function(e){e!==this.props.query.page&&(document.body.scrollTop=this.props.layoutOptions.scrollToTopOfPage?0:x["default"].offsetFromBody(q["default"].findDOMNode(this)),this.context.queryStore.routeToPage(e,this.context.router))}},{key:"onFilterToggle",value:function(){this.setState({filtersCollapsed:!this.state.filtersCollapsed})}},{key:"renderQueryEntity",value:function(){return this.props.response.queryEntity?s(S["default"],{queryEntity:this.props.response.queryEntity}):null}},{key:"render",value:function(){var e=this,t=(0,I["default"])("result-page",{"is-filtering":this.props.isFiltering}),n=this.props.response.results.map(function(t,n){var r="search-result-"+n,o=(e.props.query.page-1)*e.props.query.pageSize+n;return D["default"].createElement(h["default"],{result:t,key:n,index:o,ref:r,user:e.props.user,layout:e.props.layoutOptions.searchResultLayout})}),r=null;return this.props.response.socialPaper&&this.context.uiOptionsStore.options.enableHighlightedSocialPaper&&(r=s(m["default"],{paper:this.props.response.socialPaper,layoutOptions:this.props.layoutOptions.searchResultLayout})),s(E["default"],{},void 0,s(k["default"],{className:"filter",collapsed:this.state.filtersCollapsed,leftOrRight:"left"},void 0,F,s(p["default"],{selectedStartYear:this.props.query.yearFilter.min,selectedEndYear:this.props.query.yearFilter.max,availableFilters:this.props.response.stats})),s(O["default"],{className:"results"},void 0,this.props.layoutOptions.showQueryEntity?this.renderQueryEntity():null,s(c["default"],{query:this.props.query,response:this.props.response,isFiltering:this.props.isFiltering,showGoogleScholarButton:this.props.layoutOptions.showGoogleScholarButton,showPageNumber:this.props.layoutOptions.showPageNumber,sortDisplayType:this.props.layoutOptions.sortDisplayType,showSortExplanation:this.props.layoutOptions.showSortExplanation,onFilterToggle:this.onFilterToggle.bind(this),sorts:this.props.layoutOptions.sorts}),s("div",{className:t},void 0,r,n),s("div",{className:"flex-row"},void 0,s(_["default"],{className:"flex-right",loadPage:this.loadPage.bind(this),pageNumber:this.props.query.page,totalPages:this.props.response.totalPages}))))}}]),t}(g["default"]);n["default"]=U},{"../../../browser":6,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/pager/Pager.jsx":145,"../common/layout/ColumnSet.jsx":30,"../common/layout/MainColumn.jsx":31,"../common/layout/Sidebar.jsx":34,"./SearchControls.jsx":86,"./SearchFilters.jsx":87,"./query-infobox/QueryInfobox.jsx":95,"./result/SearchResult.jsx":96,"./result/SocialResult.jsx":101,classnames:240,immutable:275,react:465,"react-dom":294}],91:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./SearchResults.jsx"),c=r(l),f=e("./SearchLayoutOptions"),p=r(f),d=e("../common/layout/AppHeader.jsx"),h=r(d),y=e("../common/layout/AppFooter.jsx"),m=r(y),v=e("../../shared/general/ImmutableRenderComponent.jsx"),g=r(v),b=e("../../../stores/query"),_=r(b),w=e("../../../constants/query-state"),S=r(w),T=e("react"),x=r(T),P=s(h["default"],{showSearchBar:!0}),E=s(m["default"],{}),C=function(e){function t(e,n){var r;o(this,t);for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];var l=i(this,(r=Object.getPrototypeOf(t)).call.apply(r,[this,e,n].concat(s)));return l.state=l.stateFromQueryStore(),l.context.queryStore.registerComponent(l,function(){l.setState(l.stateFromQueryStore())}),l}return a(t,e),u(t,null,[{key:"willRouteTo",value:function(){return _["default"].executeQuery.apply(_["default"],arguments)}},{key:"getPageTitle",value:function(e){return e.queryStore.getQueryString()+" - Semantic Scholar"}},{key:"contextTypes",get:function(){return{queryStore:x["default"].PropTypes.object.isRequired}}}]),u(t,[{key:"stateFromQueryStore",value:function(){return{isLoading:this.context.queryStore._state===S["default"].LOADING}}},{key:"render",value:function(){var e=new p["default"];return s("div",{className:"search"},void 0,P,s("section",{className:"content"},void 0,s(c["default"],{layoutOptions:e})),this.state.isLoading?null:E)}}]),t}(g["default"]);n["default"]=C},{"../../../constants/query-state":174,"../../../stores/query":217,"../../shared/general/ImmutableRenderComponent.jsx":123,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,"./SearchLayoutOptions":88,"./SearchResults.jsx":89,react:465}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t;
}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/icon/HelpIcon.jsx"),c=r(l),f=e("../../shared/icon/Icon.jsx"),p=r(f),d=e("../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("../common/tooltip/Tooltip.jsx"),m=r(y),v=e("../../../content/content"),g=r(v),b=e("immutable"),_=r(b),w=e("react"),S=r(w),T=s("div",{className:"flex-row-vcenter"},void 0,s("span",{className:"sort-explanation-text-label"},void 0,"Learn More"),s(c["default"],{})),x=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.sorts.map(function(e,t){return s("div",{className:"sort-explanation-description"},t,s("h4",{className:"flex-row-vcenter"},void 0,s(p["default"],{icon:e.icon,width:"15",height:"15",className:"sort-explanation-icon"}),s("span",{},void 0,g["default"].getString("sort."+e.id+".title"))),s("span",{className:"sort-explanation-text",dangerouslySetInnerHTML:{__html:g["default"].getString("sort."+e.id+".description")}}))}),t=s("div",{className:"sort-explanation-tooltip-content"},void 0,e);return s(m["default"],{tooltipPosition:"bottom-right",className:"flex-right sort-explanation-tooltip",tooltipContent:t},void 0,T)}}],[{key:"propTypes",get:function(){return{sorts:S["default"].PropTypes.instanceOf(_["default"].List).isRequired}}}]),t}(h["default"]);n["default"]=x},{"../../../content/content":176,"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/icon/HelpIcon.jsx":134,"../../shared/icon/Icon.jsx":135,"../common/tooltip/Tooltip.jsx":62,immutable:275,react:465}],93:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../common/button/IconButton.jsx"),p=r(f),d=e("../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("../../../ga.js"),m=s("span",{},void 0,"Try your search on"),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e="https://scholar.google.com/scholar?q="+encodeURIComponent(this.props.queryString);return s("div",{className:"view-results-on-gs flex-row-vcenter"},void 0,m,s(p["default"],{iconProps:{icon:"google-scholar",width:"16",height:"16"},tagName:"a",href:e,target:"_blank",onClick:y.trackViewGoogleScholarResults.bind(void 0,this.props.queryString),text:"Google Scholar"}))}}],[{key:"propTypes",get:function(){return{queryString:c["default"].PropTypes.string}}}]),t}(h["default"]);n["default"]=v},{"../../../ga.js":180,"../../shared/general/ImmutableRenderComponent.jsx":123,"../common/button/IconButton.jsx":21,react:465}],94:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../author/statistics/CitationVelocity.jsx"),c=r(l),f=e("../../author/statistics/EstimatedCitations.jsx"),p=r(f),d=e("../../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("../../author/statistics/InfluentialCitations.jsx"),m=r(y),v=e("react"),g=r(v),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"renderInfluentialCitations",value:function(){return this.props.authorMeta.influentialCitationCount>0?s(m["default"],{influentialCitations:this.props.authorMeta.influentialCitationCount}):null}},{key:"renderCitationVelocity",value:function(){return this.props.authorMeta.estCitationVelocity.estimate.value>0?s(c["default"],{statistics:this.props.author.statistics,authorId:this.props.author.id,onHover:this.onStatHover.bind(this),onClick:this.onStatClick.bind(this)}):null}},{key:"renderEstimatedCitations",value:function(){return this.props.authorMeta.totalEstimatedCitations.value>0?s("li",{className:"author-stat"},void 0,this.props.authorMeta.totalEstimatedCitations.value):null}},{key:"render",value:function(){return s("div",{className:"flex-right"},void 0,s("ul",{className:"author-stats flex-row"},void 0,s("li",{},void 0,s(m["default"],{influentialCitations:this.props.authorMeta.influentialCitationCount,authorId:this.props.authorMeta.authorId,slug:this.props.authorMeta.slug})),s("li",{},void 0,s(c["default"],{statistics:this.props.authorMeta,authorId:this.props.authorMeta.authorId,slug:this.props.authorMeta.slug})),s("li",{},void 0,s(p["default"],{statistics:this.props.authorMeta,authorId:this.props.authorMeta.authorId,slug:this.props.authorMeta.slug}))))}}],[{key:"propTypes",get:function(){return{authorMeta:g["default"].PropTypes.object.isRequired}}}]),t}(h["default"]);n["default"]=b},{"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../author/statistics/CitationVelocity.jsx":16,"../../author/statistics/EstimatedCitations.jsx":17,"../../author/statistics/InfluentialCitations.jsx":18,react:465}],95:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../shared/checkbox/FilterCheckbox.jsx"),f=o(c),p=e("../../../shared/icon/IconBubble.jsx"),d=o(p),h=e("../../../shared/general/ImmutableRenderComponent.jsx"),y=o(h),m=e("./QueryEntityAuthorStatistics.jsx"),v=o(m),g=e("../../../shared/search/QueryEntityMetaList.jsx"),b=o(g),_=e("../../../../constants/FilterType"),w=o(_),S=e("../../../../content/content"),T=o(S),x=e("../../../../ga"),P=e("../../../../format"),E=r(P),C=e("react-router"),O=e("react"),R=o(O),k=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"componentDidMount",value:function(){(0,x.trackQueryEntityInfoBoxShown)(this.props.queryEntity.filterType,this.props.queryEntity.name)}},{key:"onFilterToggled",value:function(e){(0,x.trackQueryEntityFilterToggled)(this.props.queryEntity.filterType,this.props.queryEntity.name,e)}},{key:"hasQueryEntityMeta",value:function(){return this.props.queryEntity.metadata&&!this.props.queryEntity.metadata.isEmpty()}},{key:"renderMetadata",value:function(){if(!this.hasQueryEntityMeta())return null;switch(this.props.queryEntity.filterType){case w["default"].AUTHOR:var e=this.props.queryEntity.metadata.first();return u("div",{className:"query-entity-metadata"},void 0,u(C.Link,{to:"authorProfile",className:"button view-author-profile-button",params:{authorId:e.authorId,slug:e.slug}},void 0,T["default"].getString("button.view-author-profile")));default:return u(b["default"],{meta:this.props.queryEntity.metadata})}}},{key:"renderFilterType",value:function(){return this.props.queryEntity.filterType!==w["default"].AUTHOR?u("div",{className:"query-entity-type"},void 0,E.filterTypeDisplayName(this.props.queryEntity.filterType)):null}},{key:"renderAdditionalMeta",value:function(){if(this.hasQueryEntityMeta()&&this.props.queryEntity.filterType===w["default"].AUTHOR)return u(v["default"],{authorMeta:this.props.queryEntity.metadata.first()})}},{key:"checkboxLabel",value:function(){return this.props.queryEntity.filterType!==w["default"].AUTHOR?E.filterTypeCheckboxLabel(this.props.queryEntity.filterType,this.props.queryEntity.name):T["default"].getString("info-box.author.filter-label")}},{key:"render",value:function(){var e=this.props.queryEntity.filterType.toLowerCase();return u("div",{className:"query-entity-info-box flex-row query-entity-type-"+e},void 0,u(d["default"],{icon:e,className:"flex-static"}),u("div",{className:"query-entity-info-box-message flex-grow"},void 0,u("div",{className:"flex-row flex-grow"},void 0,u("div",{className:"flex-static"},void 0,u("h4",{},void 0,this.props.queryEntity.name),this.renderFilterType(),this.renderMetadata()),this.renderAdditionalMeta()),u(f["default"],{onFilterToggled:this.onFilterToggled.bind(this),filterType:this.props.queryEntity.filterType,label:this.checkboxLabel(),value:this.props.queryEntity.name})))}}],[{key:"propTypes",get:function(){return{queryEntity:R["default"].PropTypes.object.isRequired}}},{key:"contextTypes",get:function(){return{uiOptionsStore:R["default"].PropTypes.object.isRequired}}}]),t}(y["default"]);n["default"]=k},{"../../../../constants/FilterType":160,"../../../../content/content":176,"../../../../format":179,"../../../../ga":180,"../../../shared/checkbox/FilterCheckbox.jsx":116,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/IconBubble.jsx":136,"../../../shared/search/QueryEntityMetaList.jsx":152,"./QueryEntityAuthorStatistics.jsx":94,react:465,"react-router":322}],96:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../common/paper/PaperActions.jsx"),p=r(f),d=e("../../../shared/paper/PaperMeta.jsx"),h=r(d),y=e("../../common/message/PoorMetadataWarning.jsx"),m=r(y),v=e("./SearchResultAbstract.jsx"),g=r(v),b=e("./SearchResultClassification.jsx"),_=r(b),w=e("./SearchResultStats.jsx"),S=r(w),T=e("./SearchResultTitle.jsx"),x=r(T),P=e("../../../../constants/Interaction"),E=r(P),C=e("classnames"),O=r(C),R=e("immutable"),k=r(R),j=e("react"),I=r(j),M=s(m["default"],{}),A=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onClick",value:function(e){this.context.dispatcher.dispatch({actionType:E["default"].action.INTERACTIVE_EVENT,data:{interactionCategory:E["default"].category.SEARCH_RESULTS,interactionType:E["default"].type.CLICK,interactionTarget:this.props.result.id,index:this.props.index,location:e}})}},{key:"render",value:function(){var e=this.props.result.classifications.map(function(e,t){return s(_["default"],{classificationType:e},t)}),t=null;this.props.badges&&!this.props.badges.isEmpty()&&(t=s("ul",{className:"search-result-badges flex-right flex-row"},void 0,this.props.badges));var n=(0,O["default"])("search-result",this.props.className);return s("article",{className:n,onClick:this.props.onClick},void 0,s("header",{className:"search-result-header"},void 0,s("div",{className:"flex-row"},void 0,s(x["default"],{title:this.props.result.title,id:this.props.result.id,slug:this.props.result.slug,onClick:this.onClick.bind(this,"title")}),t),s(h["default"],{paper:this.props.result,maxAuthors:6,gaClickCallback:this.onClick.bind(this,"author")})),s(g["default"],{"abstract":this.props.result.paperAbstract}),this.props.children,s("footer",{className:"search-result-footer flex-row-vcenter"},void 0,s(S["default"],{citationStats:this.props.result.citationStats,id:this.props.result.id,index:this.props.index,onClick:this.onClick.bind(this,"stat"),showSortStat:this.props.layout.showSortStat}),s(p["default"],{paper:this.props.result,gaLabel:"SERP",index:this.props.index,showIcons:!0,hideText:!1,showMoreActionsOnClick:!0,showRelatedPapers:!0}),e,this.props.result.hasPoorMetadata()?M:null))}}],[{key:"propTypes",get:function(){return{result:I["default"].PropTypes.object.isRequired,index:I["default"].PropTypes.number.isRequired,user:I["default"].PropTypes.object,layout:I["default"].PropTypes.object,onClick:I["default"].PropTypes.func,className:I["default"].PropTypes.string,badges:I["default"].PropTypes.instanceOf(k["default"].List)}}},{key:"contextTypes",get:function(){return{dispatcher:I["default"].PropTypes.object.isRequired}}}]),t}(c["default"]);n["default"]=A},{"../../../../constants/Interaction":164,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/paper/PaperMeta.jsx":151,"../../common/message/PoorMetadataWarning.jsx":44,"../../common/paper/PaperActions.jsx":56,"./SearchResultAbstract.jsx":97,"./SearchResultClassification.jsx":98,"./SearchResultStats.jsx":99,"./SearchResultTitle.jsx":100,classnames:240,immutable:275,react:465}],97:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/HighlightedField.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("react"),h=r(d),y=360,m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return this.props["abstract"].text?s("div",{className:"search-result-abstract"},void 0,s(c["default"],{field:this.props["abstract"],limit:y,className:"abstract",fullTextClassName:"full-abstract"})):null}}],[{key:"propTypes",get:function(){return{"abstract":h["default"].PropTypes.object.isRequired}}}]),t}(p["default"]);n["default"]=m},{"../../../shared/general/HighlightedField.jsx":122,"../../../shared/general/ImmutableRenderComponent.jsx":123,react:465}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/icon/Icon.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../common/tooltip/Tooltip.jsx"),h=r(d),y=e("../../../../content/content"),m=r(y),v=e("react"),g=r(v),b=s(c["default"],{icon:"overviews",width:"15",height:"15"}),_=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e="search-result-classification "+this.props.classificationType,t=null;if("overviews"===this.props.classificationType){var n=s("span",{dangerouslySetInnerHTML:{__html:m["default"].getString("classifications.overview")}});t=s(h["default"],{tooltipPosition:"bottom-left",tooltipContent:n,className:"flex-row-vcenter"},void 0,b)}return s("div",{className:e},void 0,t)}}],[{key:"propTypes",get:function(){return{classificationType:g["default"].PropTypes.string}}}]),t}(p["default"]);n["default"]=_},{"../../../../content/content":176,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/icon/Icon.jsx":135,"../../common/tooltip/Tooltip.jsx":62,react:465}],99:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../shared/histogram/CitationAccelerationHistogram.jsx"),f=o(c),p=e("../../../shared/histogram/CitationVelocityHistogram.jsx"),d=o(p),h=e("../../../shared/histogram/EstimatedTotalCitationsHistogram.jsx"),y=o(h),m=e("../../../shared/icon/Icon.jsx"),v=o(m),g=e("../../../shared/general/ImmutableRenderComponent.jsx"),b=o(g),_=e("../../common/tooltip/Tooltip.jsx"),w=o(_),S=e("../../../../content/content"),T=o(S),x=e("../../../../format"),P=r(x),E=e("../../../../constants/Interaction"),C=o(E),O=e("../../../../constants/sort-type"),R=o(O),k=e("../../../../util"),j=r(k),I=e("classnames"),M=o(I),A=e("react"),N=o(A),D=u(v["default"],{width:"15",height:"15",icon:"chart",className:"fill--orange"}),L=u(v["default"],{icon:"theorems",width:"12",height:"12",className:"fill--orange"}),q=u(v["default"],{icon:"cited-by",width:"15",height:"15",className:"fill--orange"}),F=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"hasStats",value:function(){return this.props.citationStats.estCitationVelocity.shouldDisplay()||this.props.citationStats.hasKeyCitations()}},{key:"statCssClass",value:function(e){var t="search-result__stat";return this.props.showSortStat&&(t=(0,M["default"])("search-result__stat",{"is-active":this.context.queryStore.getQuery().sort===e})),t}},{key:"renderCitationVelocity",value:function(){if(this.props.citationStats.estCitationVelocity.shouldDisplay()){var e=u(d["default"],{width:350,id:this.props.id+"Popover",citationStats:this.props.citationStats,entityId:this.props.id,searchResultIndex:this.props.index,showErrorBars:!0});return u("li",{className:this.statCssClass(R["default"].CITATION_VELOCITY.id)},void 0,u(w["default"],{tooltipClassName:"tooltip--default-size",tooltipContent:e,tooltipPosition:"bottom-left",dispatchShowEvent:!0,interactionCategory:C["default"].category.SEARCH_RESULTS,interactionLabel:C["default"].action.RESULT_STAT_HOVER},void 0,D,P.estCitationVelocityValue(this.props.citationStats.estCitationVelocity)))}return null}},{key:"renderInfluentialCitations",value:function(){if(this.props.citationStats.hasKeyCitations()){var e=this.props.citationStats.numKeyCitations,t=T["default"].getString("citations.influential.text"),n=j.pluralize(e,T["default"].getString("citations.influential.label")),r=u("div",{},void 0,u("h4",{},void 0,n),u("div",{dangerouslySetInnerHTML:{__html:t}}));return u("li",{className:this.statCssClass(R["default"].INFLUENTIAL_CITATIONS.id)},void 0,u(w["default"],{tooltipClassName:"tooltip--default-size",className:"flex-row-vcenter",tooltipContent:r,tooltipPosition:"bottom-left"},void 0,L,this.props.citationStats.numKeyCitations))}return null}},{key:"renderCitationAcceleration",value:function(){if(this.props.citationStats.estCitationAcceleration.shouldDisplay()){var e=this.props.citationStats.estCitationAcceleration.estimate.value,t=u(f["default"],{width:350,id:this.props.id+"Popover",citationStats:this.props.citationStats,entityId:this.props.id,searchResultIndex:this.props.index,showErrorBars:!0}),n="trending-neutral";return e>0&&(n="trending-up"),e<0&&(n="trending-down"),u("li",{className:this.statCssClass(R["default"].CITATION_ACCELERATION.id)},void 0,u(w["default"],{tooltipClassName:"tooltip--default-size",className:"flex-row-vcenter",tooltipContent:t,tooltipPosition:"bottom-left"},void 0,u(v["default"],{icon:n,width:"15",height:"15",className:"fill--orange"}),P.citationAccelerationValue(e)))}return null}},{key:"renderTotalCitations",value:function(){if(this.props.citationStats.estNumCitations.shouldDisplay()){var e=u(y["default"],{width:350,id:this.props.id+"Popover",citationStats:this.props.citationStats,entityId:this.props.id,searchResultIndex:this.props.index,showErrorBars:!0});return u("li",{className:this.statCssClass(R["default"].TOTAL_CITATIONS.id)},void 0,u(w["default"],{tooltipClassName:"tooltip--default-size",className:"flex-row-vcenter",tooltipContent:e,tooltipPosition:"bottom-left"},void 0,q,P.estCitationsValue(this.props.citationStats.estNumCitations.value)))}return null}},{key:"renderSortStat",value:function(){if(!this.props.showSortStat)return null;switch(this.context.queryStore.getQuery().sort){case R["default"].TOTAL_CITATIONS.id:return this.renderTotalCitations();case R["default"].CITATION_ACCELERATION.id:return this.renderCitationAcceleration();default:return null}}},{key:"render",value:function(){return this.hasStats()?u("div",{onClick:this.props.onClick,className:"search-result__stats flex-row"},void 0,this.renderInfluentialCitations(),this.renderCitationVelocity(),this.renderSortStat()):null}}],[{key:"propTypes",get:function(){return{citationStats:N["default"].PropTypes.object.isRequired,id:N["default"].PropTypes.string.isRequired,index:N["default"].PropTypes.number.isRequired,onClick:N["default"].PropTypes.func.isRequired,showSortStat:N["default"].PropTypes.bool}}},{key:"contextTypes",get:function(){return{queryStore:N["default"].PropTypes.object.isRequired}}}]),t}(b["default"]);n["default"]=F},{"../../../../constants/Interaction":164,"../../../../constants/sort-type":175,"../../../../content/content":176,"../../../../format":179,"../../../../util":221,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../../shared/histogram/CitationAccelerationHistogram.jsx":124,"../../../shared/histogram/CitationVelocityHistogram.jsx":125,"../../../shared/histogram/EstimatedTotalCitationsHistogram.jsx":126,"../../../shared/icon/Icon.jsx":135,"../../common/tooltip/Tooltip.jsx":62,classnames:240,react:465}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../shared/general/HighlightedField.jsx"),c=r(l),f=e("../../../shared/general/ImmutableRenderComponent.jsx"),p=r(f),d=e("react"),h=r(d),y=e("react-router"),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=""!==this.props.title.text?this.props.title:{text:"( NO TITLE )",fragments:[]};return s("div",{className:"search-result-title"},void 0,s(y.Link,{onClick:this.props.onClick,to:"paperDetail",params:{paperId:this.props.id,slug:this.props.slug}},void 0,s(c["default"],{field:e})))}}],[{key:"propTypes",get:function(){return{title:h["default"].PropTypes.object.isRequired,id:h["default"].PropTypes.string,slug:h["default"].PropTypes.string,onClick:h["default"].PropTypes.func}}}]),t}(p["default"]);n["default"]=m},{"../../../shared/general/HighlightedField.jsx":122,"../../../shared/general/ImmutableRenderComponent.jsx":123,
react:465,"react-router":322}],101:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../shared/general/ImmutableRenderComponent.jsx"),f=o(c),p=e("../../common/paper/PaperBadge.jsx"),d=o(p),h=e("./SearchResult.jsx"),y=o(h),m=e("../../common/social/Tweet.jsx"),v=o(m),g=e("../../../../content/content"),b=o(g),_=e("../../../../models"),w=e("../../../../constants/Interaction"),S=o(w),T=e("../../../../util"),x=r(T),P=e("immutable"),E=o(P),C=e("merge"),O=o(C),R=e("react"),k=o(R),j=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"dispatchImpression",value:function(){clearTimeout(this.dispatchTimeout),++this.dispatchAttempts<=10&&(this.context.dispatcher.isDispatching()?this.dispatchTimeout=setTimeout(this.dispatchImpression.bind(this),100):this.context.dispatcher.dispatch({actionType:S["default"].action.HIGHLIGHTED_PAPER_IMPRESSION,data:{interactionCategory:S["default"].category.SOCIAL,interactionType:S["default"].type.SHOW,interactionTarget:this.props.paper.id}}))}},{key:"componentDidMount",value:function(){this.dispatchAttempts=0,this.dispatchImpression()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.dispatchTimeout)}},{key:"trackClick",value:function(){this.context.dispatcher.dispatch({actionType:S["default"].action.HIGHLIGHTED_PAPER_CLICK,data:{interactionCategory:S["default"].category.SOCIAL,interactionType:S["default"].type.CLICK,interactionTarget:this.props.paper.id}})}},{key:"render",value:function(){var e=(0,O["default"])({},this.props.layoutOptions,{showBadges:!0}),t=x.pluralize(this.props.paper.socialLinks.size,b["default"].getString("serp.result.social.label")),n=b["default"].getString("serp.result.social.count","<strong>"+t+"</strong>"),r=this.trackClick.bind(this),o=E["default"].List.of(u(d["default"],{text:b["default"].getString("serp.result.social.badge"),icon:"trending",badgeExplanation:b["default"].getString("serp.result.social.explanation")},b["default"].getString("serp.result.social.badge")));return u(y["default"],{result:this.props.paper,index:-1,user:this.props.user,layout:e,badges:o,className:"social-search-result",onClick:r},void 0,u("div",{className:"featured-mention"},void 0,u("div",{className:"featured-mention-count-description",dangerouslySetInnerHTML:{__html:n}}),u(v["default"],{socialLink:this.props.paper.socialLinks.first(),relatedPaperId:this.props.paper.id,onClick:r})))}}],[{key:"propTypes",get:function(){return{paper:k["default"].PropTypes.instanceOf(_.Paper),layoutOptions:k["default"].PropTypes.object.isRequired}}},{key:"contextTypes",get:function(){return{dispatcher:k["default"].PropTypes.object.isRequired}}}]),t}(f["default"]);n["default"]=j},{"../../../../constants/Interaction":164,"../../../../content/content":176,"../../../../models":196,"../../../../util":221,"../../../shared/general/ImmutableRenderComponent.jsx":123,"../../common/paper/PaperBadge.jsx":57,"../../common/social/Tweet.jsx":60,"./SearchResult.jsx":96,immutable:275,merge:277,react:465}],102:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../common/layout/AppFooter.jsx"),c=r(l),f=e("../common/layout/AppHeader.jsx"),p=r(f),d=e("../../shared/general/ImmutableRenderComponent.jsx"),h=r(d),y=e("../../shared/terms-of-service/TermsOfServiceContent.jsx"),m=r(y),v=e("react"),g=(r(v),s("div",{className:"terms-of-service-page"},void 0,s(p["default"],{showSearchBar:!1}),s(m["default"],{}),s(c["default"],{}))),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return g}}],[{key:"getPageMetaDescription",value:function(){return m["default"].getPageMetaDescription()}}]),t}(h["default"]);n["default"]=b},{"../../shared/general/ImmutableRenderComponent.jsx":123,"../../shared/terms-of-service/TermsOfServiceContent.jsx":154,"../common/layout/AppFooter.jsx":28,"../common/layout/AppHeader.jsx":29,react:465}],103:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),l=r(u),c=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,null,[{key:"getPageTitle",value:function(e){return e.authorStore.author?e.authorStore.author.name+" - Semantic Scholar":"Semantic Scholar"}},{key:"getPageMetaDescription",value:function(e){return e.authorStore.author?e.authorStore.author.authorPageMetaDescription():void 0}},{key:"getCanonicalUrl",value:function(e,t){if(e.params.slug)return t.makeHref("authorProfile",{authorId:e.params.authorId,slug:e.params.slug})}}]),t}(l["default"].Component);n["default"]=c},{react:465}],104:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../icon/Icon.jsx"),c=r(l),f=e("../../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("react"),h=r(d),y=s("div",{className:"icon-bubble icon-bubble--lg icon-bubble--experimental"},void 0,s(c["default"],{icon:"author",width:"25",height:"25",className:"fill--white"})),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"influence-graph__current-author"},void 0,y,s("div",{className:"influence-graph__current-author__name"},void 0,s("div",{className:"influence-graph__current-author__name-inner"},void 0,s("strong",{},void 0,this.props.authorName))))}}],[{key:"propTypes",get:function(){return{authorName:h["default"].PropTypes.string.isRequired}}}]),t}(p["default"]);n["default"]=m},{"../../general/ImmutableRenderComponent.jsx":123,"../../icon/Icon.jsx":135,react:465}],105:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../layout/collapsible-list/CollapsibleList.jsx"),c=r(l),f=e("../../icon/Icon.jsx"),p=r(f),d=e("../../general/ImmutableRenderComponent.jsx"),h=r(d),y=e("./InfluenceCurrentAuthor.jsx"),m=r(y),v=e("./lines/InfluenceGraphLines.jsx"),g=r(v),b=e("./node/InfluenceGraphNode.jsx"),_=r(b),w=e("./InfluenceGraphNodeListTitle.jsx"),S=r(w),T=e("../../loading/LoadingIndicator.jsx"),x=r(T),P=e("../../../../models/author/AuthorDetails"),E=e("../../../../constants/Breakpoint"),C=r(E),O=e("../../../../browser"),R=r(O),k=e("../../../../constants/InfluenceType"),j=r(k),I=e("../../../../constants/Layout"),M=r(I),A=e("../../../../content/content"),N=r(A),D=e("classnames"),L=r(D),q=e("react"),F=r(q),U=e("react-dom"),H=r(U),B=s("div",{className:"influence-graph__loading"},void 0,s(x["default"],{})),V=s(p["default"],{icon:"msg-error",width:"15",height:"15"}),z=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={loading:!0,screenWidth:null,layoutMode:null,influencedNodes:null,influencedByNodes:null,container:null},s}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;R["default"].requestAnimationFrame(function(){e.setState({loading:!1,screenWidth:window.innerWidth,layoutMode:e.detectLayoutMode(),influencedNodes:e.getNodeLocations(j["default"].INFLUENCED),influencedByNodes:e.getNodeLocations(j["default"].INFLUENCED_BY),container:H["default"].findDOMNode(e.refs["influence-graph-inner"])})}),this.resizeHandler=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler)}},{key:"onWindowResize",value:function(){this.setState({screenWidth:window.innerWidth,layoutMode:this.detectLayoutMode()})}},{key:"detectLayoutMode",value:function(){return window.innerWidth<C["default"].MEDIUM?M["default"].VERTICAL:M["default"].HORIZONTAL}},{key:"getNodeListForType",value:function(e){var t=e===j["default"].INFLUENCED?this.props.author.statistics.influence.influenced:this.props.author.statistics.influence.influencedBy;return t}},{key:"getNodeLocations",value:function(e){var t=this,n=this.getNodeListForType(e),r=n.map(function(n,r){var o=H["default"].findDOMNode(t.refs[e+"-node-"+r]);return o});return r}},{key:"renderLoading",value:function(){return B}},{key:"renderDecorativeContent",value:function(){return this.state.screenWidth>C["default"].SMALL?s("div",{className:"influence-graph__center-content"},void 0,s(g["default"],{type:j["default"].INFLUENCED_BY,nodes:this.state.influencedByNodes,layout:this.state.layoutMode,container:this.state.container}),s(m["default"],{authorName:this.props.author.name}),s(g["default"],{type:j["default"].INFLUENCED,nodes:this.state.influencedNodes,layout:this.state.layoutMode,container:this.state.container})):null}},{key:"renderNodes",value:function(e){var t=this,n=this.getNodeListForType(e),r=n.map(function(n,r){var o=e+"-node-"+r;return F["default"].createElement(_["default"],{author:n,type:e,screenWidth:t.state.screenWidth,key:o,ref:o})}),o=this.state.screenWidth&&this.state.screenWidth<=C["default"].SMALL?s(S["default"],{nodeType:e,authorName:this.props.author.name}):null,i=(0,L["default"])("influence-graph__nodes",e);return this.context.envInfo.isMobile?s(c["default"],{},void 0,o,r):s("div",{className:i},void 0,o,r)}},{key:"renderInsufficientDataMessage",value:function(){return s("div",{className:"insufficient-data-message flex-row-vcenter"},void 0,V,N["default"].getString("author.influenceGraph.notEnoughData"))}},{key:"renderInfluenceGraph",value:function(){var e=this.state.screenWidth&&this.state.screenWidth>C["default"].MEDIUM?s("div",{className:"influence-graph-titles flex-row"},void 0,s(S["default"],{nodeType:j["default"].INFLUENCED_BY,authorName:this.props.author.name}),s(S["default"],{nodeType:j["default"].INFLUENCED,authorName:this.props.author.name})):null,t=(0,L["default"])("influence-graph",{"is-loading":this.state.loading});return F["default"].createElement("div",{ref:"influence-graph",className:t},e,F["default"].createElement("div",{className:"influence-graph-inner",ref:"influence-graph-inner"},this.renderNodes(j["default"].INFLUENCED_BY),this.state.loading?this.renderLoading():this.renderDecorativeContent(),this.renderNodes(j["default"].INFLUENCED)))}},{key:"render",value:function(){return this.props.author.statistics.influence.hasSufficientData()?this.renderInfluenceGraph():this.renderInsufficientDataMessage()}}],[{key:"contextTypes",get:function(){return{envInfo:F["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{author:F["default"].PropTypes.instanceOf(P.AuthorDetails).isRequired}}}]),t}(h["default"]);n["default"]=z},{"../../../../browser":6,"../../../../constants/Breakpoint":158,"../../../../constants/InfluenceType":162,"../../../../constants/Layout":165,"../../../../content/content":176,"../../../../models/author/AuthorDetails":189,"../../general/ImmutableRenderComponent.jsx":123,"../../icon/Icon.jsx":135,"../../layout/collapsible-list/CollapsibleList.jsx":139,"../../loading/LoadingIndicator.jsx":141,"./InfluenceCurrentAuthor.jsx":104,"./InfluenceGraphNodeListTitle.jsx":106,"./lines/InfluenceGraphLines.jsx":110,"./node/InfluenceGraphNode.jsx":112,classnames:240,react:465,"react-dom":294}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../../../content/content"),p=r(f),d=e("classnames"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e="influenced"===this.props.nodeType?p["default"].getString("author.influenceGraph.influencedTitle",this.props.authorName):p["default"].getString("author.influenceGraph.influencedByTitle",this.props.authorName),t=(0,h["default"])("influence-graph__title",this.props.nodeType);return s("h4",{className:t},void 0,e)}}],[{key:"propTypes",get:function(){return{nodeType:m["default"].PropTypes.string.isRequired,authorName:m["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=v},{"../../../../content/content":176,"../../general/ImmutableRenderComponent.jsx":123,classnames:240,react:465}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("polygon",{className:"influence-graph__influencedBy-arrow",points:this.props.point1+" "+this.props.point2+" "+this.props.point3})}}],[{key:"propTypes",get:function(){return{point1:p["default"].PropTypes.string.isRequired,point2:p["default"].PropTypes.string.isRequired,point3:p["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../../../general/ImmutableRenderComponent.jsx":123,react:465}],108:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=void 0;e=this.props.xControl?"C "+this.props.xControl+","+this.props.yStart+" "+this.props.xControl+","+this.props.yEnd:"C "+this.props.xStart+","+this.props.yControl+" "+this.props.xEnd+","+this.props.yControl;var t=this.props.markerEnd?"url(#arrowhead)":"",n="M "+this.props.xStart+" "+this.props.yStart+"\n       "+e+"\n       "+this.props.xEnd+" "+this.props.yEnd+"\n      ";return s("path",{className:this.props.className,markerEnd:t,d:n})}}],[{key:"propTypes",get:function(){return{className:p["default"].PropTypes.string.isRequired,xStart:p["default"].PropTypes.number.isRequired,yStart:p["default"].PropTypes.number.isRequired,xEnd:p["default"].PropTypes.number.isRequired,yEnd:p["default"].PropTypes.number.isRequired,xControl:p["default"].PropTypes.number,yControl:p["default"].PropTypes.number,markerEnd:p["default"].PropTypes.bool}}}]),t}(c["default"]);n["default"]=d},{"../../../general/ImmutableRenderComponent.jsx":123,react:465}],109:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=(r(f),function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e='<marker\n          id="arrowhead"\n          viewBox="0 0 40 40"\n          refX="30"\n          refY="30"\n          markerWidth="30"\n          markerHeight="30"\n          orient="auto">\n        <path d="M 30 22 L 40 30 L 30 38 z" />\n      </marker>';return s("defs",{dangerouslySetInnerHTML:{__html:e}})}}]),t}(c["default"]));n["default"]=p},{"../../../general/ImmutableRenderComponent.jsx":123,react:465}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("./InfluenceGraphArrow.jsx"),p=r(f),d=e("./InfluenceGraphLine.jsx"),h=r(d),y=e("./InfluenceGraphLineMarker.jsx"),m=r(y),v=e("../../../../../browser.js"),g=r(v),b=e("../../../../../constants/Breakpoint"),_=r(b),w=e("../../../../../constants/InfluenceType"),S=r(w),T=e("../../../../../constants/Layout"),x=r(T),P=e("react"),E=r(P),C=e("react-dom"),O=r(C),R=175,k=300,j=20,I=20,M=50,A=s(m["default"],{}),N=s("div",{className:"influence-graph__lines"}),D=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"componentWillReceiveProps",value:function(){var e=this;g["default"].requestAnimationFrame(function(){e.renderSVG()})}},{key:"renderSVG",value:function(){var e=this.props.container.getBoundingClientRect(),t=this.props.layout===x["default"].VERTICAL?R:e.height,n=void 0;n=this.props.layout===x["default"].VERTICAL?e.width:e.width<=_["default"].LARGE?k-M:k;var r=s("svg",{height:t,width:n},void 0,this.props.type===S["default"].INFLUENCED?A:null,this.props.layout===x["default"].VERTICAL?this.renderForSmallScreen(e):this.renderForLargeScreen(e));O["default"].render(r,O["default"].findDOMNode(this))}},{key:"renderForSmallScreen",value:function(e){var t=this,n=this.props.nodes.map(function(n,r){var o=n.getBoundingClientRect(),i=o.left-e.left,a=e.width/2,u=i+o.width/2,l=t.props.type===S["default"].INFLUENCED?a:u,c=t.props.type===S["default"].INFLUENCED?u:a,f=j,p=R-j;return s(h["default"],{className:"influence-graph__line influence-graph__line--"+t.props.type,xStart:l,xEnd:c,yStart:f,yEnd:p,yControl:87.5,markerEnd:t.props.type===S["default"].INFLUENCED},"path-"+t.props.type+"-"+r)}),r=this.props.type===S["default"].INFLUENCED_BY?s(p["default"],{point1:e.width/2-I/2+","+(R-I),point2:e.width/2+","+R,point3:e.width/2+I/2+","+(R-I)}):null;return s("g",{},void 0,n,r)}},{key:"renderForLargeScreen",value:function(e){var t=this,n=void 0,r=this.props.nodes.map(function(r,o){var i=r.getBoundingClientRect(),a=i.top-e.top,u=e.height/2,l=a+i.height/2;n=e.width<=_["default"].LARGE?k-M:k;var c=t.props.type===S["default"].INFLUENCED?0:j,f=t.props.type===S["default"].INFLUENCED?n-j:n,p=t.props.type===S["default"].INFLUENCED?u:l,d=t.props.type===S["default"].INFLUENCED?l:u;return s(h["default"],{className:"influence-graph__line influence-graph__line--"+t.props.type,xStart:c,xEnd:f,yStart:p,yEnd:d,xControl:n/2,markerEnd:t.props.type===S["default"].INFLUENCED},"path-"+t.props.type+"-"+o)}),o=this.props.type===S["default"].INFLUENCED_BY?s(p["default"],{point1:n-I+","+(e.height/2-I/2),point2:n+","+e.height/2,point3:n-I+","+(e.height/2+I/2)}):null;return s("g",{},void 0,r,o)}},{key:"render",value:function(){return N}}],[{key:"propTypes",get:function(){return{nodes:E["default"].PropTypes.object.isRequired,type:E["default"].PropTypes.oneOf(S["default"].all()).isRequired,layout:E["default"].PropTypes.oneOf(x["default"].responsiveLayoutOptions()).isRequired,container:E["default"].PropTypes.object.isRequired}}}]),t}(c["default"]);n["default"]=D},{"../../../../../browser.js":6,"../../../../../constants/Breakpoint":158,"../../../../../constants/InfluenceType":162,"../../../../../constants/Layout":165,"../../../general/ImmutableRenderComponent.jsx":123,"./InfluenceGraphArrow.jsx":107,"./InfluenceGraphLine.jsx":108,"./InfluenceGraphLineMarker.jsx":109,react:465,"react-dom":294}],111:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{
value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("./InfluenceGraphNodeDetails.jsx"),p=r(f),d=e("../../../../desktop/common/modal/Modal.jsx"),h=r(d),y=e("../../../../desktop/common/modal/ModalHeader.jsx"),m=r(y),v=e("react"),g=r(v),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s(h["default"],{className:"influence-graph__modal"},void 0,s(m["default"],{title:this.props.data.author.name}),s("div",{className:"modal-content influence-graph__modal__content"},void 0,s(p["default"],{author:this.props.data,type:this.props.type})))}}],[{key:"propTypes",get:function(){return{data:g["default"].PropTypes.object.isRequired,type:g["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=b},{"../../../../desktop/common/modal/Modal.jsx":51,"../../../../desktop/common/modal/ModalHeader.jsx":52,"../../../general/ImmutableRenderComponent.jsx":123,"./InfluenceGraphNodeDetails.jsx":113,react:465}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../layout/collapsible-list/CollapsibleListItem.jsx"),c=r(l),f=e("../../../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("./InfluenceGraphNodeDetails.jsx"),h=r(d),y=e("./InfluenceGraphNodeMenu.jsx"),m=r(y),v=e("../../../../desktop/common/tooltip/Tooltip.jsx"),g=r(v),b=e("../../../../../constants/Breakpoint"),_=r(b),w=e("../../../../../constants/InfluenceType"),S=r(w),T=e("react"),x=r(T),P=e("react-router"),E=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"isLargeScreen",value:function(){return!this.props.screenWidth||this.props.screenWidth>_["default"].MEDIUM}},{key:"renderText",value:function(){return this.isLargeScreen()&&this.props.author.author.hasAuthorHomePage()?s(P.Link,{className:"influence-graph__node__link",to:"authorProfile",params:{authorId:this.props.author.author.ids.first(),slug:this.props.author.author.slug}},void 0,this.props.author.author.name):s("span",{className:"influence-graph__node__text"},void 0,this.props.author.author.name)}},{key:"renderScore",value:function(){return s("span",{className:"influence-graph__node__score badge badge--highlight"},void 0,this.props.author.score)}},{key:"renderForSmallScreen",value:function(){var e=s(m["default"],{author:this.props.author,type:this.props.type}),t=this.props.screenWidth&&this.props.screenWidth<=_["default"].SMALL?"bottom-left":"bottom-center";return s(g["default"],{tooltipContent:e,tooltipPosition:t,className:"influence-graph__node",tooltipClassName:"influence-graph__node-details tooltip--small"},void 0,this.renderText(),this.renderScore())}},{key:"renderForLargeScreen",value:function(){var e=this.props.type===S["default"].INFLUENCED,t=s(h["default"],{author:this.props.author,showHeader:!0,type:this.props.type}),n=e?"left-top":"right-top";return s(g["default"],{tooltipContent:t,tooltipPosition:n,className:"influence-graph__node",tooltipClassName:"influence-graph__node-details tooltip--large tooltip--blue-border"},void 0,e?this.renderScore():this.renderText(),e?this.renderText():this.renderScore())}},{key:"renderForMobile",value:function(){var e=s("div",{className:"influence-graph__node-inner"},void 0,this.renderText(),this.renderScore()),t=s(m["default"],{author:this.props.author,type:this.props.type});return s(c["default"],{className:"influence-graph__node",showToggleIcon:!0,label:e,collapsibleContent:t})}},{key:"renderForDesktop",value:function(){return this.isLargeScreen()?this.renderForLargeScreen():this.renderForSmallScreen()}},{key:"render",value:function(){return this.context.envInfo.isMobile?this.renderForMobile():this.renderForDesktop()}}],[{key:"contextTypes",get:function(){return{envInfo:x["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{author:x["default"].PropTypes.object.isRequired,type:x["default"].PropTypes.oneOf(S["default"].all()).isRequired,screenWidth:x["default"].PropTypes.number}}}]),t}(p["default"]);n["default"]=E},{"../../../../../constants/Breakpoint":158,"../../../../../constants/InfluenceType":162,"../../../../desktop/common/tooltip/Tooltip.jsx":62,"../../../general/ImmutableRenderComponent.jsx":123,"../../../layout/collapsible-list/CollapsibleListItem.jsx":140,"./InfluenceGraphNodeDetails.jsx":113,"./InfluenceGraphNodeMenu.jsx":114,react:465,"react-router":322}],113:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../../../paper/PaperMeta.jsx"),f=o(c),p=e("../../../icon/Icon.jsx"),d=o(p),h=e("../../../general/ImmutableRenderComponent.jsx"),y=o(h),m=e("../../../../../constants/Author"),v=o(m),g=e("../../../../../constants/InfluenceType"),b=o(g),_=e("../../../../../content/content"),w=o(_),S=e("../../../../../format"),T=r(S),x=e("react-router"),P=e("react"),E=o(P),C=u(d["default"],{icon:"author",width:"15",height:"15",className:"icon"}),O=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"renderHeader",value:function(){return u("h4",{},void 0,this.props.author.author.name)}},{key:"renderScore",value:function(){var e=v["default"].CitationStatTypes.INFLUENCE_SCORE,t=T.influenceTooltipStatLabel(e);return u("div",{className:"influence-graph__node-details__meta__item"},void 0,u("span",{className:"badge badge--highlight"},void 0,this.props.author.score),u("span",{dangerouslySetInnerHTML:{__html:t}}))}},{key:"renderAuthorProfileLink",value:function(){return this.props.author.author.hasAuthorHomePage()?u("div",{className:"influence-graph__node-details__meta__item"},void 0,u(x.Link,{to:"authorProfile",params:{authorId:this.props.author.author.ids.first(),slug:this.props.author.author.slug}},void 0,C,w["default"].getString("button.view-author-profile"))):u("div",{className:"influence-graph__node-details__meta__item empty"},void 0,w["default"].getString("author.no-home-page.text"))}},{key:"renderPapers",value:function(){var e=this.props.type===b["default"].INFLUENCED?w["default"].getString("author.influenceGraph.influencedPapers"):w["default"].getString("author.influenceGraph.influencingPapers");if(this.props.author.papers.isEmpty())return null;var t=this.props.author.papers.map(function(e,t){var n=u("div",{className:"citation__title"},void 0,u(x.Link,{to:"paperDetail",params:{paperId:e.id,slug:e.slug}},void 0,e.title.text?e.title.text:"No title available"));return u("div",{className:"citation flex-column"},t,n,u(f["default"],{paper:e,maxAuthors:6}))});return u("div",{className:"influence-graph__node-details__papers"},void 0,u("h4",{className:"influence-graph__node-details__title"},void 0,u("strong",{},void 0,e)),t)}},{key:"render",value:function(){return u("div",{className:"influence-graph__node-details-inner"},void 0,this.props.showHeader?this.renderHeader():null,u("div",{className:"influence-graph__node-details__meta flex-row"},void 0,this.renderScore(),this.renderAuthorProfileLink()),this.renderPapers())}}],[{key:"propTypes",get:function(){return{author:E["default"].PropTypes.object.isRequired,type:E["default"].PropTypes.oneOf(b["default"].all()).isRequired,showHeader:E["default"].PropTypes.bool}}}]),t}(y["default"]);n["default"]=O},{"../../../../../constants/Author":156,"../../../../../constants/InfluenceType":162,"../../../../../content/content":176,"../../../../../format":179,"../../../general/ImmutableRenderComponent.jsx":123,"../../../icon/Icon.jsx":135,"../../../paper/PaperMeta.jsx":151,react:465,"react-router":322}],114:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../../icon/Icon.jsx"),c=r(l),f=e("../../../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../../../../content/content"),h=r(d),y=e("../../../../../constants/InfluenceType"),m=r(y),v=e("../../../../../models/author/AuthorDetails"),g=e("../../../../../constants"),b=r(g),_=e("react"),w=r(_),S=e("react-router"),T=s(c["default"],{icon:"disclosure",width:"12",height:"12",className:"arrow flex-right"}),x=s(c["default"],{icon:"disclosure",width:"12",height:"12",className:"arrow flex-right"}),P=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"influenceNodeMenuText",value:function(e){var t=e===m["default"].INFLUENCED?"Influenced":"Influencing";return"Show "+t+" Publications"}},{key:"onTriggerModal",value:function(){this.context.dispatcher.dispatch({actionType:b["default"].actions.SHOW_MODAL,id:this.props.modalId?this.props.modalId:b["default"].modalId.INFLUENTIAL_PAPERS,data:this.props.author,key:this.props.type})}},{key:"render",value:function(){var e=this.props.author.papers.isEmpty()?null:s("li",{onClick:this.onTriggerModal.bind(this),className:"influence-graph__menu__item"},void 0,this.influenceNodeMenuText(this.props.type),T),t=this.props.author.author.hasAuthorHomePage()?s("li",{className:"influence-graph__menu__item"},void 0,s(S.Link,{to:"authorProfile",params:{authorId:this.props.author.author.ids.first(),slug:this.props.author.author.slug}},void 0,h["default"].getString("button.view-author-profile")),x):s("li",{},void 0,h["default"].getString("author.no-home-page.text"));return s("ul",{className:"influence-graph__menu"},void 0,e,t)}}],[{key:"contextTypes",get:function(){return{dispatcher:w["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{author:w["default"].PropTypes.instanceOf(v.InfluenceAuthor).isRequired,type:w["default"].PropTypes.oneOf(m["default"].all()).isRequired}}}]),t}(p["default"]);n["default"]=P},{"../../../../../constants":155,"../../../../../constants/InfluenceType":162,"../../../../../content/content":176,"../../../../../models/author/AuthorDetails":189,"../../../general/ImmutableRenderComponent.jsx":123,"../../../icon/Icon.jsx":135,react:465,"react-router":322}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("classnames"),p=r(f),d=e("../icon/Icon.jsx"),h=r(d),y=e("../general/ImmutableRenderComponent.jsx"),m=r(y),v=s("div",{className:"checkbox-input flex-row-vcenter"},void 0,s(h["default"],{className:"check flex-centered",icon:"check",width:"12",height:"12"})),g=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,p["default"])("flex-row-vcenter checkbox",{"is-selected":this.props.selected,"is-disabled":this.props.disabled}),t=this.props.labelElement?this.props.labelElement:s("label",{className:"checkbox-label"},void 0,this.props.label);return s("div",{className:e,onClick:this.props.disabled?void 0:this.props.onChange},void 0,v,t)}}],[{key:"propTypes",value:function(){return{selected:c["default"].PropTypes.bool,disabled:c["default"].PropTypes.bool,label:c["default"].PropTypes.string,labelElement:c["default"].PropTypes.element,onChange:c["default"].PropTypes.func}}}]),t}(m["default"]);n["default"]=g},{"../general/ImmutableRenderComponent.jsx":123,"../icon/Icon.jsx":135,classnames:240,react:465}],116:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("react"),a=r(i),s=e("react-immutable-render-mixin"),u=r(s),l=e("./Checkbox.jsx"),c=r(l),f=e("../../../stores/query"),p=r(f),d=e("../../../constants/Interaction"),h=r(d),y=a["default"].createClass({displayName:"FilterCheckbox",mixins:[u["default"],p["default"].Mixin],propTypes:{filterType:a["default"].PropTypes.string.isRequired,value:a["default"].PropTypes.string.isRequired,label:a["default"].PropTypes.string,labelElement:a["default"].PropTypes.element,index:a["default"].PropTypes.number,onFilterToggled:a["default"].PropTypes.func},contextTypes:{dispatcher:a["default"].PropTypes.object.isRequired},onToggle:function(){var e=this.state.selected?h["default"].type.DISABLE_FILTER:h["default"].type.ENABLE_FILTER;this.context.dispatcher.dispatch({actionType:h["default"].action.SEARCH_FILTER_CLICK,data:{interactionCategory:"Filter - "+this.props.filterType,interactionType:e,interactionTarget:this.props.value,index:this.props.index}})},syncState:function(){var e=this.getFilterDocumentCount(this.props.filterType,this.props.value),t=0===e,n=this.isFilterActive(this.props.filterType,this.props.value);return{disabled:t&&!n,selected:n}},getInitialState:function(){return this.syncState()},onQueryStoreChange:function(){this.setState(this.syncState())},toggleFacet:function(){this.onToggle(),"function"==typeof this.props.onFilterToggled&&this.props.onFilterToggled(this.state.selected),this.toggleFilter(this.props.filterType,this.props.value)},render:function(){return o(c["default"],{onChange:this.toggleFacet,label:this.props.label,labelElement:this.props.labelElement,selected:this.state.selected,disabled:this.state.disabled})}});n["default"]=y},{"../../../constants/Interaction":164,"../../../stores/query":217,"./Checkbox.jsx":115,react:465,"react-immutable-render-mixin":296}],117:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../../shared/general/ImmutableRenderComponent.jsx"),l=r(u),c=e("../../../content/content"),f=r(c),p=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,null,[{key:"getPageMetaDescription",value:function(){return f["default"].getString("metaDescription.faqPage.content")}}]),t}(l["default"]);n["default"]=p},{"../../../content/content":176,"../../shared/general/ImmutableRenderComponent.jsx":123}],118:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("header",{className:"page-header"},void 0,s("h1",{className:"faq-page-title"},void 0,this.props.title))}}],[{key:"propTypes",value:function(){return{title:p["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../general/ImmutableRenderComponent.jsx":123,react:465}],119:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=e("../layout/collapsible-list/CollapsibleListItem.jsx"),d=o(p),h=e("../general/ImmutableRenderComponent.jsx"),y=o(h),m=e("../../../constants"),v=o(m),g=e("../../../util"),b=r(g),_=e("../../../ga"),w=r(_),S=e("react"),T=o(S),x=e("react-router"),P=o(x),E=P["default"].Link,C=/({[^}]*})/,O=/{(\w+),([^}]*)}/,R="|",k=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),f(t,[{key:"onQuestionToggle",value:function(e,t){e&&w.trackViewFAQQuestion(t)}},{key:"showFeedbackModal",value:function(){w.showFeedbackForm(),this.context.dispatcher.dispatch({actionType:v["default"].actions.SHOW_MODAL,id:v["default"].modalId.FEEDBACK})}},{key:"formatAnswer",value:function(e){var t=this,n=e.split(C);return n.map(function(e,n){var r=e.match(O);if(!Array.isArray(r))return l("span",{dangerouslySetInnerHTML:{__html:e}},n);var o=c(r,3),i=(o[0],o[1]),a=o[2];switch(i){case"feedbackLink":return l("button",{className:"link-button",onClick:t.showFeedbackModal.bind(t)},n,a);case"paperDetailLink":var s=a.split(R),f=c(s,3),p=f[0],d=f[1],h=f[2];return l(E,{to:"paperDetail",params:{slug:p,paperId:d}},n,h);case"faqLink":var y=function(){var e=t.context.router.makeHref("faq")+"#"+encodeURIComponent(a);return{v:l("a",{onClick:function(t){t.stopPropagation(),document.location=e}},n,"here")}}();if("object"===("undefined"==typeof y?"undefined":u(y)))return y.v;default:return b.isDev&&console.warn("Unsupported content tag of type "+i+"."),l("span",{dangerouslySetInnerHTML:{__html:e}},n)}})}},{key:"render",value:function(){var e=l("h4",{className:"faq-question"},void 0,this.props.question),t=l("div",{className:"faq-answer"},void 0,this.formatAnswer(this.props.answer));return l("div",{className:"faq-question-wrapper"},void 0,l(d["default"],{className:"faq-question-row",collapsibleContent:t,label:e,showToggleIcon:!0,id:this.props.id,onToggle:this.onQuestionToggle}))}}],[{key:"propTypes",value:function(){return{id:T["default"].PropTypes.string,question:T["default"].PropTypes.string.isRequired,answer:T["default"].PropTypes.string.isRequired,key:T["default"].PropTypes.number.isRequired}}},{key:"contextTypes",get:function(){return{dispatcher:T["default"].PropTypes.object.isRequired,router:T["default"].PropTypes.func.isRequired}}}]),t}(y["default"]);n["default"]=k},{"../../../constants":155,"../../../ga":180,"../../../util":221,"../general/ImmutableRenderComponent.jsx":123,"../layout/collapsible-list/CollapsibleListItem.jsx":140,react:465,"react-router":322}],120:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../layout/collapsible-list/CollapsibleList.jsx"),c=r(l),f=e("./FAQQuestion.jsx"),p=r(f),d=e("../general/ImmutableRenderComponent.jsx"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.questions.map(function(e,t){return s(p["default"],{id:e.get("id"),question:e.get("question"),answer:e.get("answer")},t)});return s("section",{className:"faq-section"},void 0,s("a",{name:this.props.id,className:"faq-anchor"}),s("h2",{className:"faq-section-title"},void 0,this.props.title),s(c["default"],{className:"faq-section-questions"},void 0,e))}}],[{key:"propTypes",value:function(){return{title:m["default"].PropTypes.string.isRequired,id:m["default"].PropTypes.string.isRequired,questions:m["default"].PropTypes.object.isRequired,key:m["default"].PropTypes.number.isRequired}}}]),t}(h["default"]);n["default"]=v},{"../general/ImmutableRenderComponent.jsx":123,"../layout/collapsible-list/CollapsibleList.jsx":139,"./FAQQuestion.jsx":119,react:465}],121:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../content/content"),a=o(i),s=e("../../../format"),u=r(s),l={getPageTitle:function(e){var t=e.paperStore.getPaperDetail();return t.hasTitle()&&t.hasFigures()&&t.hasFigure(e.paperStore.focusedFigureIndex)?u.figureDetailPageTitle(t.paper.title.text,t.figures.get(e.paperStore.focusedFigureIndex)):a["default"].getString("paperDetail.figure.fallback-page-title")}};n["default"]=l},{"../../../content/content":176,"../../../format":179}],122:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("react"),a=r(i),s=e("react-immutable-render-mixin"),u=r(s),l=e("classnames"),c=r(l),f=a["default"].createClass({displayName:"HighlightedField",mixins:[u["default"]],propTypes:{field:a["default"].PropTypes.shape({text:a["default"].PropTypes.string.isRequired,fragments:a["default"].PropTypes.arrayOf(a["default"].PropTypes.shape({start:a["default"].PropTypes.number.isRequired,end:a["default"].PropTypes.number.isRequired})).isRequired}).isRequired,limit:a["default"].PropTypes.number.isRequired,className:a["default"].PropTypes.string,fullTextClassName:a["default"].PropTypes.string},getInitialState:function(){return{showingFullText:!1
}},componentWillReceiveProps:function(){this.setState({showingFullText:!1})},getDefaultProps:function(){return{limit:Number.MAX_VALUE}},toggleFullText:function(){this.setState({showingFullText:!this.state.showingFullText})},render:function(){var e=this.props.field.text,t=void 0;if(this.state.showingFullText)t=e.length;else if(t=Math.min(this.props.limit,e.length),this.props.limit<e.length){for(var n=e[t-1],r=/\s/.test(n)?/\s/:/\S/;t>1&&r.test(e[t-1]);)t-=1;/\s/.test(e[t-1])&&(t-=1)}var i=t<Number.MAX_VALUE?this.props.field.fragments.filter(function(e){return e.start<t}):this.props.field.fragments,a=e.length>this.props.limit,s=0,u=i.map(function(n,r){var i=[n.start-s>0?o("span",{},r,e.slice(s,n.start)):null,o("em",{},r+.5,e.slice(n.start,Math.min(n.end,t)))];return s=n.end,i});s<t&&u.push(o("span",{},"l",this.props.field.text.substring(s,t))),a&&(this.state.showingFullText?(u.push(" "),u.push(o("span",{className:"more mod-clickable",onClick:this.toggleFullText},"toggle","(Less)"))):(u.push("… "),u.push(o("span",{className:"more mod-clickable",onClick:this.toggleFullText},"toggle","(More)"))));var l=(0,c["default"])(this.props.className,this.state.showingFullText&&this.props.fullTextClassName);return o("span",{className:l},void 0,u)}});n["default"]=f},{classnames:240,react:465,"react-immutable-render-mixin":296}],123:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),l=e("react-immutable-render-mixin"),c=r(l),f=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.shouldComponentUpdate=c["default"].shouldComponentUpdate,s}return a(t,e),t}(u["default"].Component);n["default"]=f},{react:465,"react-immutable-render-mixin":296}],124:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./Histogram.jsx"),f=o(c),p=e("./HistogramExplanation.jsx"),d=o(p),h=e("./HistogramTitle.jsx"),y=o(h),m=e("../general/ImmutableRenderComponent.jsx"),v=o(m),g=e("../../../content/content"),b=o(g),_=e("../../../format"),w=r(_),S=e("../../../constants/Interaction"),T=o(S),x=e("classnames"),P=o(x),E=e("react"),C=o(E),O=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"onHistogramClick",value:function(e,t){this.context.dispatcher.dispatch({actionType:T["default"].action.HISTOGRAM_CLICK,data:{interactionCategory:T["default"].category.CITING_HISTOGRAM,interactionType:T["default"].type.CLICK,interactionLabel:e,index:t}})}},{key:"onHistogramHover",value:function(e,t){this.context.dispatcher.dispatch({actionType:T["default"].action.HISTOGRAM_HOVER,data:{interactionCategory:T["default"].category.CITING_HISTOGRAM,interactionType:T["default"].type.HOVER,interactionLabel:e,index:t}})}},{key:"renderExplanation",value:function(){var e=w.citationAccelerationValue(this.props.citationStats.estCitationAcceleration.estimate.value),t=b["default"].getString("citations.acceleration.text",e);return u(d["default"],{html:t})}},{key:"renderTitle",value:function(){if(this.props.hideLegendTitle)return null;var e=w.citationAccelerationValue(this.props.citationStats.estCitationAcceleration.estimate.value),t=b["default"].getString("citations.acceleration.label",e);return u(y["default"],{text:t})}},{key:"renderHistogram",value:function(){var e=[{buckets:this.props.citationStats.estCitationAcceleration.buckets.toJS(),renderer:f["default"].bucketRenderers.selectedBuckets}];return u("div",{className:"histogram__chart"},void 0,u(f["default"],{id:this.props.id,bucketRenderers:e,renderPopover:!0,renderAxis:!0,squashFatBuckets:!0,onBucketClick:this.onHistogramClick.bind(this,this.props.entityId,this.props.searchResultIndex),onBucketHover:this.onHistogramHover.bind(this,this.props.entityId,this.props.searchResultIndex),width:this.props.width,height:f["default"].DEFAULT_HEIGHT,paddingLeft:f["default"].DefaultPadding.LEFT,paddingRight:f["default"].DefaultPadding.RIGHT,paddingTop:f["default"].DefaultPadding.TOP,paddingBottom:f["default"].DefaultPadding.BOTTOM,enableBarHoverEffect:!1,minDisplayYears:this.props.citationStats.estCitationAcceleration.buckets.size,showErrorBars:this.props.showErrorBars}),u("div",{className:"histogram-axis-label"},void 0,b["default"].getString("citations.estimatedTotalByYear.label")))}},{key:"render",value:function(){var e=(0,P["default"])("box citation-histogram",{"histogram--horizontal":"horizontal"===this.props.layout});return"horizontal"===this.props.layout?u("div",{className:e},void 0,this.renderHistogram(),u("div",{className:"histogram__text"},void 0,this.renderTitle(),this.renderExplanation())):u("div",{className:e},void 0,this.renderTitle(),this.renderHistogram(),this.renderExplanation())}}],[{key:"propTypes",get:function(){return{id:C["default"].PropTypes.string.isRequired,entityId:C["default"].PropTypes.string.isRequired,citationStats:C["default"].PropTypes.object.isRequired,width:C["default"].PropTypes.number.isRequired,searchResultIndex:C["default"].PropTypes.number,hideLegendTitle:C["default"].PropTypes.bool,showErrorBars:C["default"].PropTypes.bool,layout:C["default"].PropTypes.string}}},{key:"contextTypes",get:function(){return{dispatcher:C["default"].PropTypes.object.isRequired}}}]),t}(v["default"]);n["default"]=O},{"../../../constants/Interaction":164,"../../../content/content":176,"../../../format":179,"../general/ImmutableRenderComponent.jsx":123,"./Histogram.jsx":127,"./HistogramExplanation.jsx":128,"./HistogramTitle.jsx":129,classnames:240,react:465}],125:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./Histogram.jsx"),f=o(c),p=e("./HistogramExplanation.jsx"),d=o(p),h=e("./HistogramTitle.jsx"),y=o(h),m=e("../general/ImmutableRenderComponent.jsx"),v=o(m),g=e("../../../content/content"),b=o(g),_=e("../../../constants/Interaction"),w=o(_),S=e("../../../format"),T=r(S),x=e("../../../util.js"),P=r(x),E=e("classnames"),C=o(E),O=e("react"),R=o(O),k=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"onHistogramClick",value:function(e,t){this.context.dispatcher.dispatch({actionType:w["default"].action.HISTOGRAM_CLICK,data:{interactionCategory:w["default"].category.CITING_HISTOGRAM,interactionType:w["default"].type.CLICK,interactionLabel:e,index:t}})}},{key:"onHistogramHover",value:function(e,t){this.context.dispatcher.dispatch({actionType:w["default"].action.HISTOGRAM_HOVER,data:{interactionCategory:w["default"].category.CITING_HISTOGRAM,interactionType:w["default"].type.HOVER,interactionLabel:e,index:t}})}},{key:"renderExplanation",value:function(){var e=null,t=Math.round(this.props.citationStats.estCitationVelocity.estimate.value),n=this.props.citationStats.estCitationVelocity.estCitationsByRange.size;return e=1===n?b["default"].getString("citations.lastYear",P.pluralize(t,b["default"].getString("general.time")),b["default"].getString("general.year")):b["default"].getString("citations.average",t>0?P.pluralize(t,b["default"].getString("general.citation")):b["default"].getString("general.quantity.lessThan")+" 1 "+b["default"].getString("general.citation"),P.pluralize(n,b["default"].getString("general.year"))),u(d["default"],{html:e})}},{key:"renderTitle",value:function(){if(this.props.hideLegendTitle)return null;var e=b["default"].getString("citations.velocity.label",T.estCitationVelocityValue(this.props.citationStats.estCitationVelocity));return u(y["default"],{text:e})}},{key:"renderHistogram",value:function(){var e=[{buckets:this.props.citationStats.estCitationVelocity.buckets.toJS(),renderer:f["default"].bucketRenderers.selectedBuckets}];return u("div",{className:"histogram__chart"},void 0,u(f["default"],{id:this.props.id,bucketRenderers:e,renderPopover:!0,renderAxis:!0,squashFatBuckets:!0,onBucketClick:this.onHistogramClick.bind(this,this.props.entityId,this.props.searchResultIndex),onBucketHover:this.onHistogramHover.bind(this,this.props.entityId,this.props.searchResultIndex),width:this.props.width,height:f["default"].DEFAULT_HEIGHT,paddingLeft:f["default"].DefaultPadding.LEFT,paddingRight:f["default"].DefaultPadding.RIGHT,paddingTop:f["default"].DefaultPadding.TOP,paddingBottom:f["default"].DefaultPadding.BOTTOM,enableBarHoverEffect:!1,minDisplayYears:this.props.citationStats.estCitationVelocity.buckets.size,showErrorBars:this.props.showErrorBars}),u("div",{className:"histogram-axis-label"},void 0,b["default"].getString("citations.estimatedTotalByYear.label")))}},{key:"render",value:function(){var e=(0,C["default"])("box citation-histogram",{"histogram--horizontal":"horizontal"===this.props.layout});return"horizontal"===this.props.layout?u("div",{className:e},void 0,this.renderHistogram(),u("div",{className:"histogram__text"},void 0,this.renderTitle(),this.renderExplanation())):u("div",{className:e},void 0,this.renderTitle(),this.renderHistogram(),this.renderExplanation())}}],[{key:"propTypes",get:function(){return{id:R["default"].PropTypes.string.isRequired,entityId:R["default"].PropTypes.string.isRequired,citationStats:R["default"].PropTypes.object.isRequired,width:R["default"].PropTypes.number.isRequired,searchResultIndex:R["default"].PropTypes.number,showErrorBars:R["default"].PropTypes.bool,hideLegendTitle:R["default"].PropTypes.bool,layout:R["default"].PropTypes.string}}},{key:"contextTypes",get:function(){return{dispatcher:R["default"].PropTypes.object.isRequired}}}]),t}(v["default"]);n["default"]=k},{"../../../constants/Interaction":164,"../../../content/content":176,"../../../format":179,"../../../util.js":221,"../general/ImmutableRenderComponent.jsx":123,"./Histogram.jsx":127,"./HistogramExplanation.jsx":128,"./HistogramTitle.jsx":129,classnames:240,react:465}],126:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./Histogram.jsx"),f=o(c),p=e("./HistogramExplanation.jsx"),d=o(p),h=e("./HistogramTitle.jsx"),y=o(h),m=e("../general/ImmutableRenderComponent.jsx"),v=o(m),g=e("../../../constants/Interaction"),b=o(g),_=e("../../../content/content"),w=o(_),S=e("../../../format"),T=r(S),x=e("../../../util"),P=r(x),E=e("classnames"),C=o(E),O=e("react"),R=o(O),k=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"onHistogramClick",value:function(e,t){this.context.dispatcher.dispatch({actionType:b["default"].action.HISTOGRAM_CLICK,data:{interactionCategory:b["default"].category.CITING_HISTOGRAM,interactionType:b["default"].type.CLICK,interactionLabel:e,index:t}})}},{key:"onHistogramHover",value:function(e,t){this.context.dispatcher.dispatch({actionType:b["default"].action.HISTOGRAM_HOVER,data:{interactionCategory:b["default"].category.CITING_HISTOGRAM,interactionType:b["default"].type.HOVER,interactionLabel:e,index:t}})}},{key:"renderTitle",value:function(){var e=T.estCitationsValue(Math.round(this.props.citationStats.estNumCitations.value)),t=this.props.hideLegendTitle?null:e+" "+w["default"].getString("citations.estimatedTotal.label");return t?u(y["default"],{text:t}):null}},{key:"renderExplanation",value:function(){var e=void 0;if(this.props.citationStats.estNumCitations.shouldDisplay()){var t=w["default"].getString("citations.estimatedTotal.text",this.props.type||"publication","<strong>"+P.format(Math.round(this.props.citationStats.estNumCitations.min))+"</strong>","<strong>"+P.format(Math.round(this.props.citationStats.estNumCitations.max))+"</strong>");e=t}else e=w["default"].getString("citations.estimatedTotal.insufficientData");return u(d["default"],{html:e})}},{key:"renderHistogramContent",value:function(){var e=[{buckets:this.props.citationStats.citedByBuckets.toArray(),renderer:f["default"].bucketRenderers.selectedBuckets}],t=(new Date).getFullYear();return u("div",{className:"histogram__chart"},void 0,u(f["default"],{id:this.props.id,bucketRenderers:e,renderPopover:!0,renderAxis:!0,squashFatBuckets:!0,onBucketClick:this.onHistogramClick.bind(this,this.props.entityId,this.props.searchResultIndex),onBucketHover:this.onHistogramHover.bind(this,this.props.entityId,this.props.searchResultIndex),width:this.props.width,height:f["default"].DEFAULT_HEIGHT,paddingLeft:f["default"].DefaultPadding.LEFT,paddingRight:f["default"].DefaultPadding.RIGHT,paddingTop:f["default"].DefaultPadding.TOP,paddingBottom:f["default"].DefaultPadding.BOTTOM,highlightRecentYears:!1,enableBarHoverEffect:!1,minMaxYear:t,showErrorBars:this.props.showErrorBars}),u("div",{className:"histogram-axis-label"},void 0,w["default"].getString("citations.estimatedTotalByYear.label")))}},{key:"render",value:function(){var e=(0,C["default"])("box citation-histogram",{"histogram--horizontal":"horizontal"===this.props.layout});return"horizontal"===this.props.layout?u("div",{className:e},void 0,this.props.citationStats.estNumCitations.shouldDisplay()?this.renderHistogramContent():null,u("div",{className:"histogram__text"},void 0,this.renderTitle(),this.renderExplanation())):u("div",{className:e},void 0,this.renderTitle(),this.props.citationStats.estNumCitations.shouldDisplay()?this.renderHistogramContent():null,this.renderExplanation())}}],[{key:"propTypes",get:function(){return{id:R["default"].PropTypes.string.isRequired,entityId:R["default"].PropTypes.string.isRequired,citationStats:R["default"].PropTypes.object.isRequired,type:R["default"].PropTypes.string,width:R["default"].PropTypes.number.isRequired,searchResultIndex:R["default"].PropTypes.number,showErrorBars:R["default"].PropTypes.bool,hideLegendTitle:R["default"].PropTypes.bool,layout:R["default"].PropTypes.string}}},{key:"contextTypes",get:function(){return{dispatcher:R["default"].PropTypes.object.isRequired}}}]),t}(v["default"]);n["default"]=k},{"../../../constants/Interaction":164,"../../../content/content":176,"../../../format":179,"../../../util":221,"../general/ImmutableRenderComponent.jsx":123,"./Histogram.jsx":127,"./HistogramExplanation.jsx":128,"./HistogramTitle.jsx":129,classnames:240,react:465}],127:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.some(function(e){return e.buckets&&e.buckets.length>0})}function a(e){return e.estimate?e.estimate.max:e.count}function s(e){return e.estimate?e.estimate.value:e.count}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=e("./HistogramYearPopover.jsx"),c=o(l),f=e("react-immutable-render-mixin"),p=o(f),d=e("d3"),h=o(d),y=e("../../../util.js"),m=r(y),v=e("react"),g=o(v),b=e("react-dom"),_=o(b),w=175,S={MIN_HEIGHT:5,MIN_CAP_WIDTH:4,MIN_PARENT_WIDTH:7,WIDTH_RATIO:.3},T=40,x=.75,P=u("stop",{className:"bar-stop1",offset:"0"}),E=u("stop",{className:"bar-stop2",offset:"1"}),C=u("stop",{className:"bar-stop1-inactive",offset:"0"}),O=u("stop",{className:"bar-stop2-inactive",offset:"1"}),R=u("stop",{className:"bar-stop-hover",offset:"0"}),k=g["default"].createClass({displayName:"Histogram",mixins:[p["default"]],statics:{xScale:function(e,t,n,r){return h["default"].scale.ordinal().domain(h["default"].range(e,t+1,n)).rangeRoundBands([0,r],.2,0)},scaleState:function(e){var t=i(e.bucketRenderers)?e.bucketRenderers[0].buckets:[{startKey:0,endKey:0,count:0}],n=e.width-e.paddingRight-e.paddingLeft;e.squashFatBuckets&&t.size<3&&(n=Math.min(n,50*t.size));var r=e.height-e.paddingTop-e.paddingBottom,o=void 0;o=e.useLogScale?h["default"].scale.log().domain([x,h["default"].max(t,function(e){return a(e)})]):h["default"].scale.linear().domain([0,h["default"].max(t,function(e){return a(e)})]),o.rangeRound([0,r]);var s=0;"number"==typeof e.minMaxYear&&(s=e.minMaxYear);var u=t[0].endKey,l=t[t.length-1].endKey;u!==t[0].startKey&&(u=t[0].startKey,l=t[t.length-1].startKey);var c=Math.max(s,l),f=void 0;f="number"==typeof e.minDisplayYears&&e.minDisplayYears>0?Math.min(t[0].startKey,c-(e.minDisplayYears-1)):t[0].startKey;var p=k.xScale(f,c,u-t[0].startKey+1,n),d=function(t){return o(e.useLogScale?Math.max(t,x):t)};return d.ticks=function(){var e;return(e=o).ticks.apply(e,arguments)},{xScale:p,yScale:d,popoverBucketKey:null}},bucketRenderers:{selectedBuckets:function(e,t,n,r){return u("g",{className:"buckets"},n,t.map(function(t){var n=e.props.enableBarHoverEffect&&(e.state.popoverBucketKey===t.startKey||e.state.popoverBucketKey===t.endKey),o=void 0;if(e.props.highlightRecentYears){var i=(new Date).getFullYear()-("number"==typeof e.props.recentYears?e.props.recentYears-1:0);o=!r&&t.startKey>=i}else o=!r&&t.startKey>=e.props.minSelected&&t.startKey<=e.props.maxSelected;var a=void 0;a=n&&!r?"Hover":o?"":"Inactive";var l="url(#BarGradient"+a+"-"+e.props.id+")",c=e.state.xScale(t.startKey)+e.props.paddingLeft,f=e.props.height-e.state.yScale(s(t))+e.props.paddingTop-e.props.paddingBottom,p=e.state.xScale.rangeBand(),d=(p-T)/2,h=Math.min(p,T),y=null;if(e.props.showErrorBars){var m=e.props.height-e.state.yScale(t.estimate.min)+e.props.paddingTop-e.props.paddingBottom,v=e.props.height-e.state.yScale(t.estimate.max)+e.props.paddingTop-e.props.paddingBottom,g=m-v,b=c+e.state.xScale.rangeBand()/2,_=Math.max(h*S.WIDTH_RATIO,S.MIN_CAP_WIDTH);if(g>S.MIN_HEIGHT&&e.state.xScale.rangeBand()>S.MIN_PARENT_WIDTH){var w=_/2,x=b-w,P=b+w;y=u("path",{className:"error-bar",d:"\n                            M "+x+" "+v+"\n                            L "+P+" "+v+"\n                            M "+b+" "+v+"\n                            L "+b+" "+m+"\n                            M "+x+" "+m+"\n                            L "+P+" "+m+"\n                            "})}}return u("g",{},t.startKey,u("rect",{fill:l,width:h,height:e.state.yScale(s(t)),x:d>0?c+d:c,y:f}),y)}))},unfilteredBuckets:function(e,t,n){return k.bucketRenderers.selectedBuckets(e,t,n,!0)}}},propTypes:{bucketRenderers:g["default"].PropTypes.arrayOf(g["default"].PropTypes.shape({buckets:g["default"].PropTypes.array,renderer:g["default"].PropTypes.func})).isRequired,id:g["default"].PropTypes.string.isRequired,renderAxis:g["default"].PropTypes.bool.isRequired,minSelected:g["default"].PropTypes.number.isRequired,maxSelected:g["default"].PropTypes.number.isRequired,onBucketClick:g["default"].PropTypes.func,onBucketHover:g["default"].PropTypes.func,renderPopover:g["default"].PropTypes.bool,filterPopoverCount:g["default"].PropTypes.func,useLogScale:g["default"].PropTypes.bool.isRequired,squashFatBuckets:g["default"].PropTypes.bool.isRequired,width:g["default"].PropTypes.number.isRequired,height:g["default"].PropTypes.number.isRequired,paddingTop:g["default"].PropTypes.number.isRequired,paddingRight:g["default"].PropTypes.number.isRequired,paddingBottom:g["default"].PropTypes.number.isRequired,paddingLeft:g["default"].PropTypes.number.isRequired,enableBarHoverEffect:g["default"].PropTypes.bool,recentYears:g["default"].PropTypes.number,minDisplayYears:g["default"].PropTypes.number,highlightRecentYears:g["default"].PropTypes.bool,minMaxYear:g["default"].PropTypes.number,showErrorBars:g["default"].PropTypes.bool,showLabelsAsRange:g["default"].PropTypes.bool},getDefaultProps:function(){return{minSelected:Number.MIN_VALUE,maxSelected:Number.MAX_VALUE,useLogScale:!1,squashFatBuckets:!1,renderAxis:!1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,enableBarHoverEffect:!0}},getInitialState:function(){return k.scaleState(this.props)},componentWillReceiveProps:function(e){this.setState(k.scaleState(e))},bucketKeyForEvent:function(e){var t=_["default"].findDOMNode(this).getBoundingClientRect(),n=e.clientX-t.left-this.props.paddingLeft;return m.domainValForMousePos(this.state.xScale,n)},onClick:function(e){clearTimeout(this._hoverTimeout);var t=this.bucketKeyForEvent(e),n=this.props.bucketRenderers[0].buckets,r=m.arrayFind(n,function(e){return e.startKey===t});r&&this.props.onBucketClick&&(this.props.onBucketClick(r),e.stopPropagation())},fireHover:function(){var e=this;if(this.props.onBucketHover){var t=this.props.bucketRenderers[0].buckets,n=m.arrayFind(t,function(t){return t.startKey===e.state.popoverBucketKey});n&&this.props.onBucketHover(n)}},onMouseMove:function(e){clearTimeout(this._hoverTimeout),this._hoverTimeout=setTimeout(this.fireHover,500);var t=this.bucketKeyForEvent(e);this.setState({popoverBucketKey:t})},onMouseLeave:function(){clearTimeout(this._hoverTimeout),this.setState({popoverBucketKey:null})},renderPopoverBucket:function(){var e=this;if(this.props.renderPopover&&this.state.popoverBucketKey){var t=m.arrayFind(this.props.bucketRenderers[0].buckets,function(t){return t.startKey===e.state.popoverBucketKey});if(t){var n=Math.round(this.state.xScale(t.startKey)+this.props.paddingLeft+this.state.xScale.rangeBand()/2-w/2),r=this.state.yScale(s(t))+this.props.paddingBottom,o=this.props.filterPopoverCount?this.props.filterPopoverCount(t):null;return u("div",{className:"bucket-popover",style:{left:n,bottom:r}},void 0,u(c["default"],{bucket:t,count:o}))}}return null},renderXAxis:function(){var e=this,t=this.props.height-this.props.paddingBottom+this.props.paddingTop+20,n=Math.max(1,Math.round(33/this.state.xScale.rangeBand())),r=this.state.xScale.domain().length;if(!m.isPrime(r))for(;this.state.xScale.domain().length%n!==0;)n+=1;return u("g",{className:"x-axis"},void 0,this.state.xScale.domain().map(function(o,i){var a=o.toString(),s=a.substr(a.length-2),l=45;if(e.props.showLabelsAsRange){var c=(new Date).getMonth()+1,f=(o+1).toString().substr(a.length-2);a=c+"/"+s+" - "+c+"/"+f}else e.props.width/r<=l&&(a="'"+s);if(0===i&&n>3||(i+1)%n===0){var p=Math.round(e.state.xScale(o)+e.state.xScale.rangeBand()/2)+e.props.paddingLeft;return u("g",{},o,u("text",{x:p,y:t},void 0,a),u("line",{x1:p,x2:p,y1:t-14,y2:t-20}))}return null}))},renderYAxis:function(){var e=this,t=this.props.paddingLeft-8,n=t+this.props.width-this.props.paddingLeft-this.props.paddingRight+16,r=this.state.yScale.ticks(3);return r.map(function(r){if(!m.isInteger(r))return null;var o=e.props.height-e.state.yScale(r)+e.props.paddingTop-e.props.paddingBottom;return u("g",{className:"y-axis-tick"},r,u("text",{x:t-5,y:o},void 0,r),u("line",{x1:t,x2:n,y1:o,y2:o}))})},render:function(){var e=this;return i(this.props.bucketRenderers)?u("div",{className:"histogram",onClick:this.onClick,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},void 0,this.renderPopoverBucket(),u("svg",{width:this.props.width,height:this.props.height},void 0,u("linearGradient",{id:"BarGradient-"+this.props.id,x1:"0",x2:"0",y1:"0",y2:"1"},void 0,P,E),u("linearGradient",{id:"BarGradientInactive-"+this.props.id,x1:"0",x2:"0",y1:"0",y2:"1"},void 0,C,O),u("linearGradient",{id:"BarGradientHover-"+this.props.id,x1:"0",x2:"0",y1:"0",y2:"1"},void 0,R),this.props.renderAxis?this.renderYAxis():null,this.props.renderAxis?this.renderXAxis():null,this.props.bucketRenderers.map(function(t,n){var r=t.renderer,o=t.buckets;return r(e,o,n)}))):null}});k.DEFAULT_HEIGHT=140,k.DefaultPadding={TOP:10,RIGHT:20,BOTTOM:35,LEFT:60},n["default"]=k},{"../../../util.js":221,"./HistogramYearPopover.jsx":130,d3:242,react:465,"react-dom":294,"react-immutable-render-mixin":296}],128:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"histogram__explanation",dangerouslySetInnerHTML:{__html:this.props.html}})}}],[{key:"propTypes",get:function(){return{html:p["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../general/ImmutableRenderComponent.jsx":123,react:465}],129:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){
function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("h4",{className:"histogram__title"},void 0,this.props.text)}}],[{key:"propTypes",get:function(){return{text:p["default"].PropTypes.string.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../general/ImmutableRenderComponent.jsx":123,react:465}],130:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../general/ImmutableRenderComponent.jsx"),f=o(c),p=e("../../../content/content"),d=o(p),h=e("../../../util"),y=r(h),m=e("react"),v=o(m),g=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.bucket.startKey===this.props.bucket.endKey?this.props.bucket.startKey:this.props.bucket.startKey+" to "+this.props.bucket.endKey,t=void 0;if(t=this.props.count?this.props.count:this.props.bucket.estimate?Math.round(this.props.bucket.estimate.value):this.props.bucket.count,this.props.bucket.estimate){var n=Math.round(this.props.bucket.estimate.min),r=Math.round(this.props.bucket.estimate.max),o="in";return this.props.bucket.startKey!==this.props.bucket.endKey&&(o="from"),u("div",{},void 0,u("span",{},void 0,u("strong",{},void 0,y.pluralize(t,"Citation"))),u("div",{},void 0,d["default"].getString("citations.estimatedTotalByYear.text",y.format(n),y.format(r),o,e)))}return u("span",{},void 0,u("strong",{},void 0,y.pluralize(t,"Publication"))," – "+e)}}],[{key:"propTypes",get:function(){return{bucket:v["default"].PropTypes.object.isRequired,count:v["default"].PropTypes.number}}}]),t}(f["default"]);n["default"]=g},{"../../../content/content":176,"../../../util":221,"../general/ImmutableRenderComponent.jsx":123,react:465}],131:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=(r(f),s("div",{className:"note"},void 0,s("div",{className:"container"},void 0,s("p",{},void 0,"Our corpus currently includes only ",s("strong",{},void 0,"computer science")," papers.")))),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return p}}]),t}(c["default"]);n["default"]=d},{"../general/ImmutableRenderComponent.jsx":123,react:465}],132:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../shared/layout/PageSection.jsx"),p=r(f),d=e("../../../content/content"),h=r(d),y=e("react"),m=(r(y),s("h2",{className:"why-s2__title"},void 0,"Why You'll Love Semantic Scholar")),v=s("div",{className:"tile-image"}),g=s("div",{className:"tile-image"}),b=s("div",{className:"tile-image"}),_=s("div",{className:"tile-image"}),w=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s(p["default"],{className:"why-s2 padded"},void 0,s("div",{className:"container"},void 0,m,s("div",{className:"tiles"},void 0,s("div",{className:"tile tile-filter"},void 0,v,s("h3",{},void 0,h["default"].getString("home.whyS2.advanced-filters")),s("p",{},void 0,h["default"].getString("home.whyS2.advanced-filters-description"))),s("div",{className:"tile tile-explore"},void 0,g,s("h3",{},void 0,h["default"].getString("home.whyS2.easy-exploration")),s("p",{},void 0,h["default"].getString("home.whyS2.easy-exploration-description"))),s("div",{className:"tile tile-understand"},void 0,b,s("h3",{},void 0,h["default"].getString("home.whyS2.semantic-understanding")),s("p",{},void 0,h["default"].getString("home.whyS2.semantic-understanding-description"))),s("div",{className:"tile tile-convenience"},void 0,_,s("h3",{},void 0,h["default"].getString("home.whyS2.convenience")),s("p",{},void 0,h["default"].getString("home.whyS2.convenience-description"))))))}}]),t}(c["default"]);n["default"]=w},{"../../../content/content":176,"../../shared/layout/PageSection.jsx":138,"../general/ImmutableRenderComponent.jsx":123,react:465}],133:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("./Icon.jsx"),p=r(f),d=e("classnames"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,h["default"])("arrow direction--"+this.props.direction,{"animate--transform":this.props.animate});return s("div",{className:e},void 0,s(p["default"],{icon:"disclosure",width:this.props.width,height:this.props.height}))}}],[{key:"propTypes",get:function(){return{width:m["default"].PropTypes.string,height:m["default"].PropTypes.string,direction:m["default"].PropTypes.string,animate:m["default"].PropTypes.bool}}},{key:"defaultProps",get:function(){return{width:"12",height:"12",direction:t.Direction.RIGHT,animate:!0}}}]),t}(c["default"]);n["default"]=v,v.Direction={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"},Object.freeze(v.Direction)},{"../general/ImmutableRenderComponent.jsx":123,"./Icon.jsx":135,classnames:240,react:465}],134:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./Icon.jsx"),l=r(u),c=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{icon:"help",width:"15",height:"15",className:"fill--gray"}}}]),t}(l["default"]);n["default"]=c},{"./Icon.jsx":135}],135:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("../general/ImmutableRenderComponent.jsx"),f=r(c),p=e("react"),d=r(p),h=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=Object.getOwnPropertyNames(this.props).reduce(function(t,n){return"icon"!==n&&(t[n]=e.props[n]),t},{});return d["default"].createElement("svg",s({},t,{"data-selenium-selector":"icon-"+this.props.icon}),u("use",{xlinkHref:"#"+this.props.icon}))}}],[{key:"propTypes",get:function(){return{className:d["default"].PropTypes.string,style:d["default"].PropTypes.object,icon:d["default"].PropTypes.string,width:d["default"].PropTypes.string,height:d["default"].PropTypes.string}}}]),t}(f["default"]);n["default"]=h},{"../general/ImmutableRenderComponent.jsx":123,react:465}],136:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./Icon.jsx"),c=r(l),f=e("../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("classnames"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,h["default"])("icon-bubble flex-row-vcenter",this.props.className);return s("div",{className:e},void 0,s(c["default"],{icon:this.props.icon,className:"icon",width:this.props.width,height:this.props.height}))}}],[{key:"propTypes",get:function(){return{icon:m["default"].PropTypes.string.isRequired,width:m["default"].PropTypes.string,height:m["default"].PropTypes.string,className:m["default"].PropTypes.string}}},{key:"defaultProps",get:function(){return{width:"18",height:"18"}}}]),t}(p["default"]);n["default"]=v},{"../general/ImmutableRenderComponent.jsx":123,"./Icon.jsx":135,classnames:240,react:465}],137:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../general/ImmutableRenderComponent.jsx"),l=r(u),c=e("../../../assets/AssetMap"),f=r(c),p=e("react"),d=r(p),h=e("superagent"),y=r(h),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.context.assetMap.getUrl(this.context.hostname,"/svg/icons.svg");(0,y["default"])("GET",t).end(function(t,n){if(t)console.error("Error fetching SVG:",t);else{var r=document.createElement("div");r.style.display="none",r.innerHTML=n.text,e.sprite=document.body.appendChild(r)}})}},{key:"componentWillUnmount",value:function(){this.sprite&&(this.sprite.parentNode.removeChild(this),this.sprite=void 0)}},{key:"render",value:function(){return null}}],[{key:"contextTypes",get:function(){return{assetMap:d["default"].PropTypes.instanceOf(f["default"]).isRequired,hostname:d["default"].PropTypes.string.isRequired}}}]),t}(l["default"]);n["default"]=m},{"../../../assets/AssetMap":5,"../general/ImmutableRenderComponent.jsx":123,react:465,superagent:468}],138:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("classnames"),p=r(f),d=e("react"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,p["default"])("page-section",this.props.className);return s("section",{className:e},void 0,this.props.children)}}],[{key:"propTypes",get:function(){return{children:h["default"].PropTypes.node.isRequired,className:h["default"].PropTypes.string}}}]),t}(c["default"]);n["default"]=y},{"../general/ImmutableRenderComponent.jsx":123,classnames:240,react:465}],139:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("react"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"collapsible-list"},void 0,this.props.children)}}],[{key:"propTypes",get:function(){return{children:p["default"].PropTypes.any.isRequired}}}]),t}(c["default"]);n["default"]=d},{"../../general/ImmutableRenderComponent.jsx":123,react:465}],140:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../icon/Arrow.jsx"),c=r(l),f=e("../../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("classnames"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(e){var n;o(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var u=i(this,(n=Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a)));return u.state={collapsed:!0},u}return a(t,e),u(t,null,[{key:"propTypes",get:function(){return{className:m["default"].PropTypes.string,collapsibleContent:m["default"].PropTypes.element.isRequired,label:m["default"].PropTypes.element.isRequired,showToggleIcon:m["default"].PropTypes.bool,id:m["default"].PropTypes.string,onToggle:m["default"].PropTypes.func}}},{key:"contextTypes",get:function(){return{router:m["default"].PropTypes.func.isRequired}}}]),u(t,[{key:"componentDidMount",value:function(){var e=this;this.hashChangeListener=function(){e.setState({collapsed:e.props.id!==window.location.hash.replace("#","")})},this.hashChangeListener(),window.addEventListener("hashchange",this.hashChangeListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.hashChangeListener)}},{key:"onToggle",value:function(){var e=this;this.setState({collapsed:!this.state.collapsed},function(){if(void 0!==e.props.id){var t=e.context.router.getCurrentRoutes();if(t.length>0){var n=t[t.length-1],r=e.state.collapsed?"":"#"+encodeURIComponent(e.props.id);e.context.router.transitionTo(""+e.context.router.makeHref(n.name)+r)}}"function"==typeof e.props.onToggle&&e.props.onToggle(e.state.collapsed,e.props.id)})}},{key:"renderIcon",value:function(){return this.props.showToggleIcon?s(c["default"],{direction:this.state.collapsed?c["default"].Direction.DOWN:c["default"].Direction.UP}):null}},{key:"render",value:function(){var e=(0,h["default"])("collapsible-list-item "+this.props.className,{"is-open":!this.state.collapsed});return s("div",{id:this.props.id,className:e},void 0,s("div",{className:"collapsible-list-item-label",onClick:this.onToggle.bind(this)},void 0,this.renderIcon(),this.props.label),s("div",{className:"collapsible-list-item-content"},void 0,this.props.collapsibleContent))}}]),t}(p["default"]);n["default"]=v},{"../../general/ImmutableRenderComponent.jsx":123,"../../icon/Arrow.jsx":133,classnames:240,react:465}],141:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("react"),a=r(i),s=e("../icon/Icon.jsx"),u=r(s),l=a["default"].createClass({displayName:"LoadingIndicator",propTypes:{className:a["default"].PropTypes.string,animating:a["default"].PropTypes.bool,width:a["default"].PropTypes.string,height:a["default"].PropTypes.string},getDefaultProps:function(){return{animating:!0,width:"16",height:"16"}},render:function(){var e=["loading-indicator",this.props.className,this.props.animating?"is-animating":""].join(" ").trim();return o(u["default"],{icon:"gear",className:e,width:this.props.width,height:this.props.height})}});n["default"]=l},{"../icon/Icon.jsx":135,react:465}],142:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../../browser"),h=r(d),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=h["default"].isBrowser&&window.devicePixelRatio?window.devicePixelRatio:2,t={width:155,height:102},n="/img/error-"+t.width*e+"x"+t.height*e+".png";return s("div",{className:"inline-error-message flex-row-vcenter"},void 0,s("div",{},void 0,s("img",{src:n,width:t.width,height:t.height,alt:"Error"}),s("h1",{},void 0,this.props.title),s("p",{className:"text-left"},void 0,this.props.message)))}}],[{key:"contextTypes",get:function(){return{dispatcher:c["default"].PropTypes.object.isRequired}}},{key:"propTypes",get:function(){return{title:c["default"].PropTypes.string.isRequired,message:c["default"].PropTypes.string.isRequired}}}]),t}(p["default"]);n["default"]=y},{"../../../browser":6,"../general/ImmutableRenderComponent.jsx":123,react:465}],143:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../general/ImmutableRenderComponent.jsx"),p=r(f),d=e("../../../browser"),h=r(d),y=s("h1",{},void 0,s("span",{className:"error-code"},void 0,"404 ",s("span",{className:"bullet"},void 0,"●"))," Not Found"),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=h["default"].isBrowser?window.devicePixelRatio||2:2,t={width:155,height:102},n="/img/not-found-"+t.width*e+"x"+t.height*e+".png";return s("div",{className:"inline-error-message flex-row-vcenter"},void 0,s("div",{},void 0,s("img",{src:n,width:t.width,height:t.height,alt:"Page Not Found"}),y,s("p",{},void 0,this.props.message||"Sorry, we couldn't find anything at that url.")))}}],[{key:"propTypes",get:function(){return{message:c["default"].PropTypes.string
}}}]),t}(p["default"]);n["default"]=m},{"../../../browser":6,"../general/ImmutableRenderComponent.jsx":123,react:465}],144:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.MessagesBase=n.MessageBase=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),l=r(u),c=e("../general/ImmutableRenderComponent.jsx"),f=r(c),p=e("../../../browser.js"),d=r(p),h=e("immutable"),y=e("classnames"),m=r(y);n.MessageBase=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={hide:!1},s}return a(t,e),s(t,[{key:"hideHandler",value:function(){var e=this;clearTimeout(this.timer),d["default"].once(this.refs.message,"animationend",function(){e.props.onClose(e.props.message)}),this.setState({hide:!0})}},{key:"componentDidMount",value:function(){this.timer=setTimeout(this.hideHandler.bind(this),8e3)}},{key:"getClassNames",value:function(){return(0,m["default"])("msg msg-"+this.props.message.type,{"mod-animate-out":this.state.hide,"mod-animate-in":!this.state.hide})}}],[{key:"propTypes",get:function(){return{message:l["default"].PropTypes.object.isRequired,onClose:l["default"].PropTypes.func.isRequired}}}]),t}(f["default"]),n.MessagesBase=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={messages:new h.List},s}return a(t,e),s(t,null,[{key:"contextTypes",get:function(){return{messageStore:l["default"].PropTypes.object.isRequired}}}]),s(t,[{key:"onMessageStoreChange",value:function(){this.setState({messages:this.context.messageStore.messages})}},{key:"componentDidMount",value:function(){this.context.messageStore.addChangeListener(this.onMessageStoreChange.bind(this)),this.context.messageStore.messages.isEmpty()||this.setState({messages:this.context.messageStore.messages})}},{key:"componentWillUnmount",value:function(){this.context.messageStore.removeChangeListener(this.onMessageStoreChange.bind(this))}},{key:"closeMessage",value:function(e){this.context.messageStore.removeMessage(e)}},{key:"getClassNames",value:function(){return"msg-list"}},{key:"render",value:function(){return this.state.messages.isEmpty()?null:this.renderImpl()}}]),t}(f["default"])},{"../../../browser.js":6,"../general/ImmutableRenderComponent.jsx":123,classnames:240,immutable:275,react:465}],145:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),i=e("react-immutable-render-mixin"),a=r(i),s=e("../../../constants/Interaction"),u=r(s),l=e("react"),c=r(l),f=e("classnames"),p=r(f),d=o("li",{},"‹",o("span",{},void 0,"‹")),h=o("li",{},"...",o("span",{className:"pagination-ellipsis"},void 0,"...")),y=o("li",{},"›",o("span",{},void 0,"›")),m=o("li",{},"»",o("span",{},void 0,"»")),v=c["default"].createClass({displayName:"Pager",mixins:[a["default"]],propTypes:{loadPage:c["default"].PropTypes.func.isRequired,pageNumber:c["default"].PropTypes.number.isRequired,totalPages:c["default"].PropTypes.number.isRequired,className:c["default"].PropTypes.string},contextTypes:{uiOptionsStore:c["default"].PropTypes.object.isRequired,dispatcher:c["default"].PropTypes.object.isRequired},getDefaultProps:function(){return{totalPages:0}},onPageNumberClick:function(e){this.context.dispatcher.dispatch({actionType:u["default"].action.SEARCH_PAGINATION_CLICK,data:{interactionCategory:u["default"].category.PAGINATION,interactionType:u["default"].type.CLICK,interactionTarget:e}})},loadPage:function(e){this.onPageNumberClick(e),this.props.loadPage(e)},render:function(){if(0===this.props.totalPages)return null;var e=this.props.pageNumber,t=this.props.totalPages,n=[];e>1?n.push(o("li",{},"‹",o("a",{onClick:this.loadPage.bind(this,e-1)},void 0,"‹"))):n.push(d);var r=Math.min(t,5),i=1,a=Math.floor(r/2);e>3&&t>5&&(n.push(o("li",{},"1",o("a",{onClick:this.loadPage.bind(this,1)},void 0,"1"))),n.push(h),r=Math.min(t,3),i=e),e>t-a&&(i=t-(r-1));for(var s=i+r,u=i;u<s;++u)n.push(o("li",{className:u===e?"is-active":""},u,o("a",{onClick:this.loadPage.bind(this,u)},void 0,u)));e<t?(n.push(o("li",{},"›",o("a",{onClick:this.loadPage.bind(this,e+1)},void 0,"›"))),this.context.uiOptionsStore.options.debug&&n.push(o("li",{},"»",o("a",{onClick:this.loadPage.bind(this,t)},void 0,"»")))):(n.push(y),this.context.uiOptionsStore.options.debug&&n.push(m));var l=(0,p["default"])("pagination flex-row-vcenter",this.props.className);return o("ul",{className:l},void 0,n)}});n["default"]=v},{"../../../constants/Interaction":164,classnames:240,react:465,"react-immutable-render-mixin":296}],146:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../../content/content"),p=r(f),d=e("react"),h=(r(d),function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return s("div",{className:"inline-message"},void 0,s("p",{},void 0,s("strong",{},void 0,p["default"].getString("paperDetail.no-pdf.acm"))))}}]),t}(c["default"]));n["default"]=h},{"../../../content/content":176,"../general/ImmutableRenderComponent.jsx":123,react:465}],147:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("../general/HighlightedField.jsx"),p=o(f),d=e("../general/ImmutableRenderComponent.jsx"),h=o(d),y=e("../../../util"),m=r(y),v=e("react"),g=o(v),b=e("react-router"),_=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),c(t,[{key:"hasAuthorPage",value:function(e){return e.alias&&e.alias.hasAuthorHomePage()}},{key:"renderAuthorListItems",value:function(e){var t=this,n=e.size-1;return e.map(function(e,r){var o=r<n?", ":null,i=l(p["default"],{field:e.highlightedField}),a=void 0;return t.props.linked&&t.hasAuthorPage(e)?(a={to:"authorProfile",params:{authorId:e.alias.ids.first(),slug:e.alias.slug}},l("span",{},r,g["default"].createElement(b.Link,u({},a,{className:"author-link"}),i),o)):l("span",{},r,i,o)})}},{key:"render",value:function(){var e=this.props.max>0?this.props.authors.take(this.props.max):this.props.authors;if(e.isEmpty())return null;var t=this.props.authors.size-e.size,n=null;return t>0&&(n=[" ",l("span",{className:"more-authors-label"},"more-authors-label","+",m.pluralize(t,"other","others"))]),l("span",{},void 0,this.renderAuthorListItems(e),n)}}],[{key:"propTypes",get:function(){return{authors:g["default"].PropTypes.object.isRequired,max:g["default"].PropTypes.number,linked:g["default"].PropTypes.bool}}},{key:"defaultProps",get:function(){return{max:-1,linked:!0}}},{key:"contextTypes",get:function(){return{uiOptionsStore:g["default"].PropTypes.object.isRequired}}}]),t}(h["default"]);n["default"]=_},{"../../../util":221,"../general/HighlightedField.jsx":122,"../general/ImmutableRenderComponent.jsx":123,react:465,"react-router":322}],148:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../../../content/content.js"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.paper,t=!!e&&e.acmLink;return t&&"citedPapers"===this.props.type?s("div",{className:"empty empty-acm-citations"},void 0,s("p",{},void 0,p["default"].getString("citations.emptyAcm.text")),s("p",{},void 0,p["default"].getString("citations.emptyAcm.linkLabel")," ",s("a",{href:e.acmLink,target:"_blank"},void 0,e.acmLink),".")):s("div",{className:"empty empty-citations"},void 0,p["default"].getString("citations.empty.text"))}}],[{key:"propTypes",get:function(){return{paper:c["default"].PropTypes.object.isRequired,type:c["default"].PropTypes.string.isRequired}}}]),t}(c["default"].Component);n["default"]=d},{"../../../content/content.js":176,react:465}],149:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../../../content/content"),p=r(f),d=e("../../../constants"),h=r(d),y=e("react"),m=r(y),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onFeedbackClick",value:function(){this.context.dispatcher.dispatch({actionType:h["default"].actions.SHOW_MODAL,id:h["default"].modalId.FEEDBACK})}},{key:"renderFeedbackLink",value:function(){return this.context.envInfo.isMobile?s("a",{href:"mailto:feedback@semanticscholar.org",target:"_blank"},void 0,p["default"].getString("paperDetail.no-pdf.contact")):s("a",{onClick:this.onFeedbackClick.bind(this),target:"_blank"},void 0,p["default"].getString("paperDetail.no-pdf.contact"))}},{key:"render",value:function(){var e=this.renderFeedbackLink(),t=p["default"].getString("paperDetail.no-pdf.no-link.first"),n=p["default"].getString("paperDetail.no-pdf.no-link.second"),r=p["default"].getString("paperDetail.no-pdf.no-link.third");return s("div",{className:"inline-message"},void 0,s("p",{},void 0,s("strong",{},void 0,t)),n+" ",e," "+r)}}],[{key:"contextTypes",get:function(){return{dispatcher:m["default"].PropTypes.object.isRequired,envInfo:m["default"].PropTypes.object.isRequired}}}]),t}(c["default"]);n["default"]=v},{"../../../constants":155,"../../../content/content":176,"../general/ImmutableRenderComponent.jsx":123,react:465}],150:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("../general/ImmutableRenderComponent.jsx"),p=r(f),d=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"linkedData",value:function(){var e=this.props.paperDetail.linkedData(this.context.router);return{__html:JSON.stringify(e)}}},{key:"render",value:function(){return s("script",{type:"application/ld+json",dangerouslySetInnerHTML:this.linkedData()})}}],[{key:"propTypes",get:function(){return{paperDetail:c["default"].PropTypes.object.isRequired}}},{key:"contextTypes",get:function(){return{router:c["default"].PropTypes.func.isRequired}}}]),t}(p["default"]);n["default"]=d},{"../general/ImmutableRenderComponent.jsx":123,react:465}],151:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),s=e("react"),u=o(s),l=e("react-immutable-render-mixin"),c=o(l),f=e("react-router"),p=e("./AuthorList.jsx"),d=o(p),h=e("../general/HighlightedField.jsx"),y=o(h),m=e("../../../models/index.js"),v=e("../../../util.js"),g=r(v),b=e("../../../utils/routing/query-routes"),_=o(b),w=a("li",{className:"debug-info"},"journal-info","No Journal Info"),S=a("strong",{},void 0,"No Index Inclusion Reason"),T=u["default"].createClass({displayName:"PaperMeta",mixins:[c["default"]],propTypes:{paper:u["default"].PropTypes.object.isRequired,maxAuthors:u["default"].PropTypes.number,gaClickCallback:u["default"].PropTypes.func,disableAuthorLinks:u["default"].PropTypes.bool,disableVenueLink:u["default"].PropTypes.bool},getDefaultProps:function(){return{maxAuthors:Number.MAX_SAFE_INTEGER}},gaCallback:function(e){return this.props.gaClickCallback&&this.props.gaClickCallback.bind(null,e,this.props.paper.id)},renderAuthors:function(){return this.props.paper.authors.isEmpty()?null:a("li",{onClick:this.gaCallback("author")},void 0,a(d["default"],{authors:this.props.paper.authors,max:this.props.maxAuthors,linked:!this.props.disableAuthorLinks}))},renderVenue:function(){var e=this.props.paper.venue&&this.props.paper.venue.text;if("string"==typeof e&&e.length>0){var t=a(y["default"],{field:this.props.paper.venue});return this.props.disableVenueLink?a("li",{},void 0,t):a("li",{},void 0,u["default"].createElement(f.Link,i({},_["default"].routeForQuery(e,"venue"),{className:"venue-link",onClick:this.gaCallback("venue")}),t))}return null},renderYear:function(){var e=this.props.paper.year;return g.isValidYear(e)?a("li",{onClick:this.gaCallback("year")},void 0,"string"==typeof e.text?a(y["default"],{field:e}):e):null},renderDebugInfo:function(){var e=this.props.paper.debugInfo;if(e&&this.props.paper instanceof m.Paper){var t=e.sourceIds.map(function(e,t){var n=void 0;"DBLP"===e.source?n="http://www.dblp.org/rec/bibtex/"+e.id:"CiteSeerX"===e.source&&(n="http://citeseerx.ist.psu.edu/viewdoc/summary?doi="+e.id);var r=a("span",{},void 0,a("span",{className:"source"},void 0,e.source),":",a("span",{className:"id"},void 0,e.id)),o=void 0;return o="undefined"==typeof n?r:a("a",{href:n},void 0,r),a("li",{className:"debug-info"},"src-id-"+t,o)}),n=e.sourceUris.map(function(e,t){return a("li",{className:"source-uri debug-info"},"src-uri-"+t,a("a",{href:e},void 0,e))}),r=e.duplicateIds.map(function(e,t){return a("li",{},"dupe-"+t,"Duplicate ID: ",e)}),o=null!==this.props.paper.journal?a("li",{className:"debug-info"},"journal-info","Journal: ",this.props.paper.journal.name||"No Journal Name",", ",this.props.paper.journal.volume||"Missing Volume",", ",this.props.paper.journal.pages||"Missing Pages"):w,i=null!==this.props.paper.indexInclusionReason?this.props.paper.indexInclusionReason:S,s=a("li",{className:"debug-info"},"index-inclusion-reason","Index Inclusion Reason: ",i),u=a("li",{className:"debug-info"},"acquisition-date","Earliest Aquisition Date: ",e.earliestAcquisitionDate||"Unknown");return t.concat(n,r,s,o,u)}return null},render:function(){return a("ul",{className:"subhead"},void 0,this.renderAuthors(),this.renderVenue(),this.renderYear(),this.renderDebugInfo())}});n["default"]=T},{"../../../models/index.js":196,"../../../util.js":221,"../../../utils/routing/query-routes":224,"../general/HighlightedField.jsx":122,"./AuthorList.jsx":147,react:465,"react-immutable-render-mixin":296,"react-router":322}],152:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=r(l),f=e("react-router"),p=e("../general/ImmutableRenderComponent.jsx"),d=r(p),h={SourcePaper:"SOURCE_PAPER",SourceInstitution:"SOURCE_INSTITUTION"},y=s("span",{className:"query-entity-meta-label"},void 0,"Introduced by:"),m=s("span",{className:"query-entity-meta-label"},void 0,"Introduced in:"),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"renderSourceInstitution",value:function(e,t){return s("li",{},t,y,e.name)}},{key:"renderSourcePaper",value:function(e,t){return s("li",{},t,m,s(f.Link,{to:"paperDetail",params:{paperId:e.paperId,slug:e.slug}},void 0,e.paperTitle))}},{key:"render",value:function(){var e=this,t=this.props.meta.sort(function(e){switch(e.metadataType){case h.SourcePaper:return-1;case h.SourceInstitution:return 1}}).map(function(t,n){switch(t.metadataType){case h.SourcePaper:return e.renderSourcePaper(t,n);case h.SourceInstitution:return e.renderSourceInstitution(t,n)}});return s("ul",{className:"query-entity-metadata"},void 0,t)}}],[{key:"propTypes",value:function(){return{meta:c["default"].PropTypes.array.isRequired}}}]),t}(d["default"]);n["default"]=v},{"../general/ImmutableRenderComponent.jsx":123,react:465,"react-router":322}],153:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../../shared/general/ImmutableRenderComponent.jsx"),c=r(l),f=e("../icon/Icon.jsx"),p=r(f),d=e("../../../constants/Interaction"),h=r(d),y=e("../../../constants/SocialSourceType"),m=r(y),v=e("classnames"),g=r(v),b=e("react"),_=r(b),w="left=100,top=100,width=800,height=500,toolbar=1,resizable=0",S=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onShareLinkClick",value:function(e){this.context.dispatcher.dispatch({actionType:h["default"].action.SHARE,data:{interactionCategory:h["default"].category.SHARE,interactionType:h["default"].type.CLICK,interactionTarget:e}});var t=encodeURIComponent(window.location.href),n=encodeURIComponent(this.props.title),r=this.props.message?encodeURIComponent(this.props.message)+": "+t:t,o=void 0;switch(e){case m["default"].EMAIL:o="mailto:?subject="+n+"&body="+r;break;case m["default"].FACEBOOK:o="https://www.facebook.com/sharer/sharer.php?u="+t;break;case m["default"].GOOGLE_PLUS:o="https://plus.google.com/share?url="+t;break;case m["default"].REDDIT:o="http://reddit.com/submit?url="+t+"&title="+n;break;case m["default"].TWITTER:o="https://twitter.com/intent/tweet?url="+t+"&text="+n}e!==m["default"].EMAIL?window.open(o,"_blank",w):window.location.href=o}},{key:"render",value:function(){var e=this,t=m["default"].shareOptions().map(function(t,n){var r=(0,g["default"])(t.id+" share-option flex-row-vcenter",e.props.linkClassName);return s("li",{className:r,onClick:e.onShareLinkClick.bind(e,t)},n,s(p["default"],{icon:t.id,width:"25",height:"25"}),t.name)});return s("ul",{},void 0,t)}}],[{key:"propTypes",get:function(){return{className:_["default"].PropTypes.string,linkClassName:_["default"].PropTypes.string,message:_["default"].PropTypes.string}}},{key:"contextTypes",get:function(){return{dispatcher:_["default"].PropTypes.object.isRequired}}}]),t}(c["default"]);n["default"]=S},{"../../../constants/Interaction":164,"../../../constants/SocialSourceType":169,"../../shared/general/ImmutableRenderComponent.jsx":123,"../icon/Icon.jsx":135,classnames:240,react:465}],154:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("react"),c=(r(l),e("../general/ImmutableRenderComponent.jsx")),f=r(c),p=e("../../../content/content"),d=r(p),h=s("iframe",{src:"https://s3-us-west-2.amazonaws.com/ai2-s2-public/terms_of_service_2016_05_24.html",frameBorder:"0",width:"100%",height:"100%"}),y=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return h}}],[{key:"getPageMetaDescription",value:function(){return d["default"].getString("metaDescription.termsOfService.content")}}]),t}(f["default"]);n["default"]=y},{"../../../content/content":176,"../general/ImmutableRenderComponent.jsx":123,react:465}],155:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={actions:{ROUTING:"ROUTING",ROUTING_ERROR:"ROUTING_ERROR",QUERY_UPDATED:"QUERY_UPDATED",ADD_TO_READING_LIST:"ADD_TO_READING_LIST",REMOVE_FROM_READING_LIST:"REMOVE_FROM_READING_LIST",API_REQUEST_STARTING:"API_REQUEST_STARTING",API_REQUEST_COMPLETE:"API_REQUEST_COMPLETE",API_ERROR:"API_ERROR",SHOW_READING_LIST:"SHOW_READING_LIST",HIDE_READING_LIST:"HIDE_READING_LIST",READER_INITIALIZED:"READER_INITIALIZED",READER_ERROR:"READER_ERROR",READER_VIEW_PANEL:"READER_VIEW_PANEL",READER_VIEW_SECTION:"READER_VIEW_SECTION",READER_POSITION_UPDATED:"READER_POSITION_UPDATED",READER_CLOSED:"READER_CLOSED",UPDATE_FOCUSED_FIGURE_INDEX:"UPDATE_FOCUSED_FIGURE_INDEX",SET_LOCAL_USER_PREFERENCE:"SET_LOCAL_USER_PREFERENCE",REMOVE_LOCAL_USER_PREFERENCE:"REMOVE_LOCAL_USER_PREFERENCE",SHOW_MODAL:"SHOW_MODAL",HIDE_MODAL:"HIDE_MODAL"},requestTypes:{SEARCH:"SEARCH",PAPER_DETAIL:"PAPER_DETAIL",CITATIONS:"CITATIONS",
MORE_CITATIONS:"MORE_CITATIONS",AUTHOR_DETAIL:"AUTHOR_DETAIL",AUTHOR_DETAIL_WITH_PAPERS:"AUTHOR_DETAIL_WITH_PAPERS",AUTHOR_RECOMMENDATIONS:"AUTHOR_RECOMMENDATIONS",SEARCH_SUGGEST:"SEARCH_SUGGEST",ADD_TO_READING_LIST:"ADD_TO_READING_LIST",REMOVE_FROM_READING_LIST:"REMOVE_FROM_READING_LIST",USER_INFO:"USER_INFO",LOGOUT:"LOGOUT",LOG_ERROR:"LOG_ERROR",TOP_AUTHORS:"INSIGHTS_AUTHORS",TOP_UNIVERSITIES:"TOP_UNIVERSITIES",TOP_PAPERS:"TOP_PAPERS",GET_PAPER_WITH_PDF_URL:"GET_PAPER_WITH_PDF_URL",GET_PAPER_WITH_PRESENTATION_URL:"GET_PAPER_WITH_PRESENTATION_URL",RELATED_PAPERS:"RELATED_PAPERS"},errorTypes:{NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",SERVER_UNAVAILABLE:"SERVER_UNAVAILABLE",API_TIMEOUT:"API_TIMEOUT"},content:{HOME_QUERIES:[{q:"Dan Roth"},{q:"Deep Learning"},{q:"Penn Treebank"}]},readerView:{PANEL:"PANEL",SECTION:"SECTION"},data:{FILTER_DISPLAY_LIMIT:3},modalId:{CITE:"CITE",COLLABORATORS:"COLLABORATORS",EXCERPTS:"EXCERPTS",FEEDBACK:"FEEDBACK",FILTER:"FILTER",LOGIN:"LOGIN",PROBLEMS:"PROBLEMS",SORT:"SORT",SOURCES:"SOURCES",AUTHOR_CITATIONS:"AUTHOR_CITATIONS",INFLUENTIAL_PAPERS:"INFLUENTIAL_PAPERS",AUTHOR_RECOMMENDATIONS:"AUTHOR_RECOMMENDATIONS"},params:{CITATIONS_PAGE_SIZE:10,PAPER_META_MAX_AUTHORS:6}}},{}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={publicationListTypes:{ACCELERATING:"ACCELERATING",INFLUENTIAL:"INFLUENTIAL",RECENT:"RECENT"},publicationTrends:{COAUTHORS:"COAUTHORS",DATASETS:"DATASETS",KEYPHRASES:"KEYPHRASES",VENUES:"VENUES"},Tabs:{PUBLICATIONS:"PUBLICATIONS",INFLUENCE:"INFLUENCE"},TabularDataLayouts:{TABLE:"TABLE",BARCHART:"BARCHART"},CitationStatTypes:{ACCELERATION:"ACCELERATION",INFLUENTIAL:"INFLUENTIAL",TOTAL:"TOTAL",VELOCITY:"VELOCITY",HINDEX:"HINDEX",INFLUENCE_SCORE:"INFLUENCE_SCORE"}}},{}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={UNINITIALIZED:"UNINITIALIZED",LOADING:"LOADING",LOADED:"LOADED"}},{}],158:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={SMALL:"640",MEDIUM:"980",LARGE:"1080"}},{}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={DISABLE_HIGHLIGHTED_SOCIAL_PAPER:"NOSOCIALPAPER",DISABLE_RELATED_PAPERS:"DISABLERELATEDPAPERS",SHOW_AUTHOR_RECOMMENDATIONS:"AUTHORRECOMMENDATIONS"};r.isEnabled=function(e){return([""]||"").indexOf(e)!==-1},n["default"]=r},{}],160:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={AUTHOR:"author",VENUE:"venue",DATASET:"dataSet"}},{}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={NOT_FOUND:{TITLE:"Page Not Found - Semantic Scholar",DESC:"Sorry, we couldn't find anything at that url"},SERVER_ERROR:{TITLE:"Error - Semantic Scholar",DESC:"Sorry, an error occured and we weren't able to complete your request."}};Object.freeze(r),n["default"]=r},{}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={INFLUENCED:"influenced",INFLUENCED_BY:"influencedBy",all:function(){return[this.INFLUENCED,this.INFLUENCED_BY]}};Object.freeze(r),n["default"]=r},{}],163:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../content/content"),i=r(o),a=e("immutable"),s=r(a),u=s["default"].Record({id:null,label:null,fieldName:null,explanation:null}),l={PAPER_COUNT:new u({id:"papers",label:i["default"].getString("insights.metrics.paper-count.value"),fieldName:"paperCount"}),INFLUENTIAL_CITATIONS:new u({id:"influential-citations",label:i["default"].getString("insights.metrics.influential-citations.value"),fieldName:"influentialCitationCount",explanation:i["default"].getString("citations.influential.text")}),INFLUENTIAL_CITATIONS_PER_PAPER:new u({id:"influential-citations-per-paper",label:i["default"].getString("insights.metrics.influential-citations.per-paper"),fieldName:"influentialCitationsPerPaper",explanation:i["default"].getString("citations.influential.text")}),EST_TOTAL_CITATIONS:new u({id:"total-citations",label:i["default"].getString("insights.metrics.est-total-citations.value"),fieldName:"estTotalCitationCount"}),EST_TOTAL_CITATIONS_PER_PAPER:new u({id:"total-citations-per-paper",label:i["default"].getString("insights.metrics.est-total-citations.per-paper"),fieldName:"estTotalCitationsPerPaper"}),CITATION_VELOCITY:new u({id:"velocity",label:i["default"].getString("insights.metrics.citation-velocity.value"),fieldName:"citationVelocity",explanation:i["default"].getString("author.citationVelocity.explanation")}),CITATION_VELOCITY_PER_PAPER:new u({id:"velocity-per-paper",label:i["default"].getString("insights.metrics.citation-velocity.per-paper"),fieldName:"citationVelocityPerPaper"}),all:function(){return s["default"].List.of(this.PAPER_COUNT,this.INFLUENTIAL_CITATIONS,this.INFLUENTIAL_CITATIONS_PER_PAPER,this.EST_TOTAL_CITATIONS,this.EST_TOTAL_CITATIONS_PER_PAPER,this.CITATION_VELOCITY,this.CITATION_VELOCITY_PER_PAPER)},filtered:function(){return s["default"].List.of(this.INFLUENTIAL_CITATIONS,this.CITATION_VELOCITY,this.PAPER_COUNT)},withoutPerPaper:function(){return this.filtered().filter(function(e){switch(e){case l.INFLUENTIAL_CITATIONS_PER_PAPER:case l.EST_TOTAL_CITATIONS_PER_PAPER:case l.CITATION_VELOCITY_PER_PAPER:case l.PAPER_COUNT:return!1;default:return!0}})},fromId:function(e){return this.all().find(function(t){return t.id===e})},defaultSort:function(){return this.INFLUENTIAL_CITATIONS}};Object.freeze(l),n["default"]=l},{"../content/content":176,immutable:275}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={action:{AUTHOR_INFLUENCE_SCORE_HOVER:"AUTHOR_INFLUENCE_SCORE_HOVER",AUTHOR_STAT_CLICK:"AUTHOR_STAT_CLICK",AUTHOR_STAT_HOVER:"AUTHOR_STAT_HOVER",CITING_HISTOGRAM_CLICK:"CITING_HISTOGRAM_CLICK",CITING_HISTOGRAM_HOVER:"CITING_HISTOGRAM_HOVER",CHANGE_SORT:"CHANGE_SORT",VIEW_PDF:"VIEW_PDF",VIEW_EXTERNAL_PDF:"VIEW_EXTERNAL_PDF",SEARCH_FILTER_CLICK:"SEARCH_FILTER_CLICK",SEARCH_PAGINATION_CLICK:"SEARCH_PAGINATION_CLICK",RESULT_CLICK:"RESULT_CLICK",HIGHLIGHTED_PAPER_IMPRESSION:"HIGHLIGHTED_PAPER_IMPRESSION",HIGHLIGHTED_PAPER_CLICK:"HIGHLIGHTED_PAPER_CLICK",POOR_METADATA_WARNING:"POOR_METADATA_WARNING",CITATIONS:"CITATIONS",SHOW_RELATED_PAPERS:"SHOW_RELATED_PAPERS",SHOW_CREATE_ALERTS_MODAL:"SHOW_CREATE_ALERTS_MODAL",RESULT_STAT_HOVER:"Stat hover",INTERACTIVE_EVENT:"INTERACTIVE_EVENT",NON_INTERACTIVE_EVENT:"NON_INTERACTIVE_EVENT"},category:{AUTHOR:"Author",CITING_HISTOGRAM:"Citing Histogram",PAGINATION:"Pagination",SEARCH_RESULTS:"Search Results",SHARE:"Share",VIEW_PDF:"View PDF",VIEW_EXTERNAL_PDF:"View External PDF",SOCIAL:"Social",POOR_METADATA_WARNING:"Poor Metadata Warning",CITATIONS:"Citations",RELATED_PAPERS:"Related papers",PAPER_DETAIL:"Paper Detail",RECOMMENDED_PAPERS:"Recommended papers"},type:{CLICK:"click",HOVER:"hover",SHOW:"show",HIDE:"hide",SEARCH:"search",SORT:"sort",PAGINATION:"pagination",SCROLL:"scroll",ADD:"add",REMOVE:"remove",DISABLE_FILTER:"disable filter",ENABLE_FILTER:"enable filter",EXCERPTS:"show excerpts"}}},{}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",TOWARD:"TOWARD",AWAY:"AWAY",influencePathDirection:function(){return[this.TOWARD,this.AWAY]},responsiveLayoutOptions:function(){return[this.HORIZONTAL,this.VERTICAL]}};Object.freeze(r),n["default"]=r},{}],166:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={DEFAULT_SHARE_IMAGE:{uri:"https://www.semanticscholar.org/img/semantic_scholar_og.jpg",width:1110,height:582}}},{}],167:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={UNINITIALIZED:"UNINITIALIZED",LOADING_PAPER_DETAILS:"LOADING_PAPER_DETAILS",LOADED:"LOADED"}},{}],168:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={AUTHORED_BY_CITED_AUTHOR:"authored-by-cited-author",AUTHORED_BY_COAUTHOR:"authored-by-coauthor",AUTHORED_TOPICS:"authored-topics",CITED_BY_CITED_AUTHOR:"cited-by-cited-author",CITED_BY_COAUTHOR:"cited-by-coauthor",CITED_BY_SIMILAR:"cited-by-similar-authors",CITED_TOPICS:"cited-topics",CITES_USER:"cites-user"};Object.freeze(r),n["default"]=r},{}],169:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../models/Enum"),i=r(o),a=e("immutable"),s=r(a),u={TWITTER:new i["default"]({id:"twitter",name:"Twitter"}),GOOGLE_PLUS:new i["default"]({id:"gplus",name:"Google+"}),REDDIT:new i["default"]({id:"reddit",name:"Reddit"}),FACEBOOK:new i["default"]({id:"facebook",name:"Facebook"}),EMAIL:new i["default"]({id:"email",name:"Email"}),shareOptions:function(){return s["default"].List.of(this.EMAIL,this.TWITTER,this.FACEBOOK,this.REDDIT,this.GOOGLE_PLUS)}};Object.freeze(u),n["default"]=u},{"../models/Enum":184,immutable:275}],170:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={ASC:"asc",DESC:"desc"};Object.freeze(r),n["default"]=r},{}],171:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../models/Stat"),i=r(o),a=e("immutable"),s=r(a),u={CITATION_VELOCITY:new i["default"]({id:"velocity",icon:"chart"}),CITATION_ACCELERATION:new i["default"]({id:"acceleration",icon:"trending-up"}),CITATIONS:new i["default"]({id:"citations",icon:"cited-by"}),paperDetailStats:function(){return s["default"].List.of(this.CITATIONS,this.CITATION_VELOCITY,this.CITATION_ACCELERATION)}};Object.freeze(u),n["default"]=u},{"../models/Stat":188,immutable:275}],172:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={InteractionTypes:{HOVER:"HOVER",CLICK:"CLICK"},InteractionTiming:{TOOLTIP_HIDE_DELAY:250,TOOLTIP_SHOW_DELAY:100}}},{}],173:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={BIBTEX:"BibTex",ENDNOTE:"EndNote",MLA:"MLA",APA:"APA",CHICAGO:"Chicago"}},{}],174:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={INITIALIZED:"INITIALIZED",LOADING:"LOADING",FILTERING:"FILTERING",LOADED:"LOADED"}},{}],175:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../models/Sort"),i=r(o),a=e("immutable"),s=r(a);n["default"]={RECENCY:new i["default"]({id:"year",icon:"flag"}),RELEVANCE:new i["default"]({id:"relevance"}),CITATION_VELOCITY:new i["default"]({id:"velocity",icon:"chart"}),CITATION_ACCELERATION:new i["default"]({id:"acceleration",icon:"trending-up"}),INFLUENTIAL_CITATIONS:new i["default"]({id:"influence",icon:"theorems"}),TOTAL_CITATIONS:new i["default"]({id:"total-citations",icon:"cited-by"}),IS_INFLUENTIAL_CITATION:new i["default"]({id:"is-influential",icon:"theorems"}),authorPaperSearch:function(){return s["default"].List.of(this.INFLUENTIAL_CITATIONS,this.TOTAL_CITATIONS,this.CITATION_ACCELERATION,this.CITATION_VELOCITY,this.RECENCY)},paperSearch:function(){return s["default"].List.of(this.RELEVANCE,this.RECENCY)},citations:function(){return s["default"].List.of(this.IS_INFLUENTIAL_CITATION,this.RECENCY)}}},{"../models/Sort":187,immutable:275}],176:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return new f["default"].List(e.map(function(e){return Array.isArray(e)?o(e):"object"===("undefined"==typeof e?"undefined":s(e))?i(e):e}))}function i(e){return new f["default"].Map(Object.getOwnPropertyNames(e).map(function(t){return Array.isArray(e[t])?[t,o(e[t])]:"object"===s(e[t])?[t,i(e[t])]:[t,e[t]]}))}function a(e){return e.split(".")}Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=e("./i18n/en-us/"),l=r(u),c=e("immutable"),f=r(c),p=/\$(\d)/g,d={load:function(e){if("object"!==("undefined"==typeof e?"undefined":s(e))||Array.isArray(e))throw new Error("Invalid content dictionary.");return this.dict=i(e),this},getString:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!this.dict)throw new Error("No content dictionary to retrieve values from.");var o=a(e).reduce(function(e,t){return e?e.get(t):void 0},this.dict);return o&&n.length>0?o.replace(p,function(e,t){var r=n[t-1];return r||e}):o},getValuesAsArray:function(e){if(!this.dict)throw new Error("No content dictionary to retrieve values from.");var t=a(e).reduce(function(e,t){return e?e.get(t):void 0},this.dict);return t}};d.load(l["default"]),n["default"]=d},{"./i18n/en-us/":177,immutable:275}],177:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={general:{time:"time",year:"year",citation:"citation",quantity:{lessThan:"less than"},backTo:{serp:"Back to results for <em>$1</em>",authorProfile:"Back to <em>$1</em> profile",general:"Back to the previous page.",home:"Semantic Scholar Home"},"paper-actions":{more:"More...",less:"Less"}},metaDescription:{paperFallback:{content:'Semantic Scholar extracted view of "$1" by $2'},paperFigure:{content:'$1 - "$2"'},authorHomePage:{content:"Semantic Scholar profile for $1, with $2 highly influential citations, $3 est. total citations, and a citation velocity of $4."},faqPage:{content:"Answers to commonly asked questions about Semantic Scholar search engine."},crawlerPage:{content:"Information about the Semantic Scholar web crawler."},termsOfService:{content:"Semantic Scholar terms of service."},insightsAuthorsPage:{content:"See the most influential authors in Computer Science according to Semantic Scholar's state of the art metrics."},insightsPapersPage:{content:"See the most influential papers in Computer Science according to Semantic Scholar's state of the art metrics."},insightsUniversitiesPage:{content:"See the most influential universities in Computer Science according to Semantic Scholar's state of the art metrics."},general:{content:"An academic search engine that utilizes artificial intelligence methods to provide highly relevant results and novel tools to filter them with ease."}},button:{"view-author-profile":"View Author Profile"},"info-box":{author:{"filter-label":"Only show publications by this author."}},error:{"pdf-not-available":{text:"The PDF for this paper is not currently available."}},citations:{average:'<p>Averaging <strong>$1</strong> per year over the last $2.</p>  Learn more about how we calculate this metric in our <strong><a href="/faq#citation-velocity">FAQ</a></strong>.',influential:{label:"Highly Influential Citation","mobile-label":"highly influential citation",text:'<p>Semantic Scholar identifies citations where the cited publication has a significant impact on the citing publication, making it easier to understand how publications build upon and relate to each other.</p><p>Learn more about how we identify influential citations <strong><a href="/faq#influential-citations">here</a></strong>.</p>'},lastYear:"Cited $1 in the last $2.",velocity:{"stat-name":"Citation Velocity",label:"Citation Velocity: $1","alt-label":"avg. citations / year","mobile-label":"Citation Velocity","no-citations-text":"Semantic Scholar couldn’t find enough citations within the calculation window to display a chart."},acceleration:{label:"Citation Acceleration: $1","mobile-label":"Citation Acceleration",text:'<p>This publication has seen a change of <strong>$1</strong> in citations over the last two years.</p> Learn more about how we calculate this metric in our <strong><a href="/faq#citation-acceleration">FAQ</a></strong>.',"no-citations-text":"Semantic Scholar couldn’t find enough citations within the last two years to display a chart."},estimatedTotal:{label:"Citations",text:'Semantic Scholar estimates that this $1 has received between $2 and $3 citations based on the available data.<p>See our <strong><a href="/faq#estimated-citations">FAQ</a></strong> for additional information.</p>',insufficientData:"Semantic Scholar was not able to find enough data to provide a more specific estimate."},estimatedTotalByYear:{label:"Citations per Year",text:"Between $1 and $2 citations $3 $4."},estimateFootnote:{text:"*  Automatically estimated by Semantic Scholar based on the available data."},empty:{text:"Sorry, there's nothing here."},emptyAcm:{text:"Unfortunately, ACM prohibits us from displaying non-influential references for this paper.",linkLabel:"To see the full reference list, please visit "},"empty-stats":{text:"Sorry, we don't have enough data to show statistics for this paper."},"few-citations":{text:"Fewer than 50 Citations"},"no-recent-citations":{text:"Not enough recent citations"},list:{title:{citingPapers:"Citations",citedPapers:"References"},label:{citingPapers:"extracted citation",citedPapers:"reference"},tooltip:"<p>Our software extracted $1 citations from within our corpus, but we estimate that this publication has been cited $2 times in total.</p> <p>We estimate citations based on a statistical model to account for citations outside of our corpus. Our estimate has a 90% confidence interval relative to Google Scholar.</p>"}},classifications:{overview:"This publication is an <strong>overview</strong> because it provides a high-level explanation or survey of the associated field or topic."},sort:{influence:{title:"Highly Influential Citations",label:"Highly Influential Citations",description:'Display publications with more influential citations first. Semantic Scholar identifies citations where the cited publication has a significant impact on the citing publication, making it easier to understand how publications build upon and relate to each other. Learn more about our approach <strong><a href="/paper/Identifying-Meaningful-Citations-Valenzuela-Ha/d5641d684df3a9e7c357923d109421fe4304ffa8">here</a></strong>.'},"total-citations":{title:"Citations",label:"Citations",description:'Display publications with more estimated citations first. Semantic Scholar estimates the total number of citations based on a machine-learned model. Learn more in our <strong><a href="/faq#estimated-citations">FAQ.</a></strong>'},acceleration:{title:"Citation Acceleration",label:"Acceleration",description:"Display publications with a higher citation acceleration first. Citation acceleration measures the change in a publication’s citation rate, computed over the last two full years."},velocity:{title:"Citation Velocity",label:"Velocity",description:"Display publications with a higher citation velocity first.  Citation velocity measures the average number of citations for a publication over the last three years (or fewer for publications published in the last year or two)."},year:{title:"Recency",label:"Recency",description:"Sort publications based upon the year they were published, showing recently published publications first."},relevance:{title:"Relevance",label:"Relevance"},"is-influential":{title:"Influence",label:"Influence"}},author:{headers:{highlighted:"Highlighted Publications",allPubs:"All Publications",coAuthors:"Top Coauthors by Year",influence:"Influence"},mobileTabs:{details:"Details",influence:"Influence",papers:"Publications"},influential:{label:"Highly Influential Citation",pluralLabel:"Highly Influential Citations",explanation:"Semantic Scholar identifies citations where the cited publication has a significant impact on the citing publication, making it easier to understand how publications build upon and relate to each other.",explanationExtra:'For more information, please <strong><a href="/faq#influential-citations">visit our FAQ</a></strong>.'},hIndex:{label:"H-index",explanation:"The h-index is based on a researcher’s total number of publications and the citations for those publications."},total:{label:"Citation",pluralLabel:" Citations",explanation:"Our system estimates that this author has been cited between <strong>$1 and $2</strong> times over the course of their career.",explanationExtra:'For more information about estimated citations, please <strong><a href="/faq#estimated-citations">visit our FAQ</a></strong>.'},citationVelocity:{label:"Citation Velocity",explanation:'<p>Average citations per year over the last three years.</p><a href="/faq#citation-velocity">Learn more about Citation Velocity</a>.'},citationAcceleration:{label:"Citation Acceleration",explanation:"Change in citation rate over the last two years."},influenceScore:{label:"Influence Score",explanation:'<a href="/faq#influence-score">(Learn more)</a>'},influenceGraph:{notEnoughData:"Sorry, we do not have enough data to show an influence graph for this author.",influencedTitle:"Authors most influenced by $1:",influencedByTitle:"Authors who most influenced $1:",influencingPapers:"Most influential publications",influencedPapers:"Most influenced publications"},mobileText:{searchButton:"See publications by this author",underConstruction:"We’re hard at work designing a better mobile experience for our author pages. In the meantime, please try visiting this page on a larger device."},"empty-stats":{message:"We don’t have enough information about this author to calculate their statistics.",error:"If you think this is an error ",action:"let us know."},"no-home-page":{text:"Sorry, we do not have a profile for this author."},"recommended-papers":{title:"Publications related to $1:","no-papers":"Sorry, there are no recommendations for this author.","loading-papers":"Loading recommendations...",explanation:{"authored-by-cited-author":"$1 cited $2.","authored-by-coauthor":"$1 is coauthors with $2.","authored-topics":"$1 authored $2 about $3.","cited-by-cited-author":"Cited by $1, who $2 also cited.","cited-by-coauthor":"Cited by $1 $2.","cited-by-similar-authors":"Cited in $1 by similar authors.","cited-topics":"$1 cited $2 about $3.","cites-user":"Cites $1 by $2."}}},modal:{problems:{submitButton:"Submit",text:"Please describe any inaccuracies, formatting issues or other problems present on the page.",title:"Help us improve our author profile pages:"}},serp:{result:{social:{explanation:"Our crawler searches Twitter for tweets which mention academic publications. These tweets provide a valuable signal for identifying fresh, trending publications.",count:"Mentioned in $1:",label:"tweet",badge:"Trending"}}},paperDetail:{"reference-badge":"Highly Influential","citation-badge":"Highly Influenced","not-in-corpus":"Sorry, this paper is not in our corpus.","nav-sections":[{id:"paperDetail",name:"Abstract & Details",icon:"doc"},{id:"figures",name:"Figures",icon:"icon-figures"},{id:"citedPapers",name:"References",icon:"reference"},{id:"citingPapers",name:"Citations",icon:"cited-by"},{id:"statistics",name:"Statistics",icon:"chart"},{id:"relatedPapers",name:"Related Publications",icon:"related-papers"}],"section-titles":{figures:{singular:"Figure or Table",plural:"Figures and Tables"}},stats:{citations:{id:"citations",display:"Citations"},velocity:{id:"velocity",display:"Citation Velocity"},acceleration:{id:"acceleration",display:"Citation Acceleration"}},figure:{"page-title":"$1 from $2 - Semantic Scholar","fallback-page-title":"Figure - Semantic Scholar"},"related-papers":{title:"Publications related to:","generic-title":"Related Publications","no-papers":"Sorry, we did not find any related publications.",loading:"Loading related papers…"},"action-text":{view:"View PDF",external:"External Link",acm:"View on ACM",slides:"View Slides",cite:"Cite"},"no-pdf":{acm:"This paper is published by ACM and requires payment for access.","no-link":{first:"Unfortunately we weren’t able to find a PDF associated with this paper.",second:"Check back later as we may track down the missing PDF.",third:"if you know the relevant URL."},contact:"Contact us"},mobile:{"side-menu":{actions:{label:"ACTIONS"},share:{label:"SHARE"}}}},faq:{title:"Frequently Asked Questions",mobileTitle:"FAQ",sections:[{id:"general",icon:"faq",name:"General",questions:[{id:"new-domains",question:"When will you expand beyond computer science articles?",answer:"We are looking to expand into more technical domains in the coming years. If there is a specific academic corpus you would like to see on Semantic Scholar, please {feedbackLink,tell us}."},{id:"languages",question:"Does Semantic Scholar include publications in other languages than English?",answer:"We currently only support publications published in English, but we are open to considering other languages. If there’s a specific language you would like us to support, please {feedbackLink,tell us}."},{id:"advantages-of-semantic-scholar",question:"What’s the advantage of using Semantic Scholar instead of Google Scholar, PubMed or other academic searches?",answer:"Semantic Scholar helps researchers find better academic publications faster. Our engine analyzes publications and extracts important features using machine learning techniques. The resulting influential citations, images and key phrases allow our engine to “cut through the clutter” and give you results that are more relevant and impactful to your work."},{id:"mobile",question:"Will Semantic Scholar be available as a mobile application?",answer:"We currently do not have a smartphone app, but SemanticScholar.org is designed to be easily accessed on both desktop and mobile devices. Please {feedbackLink,tell us} if you have any issues accessing the website."},{id:"submit-feedback",question:"How do I send feedback regarding my Semantic Scholar experience?",answer:'Click the question mark in the top right of the page.  You should now see a menu with an option to "Send Feedback."  Click this option and submit the resulting form to send your feedback our way.  We read every single piece of feedback we receive.'},{id:"open-data",question:"Does Semantic Scholar share its data for research?",answer:"Semantic Scholar is committed to supporting high-impact research and engineering by providing universities and organizations access to our data. Please {feedbackLink,contact us} to ask about how we can provide your team with data to support your research."}]},{id:"content",icon:"details",name:"Content",questions:[{id:"index-size",question:"How many articles does Semantic Scholar currently index?",answer:"We have millions of articles in our index and continually add more. We use a variety of carefully tuned mechanisms to make sure we only index high-quality publications.<br><br>If a valuable publication appears to be missing from our index or a result seems to be low-quality or irrelevant, please {feedbackLink,tell us}."},{id:"content-types",question:"What types of content do you include in Semantic Scholar?",answer:"Our current corpus is limited to research publications related to Computer Science. We plan to expand to new academic domains this year. To receive email updates about improvements to Semantic Scholar, sign up to receive our newsletter."},{id:"paywall-articles",question:"Do you provide articles that are behind paywalls?",answer:"We have some articles that are only available behind paywalls, but the data we have for those articles is limited. We plan to expand our coverage and quality of paywalled content in the future. If you are a publisher that would like to see your content in Semantic Scholar, please {feedbackLink,contact us}."},{id:"overview",question:"What is an overview and how do you determine that a publication is an overview?",answer:"Overviews are publications that provide a survey or high-level explanation of a field or topic. Our system utilizes a series of heuristics to determine if a publication is classified as an overview by analyzing the document’s content and wording. If you have a correction or an addition for overviews, please {feedbackLink,contact us}."},{id:"estimated-citations",question:"How does Semantic Scholar estimate citation counts?",answer:"Semantic Scholar estimates the number of citations for each publication based on the data in its corpus of several million publications.  At times, our corpus omits obscure publications, publications from outside of Computer Science, etc.  As a result, the number of citations per publication (and per author) shown is based on a statistical model that computes a range for the “true” number of citations.  On a large sample, we have found that the Google Scholar citation counts are inside that range over 90% of the time.  Thus, the range forms a 90% confidence interval relative to Google Scholar.  We note that the Google Scholar counts are not always accurate themselves due to author disambiguation errors, collecting documents are not bona fide publications, etc."},{id:"influential-citations",question:"What are Highly Influential Citations?",answer:"Semantic Scholar identifies citations where the cited publication has a significant impact on the citing publication, making it easier to understand how publications build upon and relate to each other. Influential citations are determined utilizing a machine-learned model analyzing a number of factors including the number of citations to a publication, and the surrounding context for each citation.  You can read more about our approach in {paperDetailLink,Identifying-Meaningful-Citations-Valenzuela-Ha|d5641d684df3a9e7c357923d109421fe4304ffa8|“Identifying Meaningful Citations”}."},{id:"influence-score",question:"What is the Author Influence Score?",answer:"The influence score measures the impact of one author’s publications on another author’s work. The number is relative to the author whose profile is currently being viewed. The score is based on a weighted combination of citations and Highly Influential Citations."},{id:"citation-velocity",question:"What is Citation Velocity?",answer:"Citation Velocity is a weighted average of the publication’s citations for the last 3 years (or fewer for publications published in the last year or two), indicating how popular and lasting the publication is. This calculation is based off of estimated citation counts derived by Semantic Scholar. You can read more about this {faqLink,estimated-citations}."},{id:"citation-acceleration",question:"What is Citation Acceleration?",answer:"Citation acceleration measures the change in a publication’s citation velocity over time, indicating whether the number of citations for a publication is increasing or decreasing. We divide the change in citation velocity over the last two years to calculate citation acceleration. You can read more about this {faqLink,estimated-citations}."},{id:"ranking-function",question:"What’s your ranking function?",answer:"We use a relevance function for ranking that takes into account many different aspects of the query and the publication details to provide the most relevant results. You can sort your search results by selecting between the “relevancy” and “recency” options in the dropdown menu in the upper-right on the search results page."},{id:"extract-key-phrases",question:"How do you extract key phrases for publications?",answer:"We use machine language techniques to analyze publications and extract phrases that balance diversity, relevance and coverage relative to our corpus."},{id:"public-api",question:"Is there a publicly accessible API for executing Semantic Scholar queries?",answer:"There is no API for executing Semantic Scholar queries at this time. If you are interested in such a service, please {feedbackLink,contact us}."},{id:"cite",question:"How do I cite publications that I find on Semantic Scholar?",answer:"Click the ”Cite” button under the title and authors listed on the search result. A pop-up will offer you the option of a citation in BibTex, EndNote, MLA, APA or Chicago format.  If there’s a citation format you’d like that we don’t offer, please {feedbackLink,tell us}."}]},{id:"searching",icon:"search",
name:"Search",questions:[{id:"add-publications-to-reading-list",question:"How do I add publications to my reading list?",answer:"Click the “Save” button underneath the title and authors listed for each article to add publications to your reading list.  This allows you to visit the site later and read the publication when you are signed into Semantic Scholar."},{id:"remove-item-from-reading-list",question:"How do I remove articles from my reading list?",answer:"There are two ways to remove articles from your reading list:<ol><li>On the article’s page, click the “Remove” button underneath the title and authors of each article.</li><li>In your Reading List, click the “X” button next to the title to remove it from the list.</li></ol>"},{id:"reading-list-persistence",question:"Will articles stay in my reading list, even when I sign out of Semantic Scholar?",answer:"Yes. Articles will remain in your list until you remove them."},{id:"lost-reading-list",question:"My reading list articles seem to have disappeared.  What happened and how do I fix it?",answer:"Semantic Scholar allows you to login and create reading lists with three authentication providers: Google, Facebook and Twitter. We currently do not merge different authentication providers into a single account. Therefore, if you originally created a reading list while logged in with one authentication provider (i.e. Google), you may not see your reading list when you log in with a different authentication provider (i.e., Facebook or Twitter).<br><br>To fix this, sign in to Semantic Scholar with the same authentication provider each time.<br><br>If you still cannot see your reading list, please {feedbackLink,let us know} and we’ll address the problem."},{id:"export",question:"Can I export my reading list?",answer:"No. Your reading list is currently not exportable or sharable. If this is a feature you want to have on Semantic Scholar, please {feedbackLink,tell us}."},{id:"alerts",question:"Do you deliver alerts when an article is added that meets my search criteria?",answer:"No. We currently don’t offer alerts, but if you are interested in this feature, please {feedbackLink,let us know}."},{id:"find-it-on-gs",question:"Why do you have a “Find it on Google Scholar” function on the search results page?",answer:"We believe our results are better than what you will find on Google Scholar. We want to make it as easy as possible for our customers to search and compare our results. If you notice an issue for a particular query where you think Google Scholar provides better results, please {feedbackLink,let us know}."},{id:"my-publications",question:"Can I see all of the publications you have that I’ve published?",answer:"Yes. To find your publications, search for your name on Semantic Scholar and the results will include a list of articles associated with your name. If you have a name that is shared by another author, we do make attempts to disambiguate your work.  If you see a mistake in our disambiguation, please {feedbackLink,tell us}."},{id:"logical-operators",question:'Do you support any logical operations when entering a query (e.g., “AND”, “OR”, and “AND NOT")?',answer:"Our goal is to return the correct results for you using the simplest tools available, and we currently do not support any logical operators in our query language. If you cannot find what you are looking for without using an operator, please {feedbackLink,tell us}."},{id:"case-sensitivity",question:"Do search terms and names need to be capitalized?",answer:"No. Our search engine is not case sensitive."},{id:"abbreviations",question:"Does Semantic Scholar recognize abbreviations and acronyms? (i.e., KDD versus knowledge discovery and data mining)",answer:"We do some query expansion for author names, but otherwise we do not expand abbreviations and acronyms. For accurate results, please provide full keywords."}]},{id:"corrections",icon:"pencil",name:"Corrections",questions:[{id:"how-to-add-paper",question:"How do I add my publications to Semantic Scholar?",answer:"If you are an author that would like to see your content in Semantic Scholar, please {feedbackLink,tell us}."},{id:"incorrect-citation-count",question:"My citation counts appear incorrect. How can I report this error and how can it be resolved?",answer:"Our citation count is weighted towards relevant articles in the index. If you are an author that would like to see more of your content in Semantic Scholar, {feedbackLink,tell us}."},{id:"correct-error",question:"I’ve noticed an error in the metadata provided for my articles. How do I correct it?",answer:"If you see a problem with our publication metadata, please {feedbackLink,tell us} and we’ll work to fix the problem."}]}]},insights:{title:"Semantic Scholar Insights",placeholder:"The Semantic Insights data is no longer available. We are gathering more data and refining our calculations.","return-home":"Return home",tagline:"See the most influential authors, universities and publications in Computer Science:",metrics:{"influential-citations":{value:"Highly Influential Citations","per-paper":"Highly Influential Citations per Publication"},"est-total-citations":{value:"Citations","per-paper":"Citations per Publication"},"citation-velocity":{value:"Citation Velocity","per-paper":"Citation Velocity per Publication"},"paper-count":{value:"Publications"}},share:{title:"The most influential authors, universities and papers according to Semantic Scholar statistics: ",message:"I thought you’d find this interesting — the most influential authors, universities and papers according to Semantic Scholar statistics: "},authors:{title:"Authors",label:"Author","page-title":"Top Authors"},universities:{title:"Universities",label:"University","page-title":"Top Universities"},papers:{title:"Papers",label:"Paper","page-title":"Top Papers"},empty:"No data to display","show-more":"Show More","show-less":"Show Less"},home:{share:{title:"Discover key publications, citations and results using Semantic Scholar:"},whyS2:{"advanced-filters":"Advanced Filters","advanced-filters-description":"Use our state of the art facets to home in on the specific publications you're looking for.","easy-exploration":"Easy Exploration","easy-exploration-description":"Our system identifies influential citations and references, making it easy to discover important publications.","semantic-understanding":"Semantic Understanding","semantic-understanding-description":"Our system extracts key paper elements like references, citations, key phrases and figures to help you scan a paper much faster.",convenience:"Convenience","convenience-description":"Our customized experience makes searching for and reading publications faster and easier, even on your phone."}}}},{}],178:[function(e,t,n){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function o(){var n=arguments.length<=0||void 0===arguments[0]?{isMobile:!1}:arguments[0];t(this,o),this.isMobile=n.isMobile,this.hostname=e.env.HOSTNAME||"local.s2.allenai.org"};n["default"]=r}).call(this,e("_process"))},{_process:281}],179:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){switch(e){case"author":return"Author";case"dataSet":return"Data set";case"venue":return"Venue"}}function a(e){switch(e){case"author":return"Author:";case"coAuthor":return"Co-author:";case"keyPhrase":return"Key Phrase:";case"dataSet":return"Data Set Used:";case"venue":return"Publication Venue"}}function s(e,t){switch(e){case"author":return"Only show publications authored by "+t+".";case"dataSet":return"Only show publications using the "+t+" data set.";case"venue":return"Only show publications published in "+t+"."}}function u(e){switch(e){case"citingPapers":return"Citations";case"citedPapers":return"References"}}function l(e){switch(e){case"citingPapers":return"Highly Influenced";case"citedPapers":return"Highly Influential"}}function c(e,t){switch(e){case E["default"].CitationStatTypes.INFLUENTIAL:return 1===t?I["default"].getString("author.influential.label"):I["default"].getString("author.influential.pluralLabel");case E["default"].CitationStatTypes.HINDEX:return I["default"].getString("author.hIndex.label");case E["default"].CitationStatTypes.TOTAL:return 1===t?I["default"].getString("author.total.label"):I["default"].getString("author.total.pluralLabel");case E["default"].CitationStatTypes.VELOCITY:return I["default"].getString("author.citationVelocity.label")}}function f(e,t,n){switch(e){case E["default"].CitationStatTypes.INFLUENTIAL:return I["default"].getString("author.influential.explanation");case E["default"].CitationStatTypes.HINDEX:return I["default"].getString("author.hIndex.explanation");case E["default"].CitationStatTypes.TOTAL:return I["default"].getString("author.total.explanation",t,n);case E["default"].CitationStatTypes.VELOCITY:return I["default"].getString("author.citationVelocity.explanation")}}function p(e){switch(e){case E["default"].CitationStatTypes.INFLUENTIAL:return I["default"].getString("author.influential.explanationExtra");default:return null}}function d(e){switch(e){case"COAUTHORS":return"Co-authors";case"DATASETS":return"Data set used";case"KEYPHRASES":return"Key phrases";case"VENUES":return"Publication venues"}}function h(e){switch(e){case"INFLUENTIAL":return"Influential";case"RECENT":return"Recent";case"ACCELERATING":return"Accelerating"}}function y(e){return e.value>=O["default"].MIN_THRESHOLD?A.format(Math.round(e.value)):I["default"].getString("general.quantity.lessThan")+" 1"}function m(e){return y(e.estimate)}function v(e){var t=e>0?"+":"";return""+t+A.format(Math.round(100*e))+"%"}function g(e,t){var n=t?"< ":"fewer than";return e>k["default"].MIN_DISPLAY_VALUE?A.format(Math.round(e)):n+" "+k["default"].MIN_DISPLAY_VALUE}function b(e){return I["default"].getString("citations.velocity.label")+": "+y(e)}function _(e){return I["default"].getString("citations.acceleration.label")+": "+v(e)}function w(e){return"s"===e.substr(e.length-1)?e+"’":e+"’s"}function S(e){switch(e){case E["default"].CitationStatTypes.INFLUENCE_SCORE:var t=I["default"].getString("author.influenceScore.label");return'<a href="/faq#influence-score">'+t+"</a>"}}function T(e,t){return I["default"].getString("paperDetail.figure.page-title",x(t.displayName,"Figure"),e)}function x(e,t){return"string"==typeof e?e.substr(0,1).toUpperCase()+e.substr(1):t}Object.defineProperty(n,"__esModule",{value:!0}),n.filterTypeDisplayName=i,n.filterTypeDisplayTitle=a,n.filterTypeCheckboxLabel=s,n.citationTypeDisplayName=u,n.influentialCitationDisplayName=l,n.authorStatDisplayName=c,n.authorStatExplanation=f,n.authorStatExplanationExtra=p,n.currentChartDisplayName=d,n.listTypeDisplayName=h,n.citationVelocityValue=y,n.estCitationVelocityValue=m,n.citationAccelerationValue=v,n.estCitationsValue=g,n.citationVelocity=b,n.citationAcceleration=_,n.possessiveSuffix=w,n.influenceTooltipStatLabel=S,n.figureDetailPageTitle=T,n.capitalizeFirst=x;var P=e("./constants/Author"),E=o(P),C=e("./models/citation-stats/EstCitationVelocity"),O=o(C),R=e("./models/citation-stats/EstTotalCitations"),k=o(R),j=e("./content/content"),I=o(j),M=e("./util"),A=r(M)},{"./constants/Author":156,"./content/content":176,"./models/citation-stats/EstCitationVelocity":192,"./models/citation-stats/EstTotalCitations":193,"./util":221}],180:[function(e,t,n){"use strict";function r(e){return Math.round(((new Date).getTime()-e)/1e3)}function o(e){ga("send",{hitType:"event",eventCategory:"Example Queries",eventAction:"search",eventLabel:e})}function i(e){ga("send",{hitType:"event",eventCategory:"Search Box",eventAction:"search",eventLabel:e})}function a(e,t){ga("send",{hitType:"event",eventCategory:"Filter - "+e,eventAction:"show",eventValue:t,nonInteraction:!0})}function s(e,t,n,r){var o=n===!0?"disable filter":"enable filter",i={hitType:"event",eventCategory:"Filter - "+e,eventAction:o,eventLabel:t};void 0!==r&&(i[pe.INDEX]=(r+1).toString()),ga("send",i)}function u(e,t){ga("send",{hitType:"event",eventCategory:"Filter - "+e,eventAction:t?"show fewer filters":"show more filters"})}function l(e,t){ga("send",{hitType:"event",eventCategory:"Query Entity Info Box - "+e,eventAction:"show",eventLabel:t,nonInteraction:!0})}function c(e,t,n){ga("send",{hitType:"event",eventCategory:"Query Entity Info Box - "+e,eventAction:n?"disable filter":"enable filter",eventLabel:t})}function f(e,t,n){ga("send",{hitType:"event",eventCategory:"Query Entity Info Box - "+e,eventAction:n?"hide details":"show details",eventLabel:t})}function p(e,t){ga("send",{hitType:"event",eventCategory:"Filter - years",eventAction:"set year range",eventLabel:e+" - "+t})}function d(e){ga("send",{hitType:"event",eventCategory:"Paper Detail Author",eventAction:"click",eventLabel:e})}function h(e,t,n,r,o,i){var a={hitType:"event",eventCategory:"Citation Click",eventAction:"click"};i&&(a[pe.CLICK_LOCATION]=i),a[pe.PAPER_ID]=r,a[pe.INDEX]=(n+1).toString(),a[pe.KEY_CITATION]=o.toString(),a[pe.CITATION_TYPE]=e,ga("send",a)}function y(e,t){var n={hitType:"event",eventCategory:"Citing Histogram",eventAction:"click",eventLabel:e};"number"==typeof t&&(n[pe.INDEX]=(t+1).toString()),ga("send",n)}function m(e,t){var n={hitType:"event",eventCategory:"Citing Histogram",eventAction:"hover",eventLabel:e,nonInteraction:!0};"number"==typeof t&&(n[pe.INDEX]=(t+1).toString()),ga("send",n)}function v(e,t){var n={hitType:"event",eventCategory:"View PDF",eventAction:"click",eventLabel:e};"number"==typeof t&&(n[pe.INDEX]=(t+1).toString()),ga("send",n)}function g(e,t){var n={hitType:"event",eventCategory:"View External PDF",eventAction:"click",eventLabel:e,nonInteraction:!0};"number"==typeof t&&(n[pe.INDEX]=(t+1).toString()),ga("send",n)}function b(e){ga("send",{hitType:"event",eventCategory:"Autocomplete",eventAction:"show",eventLabel:e,nonInteraction:!0})}function _(e){ga("send",{hitType:"event",eventCategory:"Autocomplete",eventAction:"select",eventLabel:e})}function w(){ga("send",{hitType:"event",eventCategory:"Show Feedback Form",eventAction:"click"})}function S(){ga("send",{hitType:"event",eventCategory:"Submit Feedback",eventAction:"click"})}function T(){ga("send",{hitType:"event",eventCategory:"Cancel Feedback",eventAction:"click"})}function x(){ga("send",{hitType:"event",eventCategory:"Header Home",eventAction:"click"})}function P(e){ga("send",{hitType:"event",eventCategory:"Back to Previous",eventAction:"click",eventLabel:e})}function E(e){ga("send",{hitType:"event",eventCategory:"Figure",eventAction:"click",eventLabel:e.toString()})}function C(e){ga("send",{hitType:"event",eventCategory:"Figure",eventAction:"swipe",eventLabel:e.toString()})}function O(e){ga("send",{hitType:"event",eventCategory:"Figure",eventAction:"key-nav",eventLabel:e})}function R(e){ga("send",{hitType:"event",eventCategory:"Search Results",eventAction:"sort",eventLabel:e})}function k(e){ga("send",{hitType:"event",eventCategory:"Search Results",eventAction:"pagination",eventLabel:"invalid",eventValue:e,nonInteraction:!0})}function j(e,t){var n={hitType:"event",eventCategory:"Citations",eventAction:"change sort",eventLabel:t};n[pe.CITATION_TYPE]=e,ga("send",n)}function I(e,t){var n={hitType:"event",eventCategory:"Citations",eventAction:"show excerpts"};n[pe.CITATION_TYPE]=e,n[pe.KEY_CITATION]=t.toString(),ga("send",n)}function M(e,t,n){var r={hitType:"event",eventCategory:"Citations",eventAction:"fetch more",eventLabel:t,eventValue:n};r[pe.CITATION_TYPE]=e,ga("send",r)}function A(e){ga("send",{hitType:"event",eventCategory:"Waypoint",eventAction:"click",eventLabel:e})}function N(){ga("send",{hitType:"event",eventCategory:"Login",eventAction:"cancel",nonInteraction:!0})}function D(e){ga("send",{hitType:"event",eventCategory:"Login",eventAction:"click",eventLabel:e})}function L(e){ga("send",{hitType:"event",eventCategory:"Login",eventAction:"success",eventLabel:e,nonInteraction:!0})}function q(e){ga("send",{hitType:"event",eventCategory:"Login",eventAction:"failure",eventLabel:e,nonInteraction:!0})}function F(){ga("send",{hitType:"event",eventCategory:"Reading List",eventAction:"view"})}function U(e,t){var n={hitType:"event",eventCategory:"Reading List",eventAction:"click"};n[pe.PAPER_ID]=e,"number"==typeof t&&(n[pe.INDEX]=(t+1).toString()),ga("send",n)}function H(e,t,n){var r={hitType:"event",eventCategory:"Reading List",eventAction:"add"};r[pe.PAPER_ID]=t,"number"==typeof n&&(r[pe.INDEX]=(n+1).toString()),ga("send",r)}function B(e,t,n){var r={hitType:"event",eventCategory:"Reading List",eventAction:"remove"};r[pe.PAPER_ID]=t,"number"==typeof n&&(r[pe.INDEX]=(n+1).toString()),ga("send",r)}function V(e){ga("send",{hitType:"event",eventCategory:"Filters",eventAction:e?"show":"hide"})}function z(e){ga("send",{hitType:"event",eventCategory:"Sort Menu",eventAction:e?"show":"hide"})}function $(e){ga("send",{hitType:"event",eventCategory:"Tab Bar",eventAction:"click",eventLabel:e})}function W(e,t,n,r){var o={hitType:"event",eventCategory:"PDF Reader",eventAction:"swipe",eventLabel:r};o[pe.PAPER_ID]=e,o[pe.PDF_PAGE]=(t+1).toString(),o[pe.PDF_PANEL]=(n+1).toString(),ga("send",o)}function Y(e,t,n){var r={hitType:"event",eventCategory:"PDF Reader",eventAction:"show section navigation"};r[pe.PAPER_ID]=e,r[pe.PDF_PAGE]=(t+1).toString(),r[pe.PDF_PANEL]=(n+1).toString(),ga("send",r)}function G(e,t){var n={hitType:"event",eventCategory:"PDF Reader",eventAction:"navigation to section"};n[pe.PAPER_ID]=e,n[pe.INDEX]=(t+1).toString(),ga("send",n)}function K(e){var t={hitType:"event",eventCategory:"PDF Reader",eventAction:"back to paper details"};t[pe.PAPER_ID]=e,ga("send",t)}function Q(e){var t={hitType:"event",eventCategory:"PDF Reader",eventAction:"view raw pdf",nonInteraction:!0};t[pe.PAPER_ID]=e,ga("send",t)}function J(e){var t=(new Date).getTime();if(null!==ye&&he!==e.query.queryString&&t-ye<=de){var n={hitType:"event",eventCategory:"Re-query",eventAction:"search",eventLabel:e.query.queryString,nonInteraction:!0};n[fe.REQUERY_TIME]=r(ye),ga("send",n)}he!==e.query.queryString&&e.stats.forEach(function(e,t){if(e&&Array.isArray(e)){var n=e.filter(function(e){return e.count>0}).length;n>0&&a(t,n)}}),he=e.query.queryString,ye=t;var o={hitType:"event",eventCategory:"Search Results",eventAction:"show",eventLabel:e.query.queryString,nonInteraction:!0};o[pe.PAGE_TYPE]="SERP",o[pe.SEARCH_RESULT_COUNT]=e.totalResults.toString(),o[pe.SEARCH_QUERY]=e.query.queryString,o[pe.SEARCH_PAGE_NUMBER]=e.query.page.toString(),o[pe.SEARCH_PAGE_APPLIED_FACET_COUNT]=e.query.facetCount().toString();var i="other";e.dataSetInfoBox&&(i="dataset"),o[pe.SEARCH_TYPE]=i,o[fe.QUERY_LENGTH]=e.query.queryString.split(/\s+/).length,ga("send",o)}function X(e,t,n){var o={hitType:"event",eventCategory:"Search Result",eventAction:"click",eventLabel:n};o[pe.PAPER_ID]=n,o[pe.INDEX]=(e+1).toString(),o[pe.CLICK_LOCATION]=t,o[fe.TIME_TO_FIRST_SERP_CLICK]=r(ye),ga("send",o)}function Z(){var e={};e[pe.PAGE_TYPE]="detail",ga("set",e)}function ee(){var e={};e[pe.PAGE_TYPE]="home",ga("set",e)}function te(e){me=e,"push"===e.type&&(ge=(new Date).getTime())}function ne(e){if(me&&ve&&"pop"===me.type){var t={hitType:"event",eventCategory:"Click Back",eventAction:"click",nonInteraction:!0};t[pe.CLICK_BACK_FROM_PAGE]=ve,t[pe.CLICK_BACK_TO_PAGE]=e,t[fe.CLICK_BACK_TIME]=r(ge),ga("send",t)}ve=e}function re(){ga("send",{hitType:"event",eventCategory:"Poor Metadata Warning",eventAction:"render",nonInteraction:!0})}function oe(e){var t={hitType:"event",eventCategory:"Cite Modal",eventAction:"show"};t[pe.PAPER_ID]=e,ga("send",t)}function ie(e){var t={hitType:"event",eventCategory:"Cite Modal",eventAction:"show-citation-type"};t[pe.CITATION_TYPE]=e,ga("send",t)}function ae(){ga("send",{hitType:"event",eventCategory:"Release Notes",eventAction:"show",nonInteraction:!0})}function se(){ga("send",{hitType:"event",eventCategory:"Help",eventAction:"show"})}function ue(){ga("send",{hitType:"event",eventCategory:"FAQ",eventAction:"click"})}function le(e){ga("send",{hitType:"event",eventCategory:"FAQ - Question",eventAction:"click",eventLabel:e})}function ce(e){ga("send",{hitType:"event",eventCategory:"Search",eventAction:"View Google Scholar Results",eventLabel:e,nonInteraction:!0})}Object.defineProperty(n,"__esModule",{value:!0}),n.exampleQuery=o,n.searchBoxQuery=i,n.trackFilterShown=a,n.trackFilterToggled=s,n.trackFilterToggleMore=u,n.trackQueryEntityInfoBoxShown=l,n.trackQueryEntityFilterToggled=c,n.trackQueryEntityDetailsToggled=f,n.setYearRange=p,n.paperDetailAuthorClick=d,n.citationClick=h,n.citingHistogramClick=y,n.citingHistogramHover=m,n.viewPDFClick=v,n.viewExternalPDFClick=g,n.autoCompleteShow=b,n.autoCompleteSelect=_,n.showFeedbackForm=w,n.submitFeedback=S,n.cancelFeedback=T,n.homeButtonClick=x,n.trackBackToClick=P,n.figureClick=E,n.figureSwipe=C,n.figureKeyNav=O,n.trackSerpSortChange=R,n.trackInvalidPaginationAttempt=k,n.trackCitationSortChange=j,n.trackShowCitationExcerpts=I,n.trackFetchMoreCitations=M,n.waypointClick=A,n.loginCancel=N,n.loginClick=D,n.loginSuccessful=L,n.loginFailed=q,n.viewReadingList=F,n.readingListEntryClick=U,n.addToReadingList=H,n.removeFromReadingList=B,n.toggleFilterMenu=V,n.toggleSortMenu=z,n.tabClick=$,n.pdfSwipe=W,n.pdfNavigationOpen=Y,n.pdfSectionClick=G,n.pdfBackClick=K,n.pdfExternalPdfClick=Q,n.updateFromSearchResults=J,n.searchResultClick=X,n.updateFromPaper=Z,n.updateForHome=ee,n.updateFromHistoryChange=te,n.checkForClickback=ne,n.poorMetaWarningRendered=re,n.showCiteModal=oe,n.showCitationType=ie,n.showReleaseNotes=ae,n.trackShowHelp=se,n.trackViewFAQPage=ue,n.trackViewFAQQuestion=le,n.trackViewGoogleScholarResults=ce;var fe={QUERY_LENGTH:"metric1",CLICK_BACK_TIME:"metric2",REQUERY_TIME:"metric3",TIME_TO_FIRST_SERP_CLICK:"metric4"},pe={INDEX:"dimension1",PAPER_ID:"dimension2",CLICK_LOCATION:"dimension3",PAGE_TYPE:"dimension4",KEY_CITATION:"dimension5",PDF_PAGE:"dimension6",PDF_PANEL:"dimension7",CLICK_BACK_FROM_PAGE:"dimension8",CLICK_BACK_TO_PAGE:"dimension9",SEARCH_RESULT_COUNT:"dimension10",SEARCH_QUERY:"dimension11",SEARCH_TYPE:"dimension12",SEARCH_PAGE_NUMBER:"dimension13",SEARCH_PAGE_APPLIED_FACET_COUNT:"dimension14",CITATION_TYPE:"dimension15"},de=5e3,he=null,ye=null,me=null,ve=null,ge=null},{}],181:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return document.location.pathname+document.location.search}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=0,s=1,u=2,l=function(){function e(){r(this,e),this._state=a}return i(e,[{key:"_start",value:function(){this._location=o(),this._hash=document.location.hash,this._hash.length>0&&(this._state==s,this._scrollToElement())}},{key:"_scrollToElement",value:function(){var e=document.getElementsByName(this._hash.slice(1));e.length>0&&(setTimeout(function(){return e[0].scrollIntoView()},0),this._state=u)}},{key:"execute",value:function(){switch(this._state){case a:this._start();break;case s:o()!==this._location?(this._state=a,this._start()):this._scrollToElement();break;case u:o()!==this._location&&(this._state=a,this._start())}}}]),e}();n["default"]=l},{}],182:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.startTime=null,this.endTime=null,this.duration=null}return o(e,[{key:"start",value:function(){return this.startTime=Date.now(),this}},{key:"stop",value:function(){if(null===this.startTime)throw new Error("The timer hasn't been started yet");return this.endTime=Date.now(),this.duration=this.endTime-this.startTime,this}}]),e}();n["default"]=i},{}],183:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function i(e,t,n,o){r(this,i),this.id=e,this.durationMs=t,this.path=n,this.routeId=o};n["default"]=o},{}],184:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({id:null,name:null});a.fromJs=function(e,t){var n=Object.getOwnPropertyNames(t).filter(function(n){return t[n].id===e});if(0===n.length)throw new Error("Unknown enum type: "+e);return n[0]},n["default"]=a},{immutable:275}],185:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.GaEvent=void 0;var o=e("immutable"),i=r(o),a=n.GaEvent=i["default"].Record({hitType:"event",eventCategory:null,eventAction:null,eventLabel:null,eventValue:null,nonInteraction:!1,dimension1:null,dimension2:null,dimension3:null,dimension4:null,dimension5:null,dimension6:null,dimension7:null,dimension8:null,dimension9:null,dimension10:null,dimension11:null,dimension12:null,dimension13:null,dimension14:null,dimension15:null});a.fromInteraction=function(e,t,n,r){return new a({eventCategory:e.data.interactionCategory?e.data.interactionCategory:null,eventAction:e.data.interactionType?e.data.interactionType:null,eventLabel:e.data.interactionTarget?e.data.interactionTarget.toString():null,eventValue:"number"==typeof e.data.interactionValue?e.data.interactionValue:null,nonInteraction:!!r,dimension1:"number"==typeof e.data.index?(e.data.index+1).toString():null,dimension2:e.data.paperId?e.data.paperId:null,dimension3:e.data.location?e.data.location:null,dimension4:t,dimension5:e.data.keyCitation?e.data.keyCitation:null,dimension11:n,dimension15:e.data.citationType?e.data.citationType:null})}},{immutable:275}],186:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Enum"),i=r(o),a=e("immutable"),s=r(a),u=e("../constants/SocialSourceType"),l=r(u),c=e("merge"),f=r(c),p=s["default"].Record({linkTarget:null,linkSource:null,linkContext:null,linkTitle:null,postText:null,userId:null,userName:null,userFollowers:null,userLikes:null,likeCount:null,linkDate:null,sourceType:null,referenceType:null});p.fromJs=function(e){var t=i["default"].fromJs(e.sourceType,l["default"]);return new p((0,f["default"])(e,{sourceType:t}))},n["default"]=p},{"../constants/SocialSourceType":169,"./Enum":184,immutable:275,merge:277}],187:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({id:null,icon:null});n["default"]=a},{immutable:275}],188:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({id:null,icon:null});n["default"]=a},{immutable:275}],189:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.AuthorDetails=n.AuthorPaperRecommendation=n.AuthorPaperRecommendationExplain=n.AuthorStatistics=n.AuthorInfluence=n.InfluenceAuthor=n.AuthorAlias=void 0;var i=e("../index"),a=e("../../content/content"),s=o(a),u=e("../../format"),l=r(u),c=e("immutable"),f=o(c),p=e("merge"),d=o(p),h=n.AuthorAlias=f["default"].Record({name:null,slug:null,ids:f["default"].List()});h.prototype.hasAuthorHomePage=function(){return 1===this.ids.size},h.prototype.linkedData=function(e){var t={"@type":"Person",name:this.name};return this.hasAuthorHomePage()&&(t.mainEntityOfPage=e.makeHref("authorProfile",{authorId:this.canonicalId(),slug:this.slug})),t},h.prototype.canonicalId=function(){return this.ids.first()},h.fromJs=function(e){return new h((0,d["default"])(e,{ids:f["default"].List(e.ids)}))};var y=n.InfluenceAuthor=f["default"].Record({author:null,papers:f["default"].List(),keyCitationCount:null,totalCitationCount:null,score:null});y.fromJs=function(e){return new y((0,d["default"])(e,{author:h.fromJs(e.author),papers:f["default"].List(e.papers.map(i.Paper.fromJs))}))};var m=n.AuthorInfluence=f["default"].Record({influenced:f["default"].List(),influencedBy:f["default"].List()});m.fromJs=function(e){return new m({influenced:f["default"].List(e.influenced.map(y.fromJs)),influencedBy:f["default"].List(e.influencedBy.map(y.fromJs))})};var v=2;m.prototype.hasSufficientData=function(){return this.influenced.size>v||this.influencedBy.size>v};var g=n.AuthorStatistics=f["default"].Record({hIndex:null,estNumCitations:null,totalCitationCount:null,totalInfluentialCitationCount:null,citedByBuckets:f["default"].List(),highlightedPublications:null,influence:null,estCitationVelocity:null,estCitationAcceleration:null}),b=n.AuthorPaperRecommendationExplain=f["default"].Record({exampleStr:null,explainType:null,authors:f["default"].Seq(),papers:f["default"].Seq(),coauthors:f["default"].Seq(),topics:f["default"].Seq(),nPapers:null});b.fromJs=function(e){return new b({exampleStr:e.exampleStr,explainType:e.explainType,authors:f["default"].fromJS(e.authors),papers:f["default"].fromJS(e.papers),coauthors:f["default"].fromJS(e.coauthors),topics:f["default"].fromJS(e.topics),nPapers:e.nPapers})};var _=n.AuthorPaperRecommendation=f["default"].Record({recommendedPaper:null,score:null,explain:new b});_.fromJs=function(e){return new _({recommendedPaper:i.Paper.fromJs(e.recommendedPaper),explain:e.explain?b.fromJs(e.explain):null})},g.prototype.hasDisplayableStats=function(){return this.totalInfluentialCitationCount>0||this.estNumCitations.value>0||this.estCitationAcceleration.shouldDisplay()||this.estCitationVelocity.shouldDisplay()&&this.estCitationVelocity.shouldDisplay()||!this.citedByBuckets.isEmpty()&&this.citedByBuckets.some(function(e){return e.estimate.value>0})};var w=n.AuthorDetails=f["default"].Record({id:null,name:null,slug:null,email:null,lastModifiedDate:null,statistics:new g,hasPaperRecommendations:null});w.prototype.authorPageMetaDescription=function(){var e=l.estCitationsValue(this.statistics.totalInfluentialCitationCount),t=l.estCitationsValue(this.statistics.estNumCitations.value),n=l.estCitationVelocityValue(this.statistics.estCitationVelocity);return s["default"].getString("metaDescription.authorHomePage.content",this.name,e,t,n)}},{"../../content/content":176,"../../format":179,"../index":196,immutable:275,merge:277}],190:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({value:null,start:null,end:null});a.fromJs=function(e,t){return new a({value:t(e.value),start:e.start,end:e.end})},n["default"]=a},{immutable:275}],191:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ByRange"),i=r(o),a=e("./Estimate"),s=r(a),u=e("./YearStatBucket"),l=r(u),c=e("immutable"),f=r(c),p=e("merge"),d=r(p),h=f["default"].Record({estimate:null,estCitationsByRange:f["default"].List(),buckets:f["default"].List()});h.prototype.shouldDisplay=function(){return this.estimate&&!isNaN(this.estimate.value)&&this.estimate.value>0;
},h.fromJs=function(e){var t=d["default"].recursive(!0,e);return new h({estimate:new s["default"](t.estimate),estCitationsByRange:f["default"].List(t.estCitationsByRange.map(function(e){return i["default"].fromJs(e,s["default"])})),buckets:f["default"].List(t.estCitationsByRange.map(function(e){return l["default"].fromRange(e)}))})},n["default"]=h},{"./ByRange":190,"./Estimate":194,"./YearStatBucket":195,immutable:275,merge:277}],192:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ByRange"),i=r(o),a=e("./Estimate"),s=r(a),u=e("./YearStatBucket"),l=r(u),c=e("immutable"),f=r(c),p=e("merge"),d=r(p),h=f["default"].Record({estimate:null,estCitationsByRange:f["default"].List(),buckets:f["default"].List()});h.prototype.shouldDisplay=function(){return this.estimate&&!isNaN(this.estimate.value)&&this.estimate.value>0},h.fromJs=function(e){var t=d["default"].recursive(!0,e);return new h({estimate:new s["default"](t.estimate),estCitationsByRange:f["default"].List(t.estCitationsByRange.map(function(e){return i["default"].fromJs(e,s["default"])})),buckets:f["default"].List(t.estCitationsByRange.map(function(e){return l["default"].fromRange(e)}))})},h.MIN_THRESHOLD=1,n["default"]=h},{"./ByRange":190,"./Estimate":194,"./YearStatBucket":195,immutable:275,merge:277}],193:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./Estimate"),l=r(u),c=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldDisplay",value:function(){return this.value>=t.MIN_DISPLAY_VALUE}}]),t}(l["default"]);n["default"]=c,c.MIN_DISPLAY_VALUE=50},{"./Estimate":194}],194:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({confidence:null,max:null,min:null,value:null});n["default"]=a},{immutable:275}],195:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Estimate"),i=r(o),a=e("immutable"),s=r(a),u=s["default"].Record({startKey:-1,endKey:-1,count:0,estimate:new i["default"]});u.fromRange=function(e){return new u({startKey:parseInt(e.start.substring(0,4),10),endKey:parseInt(e.end.substring(0,4),10),count:e.value.value,estimate:new i["default"](e.value)})},n["default"]=u},{"./Estimate":194,immutable:275}],196:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return _["default"].List(e.map(function(e){var t=i(e,2),n=t[0],r=t[1];return j({alias:a.AuthorAlias.fromJs(n),highlightedField:x(r)})}))}Object.defineProperty(n,"__esModule",{value:!0}),n.PaperDetail=n.Paper=n.DebugInfo=n.HighlightedAuthor=n.Author=n.Journal=n.CitationStats=n.PaperFigure=n.Citation=n.CitationPage=n.HighlightedField=void 0;var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=e("./author/AuthorDetails"),s=e("./citation-stats/EstCitationAcceleration"),u=r(s),l=e("./citation-stats/EstCitationVelocity"),c=r(l),f=e("./citation-stats/EstTotalCitations"),p=r(f),d=e("./PaperSocialLink"),h=r(d),y=e("./citation-stats/YearStatBucket"),m=r(y),v=e("../content/content.js"),g=r(v),b=e("immutable"),_=r(b),w=e("merge"),S=r(w),T={WHITELISTED_CRAWL:"whitelistedCrawlJob",WHITELISTED_DOMAIN:"whitelistedDomain"},x=n.HighlightedField=_["default"].Record({text:"",fragments:[]}),P=n.CitationPage=_["default"].Record({citations:_["default"].List(),citationType:"citingPapers",pageNumber:1,sort:"relevance",lastSort:"relevance",loading:!1,hasMore:!1});P.prototype.linkedData=function(e){return this.citations.map(function(t){return{"@type":"ScholarlyArticle",name:t.title.text,mainEntityOfPage:e.makeHref("paperDetail",{paperId:t.id,slug:t.slug}),author:t.authors.map(function(t){return t.alias.linkedData(e)}).toJS(),publication:t.venue.text,copyrightYear:t.year.text}}).toJS()};var E=n.Citation=_["default"].Record({id:"",title:x(),slug:"",authors:_["default"].List(),venue:x(),year:-1,citationContexts:[],isKey:!1,debugInfo:null});E.fromJs=function(e){var t=S["default"].recursive(!0,e);return t.title=x(t.title),t.authors=o(t.authors),t.venue=x(t.venue),E(t)};var C=n.PaperFigure=_["default"].Record({caption:"",name:"",displayName:"",figureType:"",uri:"",height:null,width:null});C.prototype.linkedData=function(){return{"@type":"ImageObject",caption:this.caption,contentUrl:this.uri,height:this.height,width:this.width}},C.fromJs=function(e){return new C(S["default"].recursive(!0,e,{displayName:e.figureType+" "+e.name}))};var O=n.CitationStats=_["default"].Record({citedByBuckets:_["default"].List(),numCitations:0,numReferences:0,numViewableReferences:0,numKeyCitations:0,numKeyReferences:0,keyCitationRate:0,estNumCitations:null,estCitationVelocity:null,estCitationAcceleration:null});O.prototype.hasKeyCitations=function(){return this.numKeyCitations>0},O.fromJs=function(e){var t=S["default"].recursive(!0,e);return O((0,S["default"])(t,{estNumCitations:new p["default"](t.estNumCitations),estCitationVelocity:c["default"].fromJs(t.estCitationVelocity),estCitationAcceleration:u["default"].fromJs(t.estCitationAcceleration),citedByBuckets:_["default"].List(t.citedByBuckets.map(function(e){return(0,m["default"])(e)}))}))};var R=n.Journal=_["default"].Record({name:"",volume:"",pages:""}),k=n.Author=_["default"].Record({firstName:"",middleNames:_["default"].List(),lastName:""}),j=n.HighlightedAuthor=_["default"].Record({alias:null,highlightedField:null}),I=n.DebugInfo=_["default"].Record({sourceIds:_["default"].List(),sourceUris:_["default"].List(),duplicateIds:_["default"].List(),indexInclusionReason:null,earliestAcquisitionDate:null}),M=n.Paper=_["default"].Record({id:"",title:x(),slug:"",paperAbstract:x(),authors:_["default"].List(),structuredAuthors:_["default"].List(),classifications:_["default"].List(),year:x(),venue:x(),keyPhrases:_["default"].List(),dataSets:_["default"].List(),citationStats:O(),indexInclusionReason:null,hasAcmSource:!1,debugInfo:null,journal:null,dataSetNames:null,socialLinks:_["default"].List(),presentationIds:_["default"].List(),viewablePdfId:null,acmLink:null,arxivLink:null});M.prototype.hasPoorMetadata=function(){return!this.hasAcmSource&&(this.indexInclusionReason===T.WHITELISTED_CRAWL||this.indexInclusionReason===T.WHITELISTED_DOMAIN)},M.prototype.hasReferences=function(){return this.citationStats.numReferences>0},M.prototype.hasCitations=function(){return this.citationStats.numCitations>0},M.prototype.linkedData=function(e){var t=this.authors.map(function(t){return t.alias.linkedData(e)}).toJS(),n={"@context":"http://schema.org","@type":"ScholarlyArticle",name:this.title.text,mainEntityOfPage:e.makeHref("paperDetail",{paperId:this.id,slug:this.slug}),description:this.description(),author:t,publication:this.venue.text,copyrightYear:this.year.text,mentions:this.keyPhrases.toJS()};return this.viewablePdfId?n.url=this.arxivLink||e.makeHref("paperPdfViewer",{paperId:this.id,slug:this.slug}):this.acmLink&&(n.url=this.acmLink),n},M.prototype.description=function(){if(this.paperAbstract&&this.paperAbstract.text)return this.paperAbstract.text;if(this.authors.size){var e=1===this.authors.size?this.authors.first().alias.name:this.authors.first().alias.name+" et al.";return g["default"].getString("metaDescription.paperFallback.content",this.title.text,e)}},M.fromJs=function(e){var t=S["default"].recursive(!0,e);return t.title=x(t.title),t.authors=o(t.authors),t.structuredAuthors=_["default"].List(t.structuredAuthors.map(function(e){return e.middleNames=_["default"].List(e.middleNames),k(e)})),t.paperAbstract=x(t.paperAbstract),t.venue=x(t.venue),t.year=x(t.year),t.citationStats=O.fromJs(t.citationStats),t.keyPhrases=_["default"].List(t.keyPhrases),t.journal=t.journal?R(t.journal):null,t.dataSetNames=_["default"].List(t.dataSetNames),t.socialLinks=_["default"].List(t.socialLinks.map(function(e){return h["default"].fromJs(e)})),t.presentationIds=_["default"].List(t.presentationIds),t.viewablePdfId=e.pdfInfo.viewablePdfId,t.acmLink=e.pdfInfo.acmLink,t.arxivLink=e.pdfInfo.arxivLink,t.debugInfo&&(t.debugInfo=I((0,S["default"])(t.debugInfo,{sourceIds:_["default"].List(t.debugInfo.sourceIds),sourceUris:_["default"].List(t.debugInfo.sourceUris),duplicateIds:_["default"].List(t.debugInfo.duplicateIds)}))),M(t)};var A=n.PaperDetail=_["default"].Record({paper:M(),citingPapers:P({citationType:"citingPapers"}),citedPapers:P({citationType:"citedPapers"}),figures:_["default"].List(),relatedPapers:_["default"].List(),isLoadingRelatedPapers:!0});A.prototype.hasPaper=function(){return this.paper&&""!==this.paper.id},A.prototype.hasTitle=function(){return this.paper&&this.paper.title&&this.paper.title.text},A.prototype.hasFigures=function(){return this.figures&&!this.figures.isEmpty()},A.prototype.hasFigure=function(e){return this.figures&&this.figures.has(e)},A.prototype.linkedData=function(e){var t={image:this.figures.map(function(t){return t.linkedData(e)}).toJS()};return(0,S["default"])(this.paper.linkedData(e),t)},A.prototype.description=function(){return this.paper.description()}},{"../content/content.js":176,"./PaperSocialLink":186,"./author/AuthorDetails":189,"./citation-stats/EstCitationAcceleration":191,"./citation-stats/EstCitationVelocity":192,"./citation-stats/EstTotalCitations":193,"./citation-stats/YearStatBucket":195,immutable:275,merge:277}],197:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({authorId:null,authorName:null,authorSlug:null,paperCount:null,influentialCitationCount:null,influentialCitationsPerPaper:null,estTotalCitationCount:null,estTotalCitationsPerPaper:null,citationVelocity:null,citationVelocityPerPaper:null});a.fromJs=function(e){return a(e)},n["default"]=a},{immutable:275}],198:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({paperId:null,paperTitle:null,paperSlug:null,paperCount:null,influentialCitationCount:null,influentialCitationsPerPaper:null,estTotalCitationCount:null,estTotalCitationsPerPaper:null,citationVelocity:null,citationVelocityPerPaper:null});a.fromJs=function(e){return a(e)},n["default"]=a},{immutable:275}],199:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({url:null,paperCount:null,influentialCitationCount:null,influentialCitationsPerPaper:null,estTotalCitationCount:null,estTotalCitationsPerPaper:null,citationVelocity:null,citationVelocityPerPaper:null});a.fromJs=function(e){return a(e)},n["default"]=a},{immutable:275}],200:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("immutable"),i=r(o),a=i["default"].Record({id:null,type:null,title:null,text:null});a.create=function(e){return e.id=Date.now()+"-"+Math.random(),new a(e)},n["default"]=a},{immutable:275}],201:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.QueryResponse=n.QueryEntity=n.QueryEntityAuthorStatistics=n.AvailableFilters=n.Query=n.YearRange=void 0;var o=e("./citation-stats/EstCitationVelocity"),i=r(o),a=e("./citation-stats/EstTotalCitations"),s=r(a),u=e("./index.js"),l=e("./citation-stats/YearStatBucket"),c=r(l),f=e("../constants/FilterType"),p=r(f),d=e("immutable"),h=r(d),y=e("merge"),m=r(y),v=n.YearRange=h["default"].Record({min:null,max:null}),g=n.Query=h["default"].Record({autoEnableFilters:!0,queryString:"",page:1,pageSize:10,sort:"relevance",authors:h["default"].List(),classifications:h["default"].List(),coAuthors:h["default"].List(),dataSets:h["default"].List(),keyPhrases:h["default"].List(),venues:h["default"].List(),yearFilter:new v});g.prototype.reset=function(){return new g({queryString:this.queryString})},g.Empty=new g,g.prototype.facetCount=function(){var e=this.classifications.size+this.authors.size+this.keyPhrases.size+this.dataSets.size+this.venues.size;return this.yearFilter&&(this.yearFilter.min||this.yearFilter.max)&&(e+=1),e},g.prototype.toQueryString=function(){var e={},t=this.getIn(["yearFilter","min"]),n=this.getIn(["yearFilter","max"]);t&&n&&(e.year=[t,n]),e.classification=this.classifications.toArray(),e.author=this.authors.toArray(),e.coAuthor=this.coAuthors.toArray(),e.dataSet=this.dataSets.toArray(),e.venue=this.venues.toArray(),e.coAuthor=this.coAuthors.toArray(),e.keyPhrase=this.keyPhrases.toArray(),e.q=this.queryString;var r=this.sort;r&&(e.sort=r);var o=this.page;return o>1&&(e.page=o),e.ae=this.autoEnableFilters&&1===o,e},g.from=function(e,t,n){var r={queryString:e};return n&&(r.sort=n),t?(r[g.filterTypeToProp(t)]=h["default"].List.of(e),r.autoEnableFilters=!1):r.autoEnableFilters=!0,new g(r)},g.filterTypeToProp=function(e){return"type"===e?"classifications":e+"s"};var b=n.AvailableFilters=h["default"].Record({coAuthors:[],authors:[],keyPhrases:[],dataSets:[],classifications:[],venues:[],years:[],filteredYears:null}),_=n.QueryEntityAuthorStatistics=h["default"].Record({authorId:null,slug:null,influentialCitationCount:null,citedByBuckets:h["default"].List(),estNumCitations:null,estCitationVelocity:null});_.fromJs=function(e){var t=m["default"].recursive(!0,e);return new _({authorId:t.authorId,slug:t.slug,influentialCitationCount:t.influentialCitationCount,estCitationVelocity:i["default"].fromJs(t.estCitationVelocity),citedByBuckets:new h["default"].List(t.citedByYearHistogram.map(c["default"])),estNumCitations:new s["default"](t.totalEstimatedCitations)})};var w=n.QueryEntity=h["default"].Record({filterType:null,name:null,metadata:h["default"].List()});w.fromJs=function(e){var t=m["default"].recursive(!0,e),n=void 0;switch(t.filterType){case p["default"].AUTHOR:n=h["default"].List(t.metadata.map(_.fromJs));break;default:n=h["default"].List(t.metadata)}return new w({filterType:t.filterType,name:t.name,metadata:n})};var S=n.QueryResponse=h["default"].Record({query:new g,stats:new b,results:h["default"].List(),querySuggestions:h["default"].List(),queryEntity:null,totalPages:0,totalResults:0,socialPaper:null});S.fromJs=function(e){var t=m["default"].recursive(!0,e),n=h["default"].List(t.results.map(function(e){return u.Paper.fromJs(e)})),r=new g(t.query),o=t.stats?new b(t.stats):(void 0)._query.stats;return new S({stats:o,query:r,results:n,querySuggestions:h["default"].List(t.querySuggestions),queryEntity:t.queryEntity?w.fromJs(t.queryEntity):null,totalPages:t.totalPages,totalResults:t.totalResults,socialPaper:t.socialPaper?u.Paper.fromJs(t.socialPaper):null})}},{"../constants/FilterType":160,"./citation-stats/EstCitationVelocity":192,"./citation-stats/EstTotalCitations":193,"./citation-stats/YearStatBucket":195,"./index.js":196,immutable:275,merge:277}],202:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function i(e){var t=e.url,n=e.status;r(this,i),this.url=t,this.status=n||301};n["default"]=o},{}],203:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./Redirect"),u=r(s),l=function(e){function t(e){var n=e.routeName,r=e.params,a=e.query,s=e.replace,u=e.status;o(this,t);var l=i(this,Object.getPrototypeOf(t).call(this,{status:u||301}));return l.routeName=n,l.params=r,l.query=a,l.replace="boolean"==typeof s&&s,l}return a(t,e),t}(u["default"]);n["default"]=l},{"./Redirect":202}],204:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.routes.map(function(e){return e.name}).join(".")}function i(e){var t=e.filter(function(e){return"function"==typeof e.handler.willRouteTo});return t.length>0?t.map(function(e){return e.handler.willRouteTo}):[]}function a(e,t){var n=e.routes.filter(function(e){return"function"==typeof e.handler.getCanonicalUrl});if(n.length>0){var r=n[n.length-1],o=r.handler.getCanonicalUrl(e,t);return o?k["default"].escape(o):void 0}}function s(e,t){var n=e.filter(function(e){return"function"==typeof e.handler.getPageTitle});if(n.length>0){var r=n[n.length-1];return k["default"].escape(r.handler.getPageTitle(t)||U)}return U}function u(e,t){var n=e.filter(function(e){return"function"==typeof e.handler.getPageMetaDescription});if(n.length>0){var r=n[n.length-1],o=r.handler.getPageMetaDescription(t);return o?k["default"].escape(o):void 0}return H}function l(e,t){var n=e.filter(function(e){return"function"==typeof e.handler.getPageFigure});if(n.length>0){var r=n[n.length-1];return r.handler.getPageFigure(t)||v["default"].DEFAULT_SHARE_IMAGE}return v["default"].DEFAULT_SHARE_IMAGE}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),f=e("./constants.js"),p=r(f),d=e("./constants/HttpStatusMeta"),h=r(d),y=e("./util"),m=e("./constants/OpenGraph.js"),v=r(m),g=e("./models/redirects/Redirect"),b=r(g),_=e("./models/redirects/S2Redirect"),w=r(_),S=e("./metrics/UiMetricEvent"),T=r(S),x=e("./metrics/Timer"),P=r(x),E=e("./ga"),C=e("./content/content"),O=r(C),R=e("true-html-escape"),k=r(R),j=e("promise"),I=r(j),M=e("react"),A=(r(M),e("react-dom")),N=r(A),D=e("react-dom/server"),L=r(D),q=e("react-router"),F=r(q),U="Semantic Scholar",H=O["default"].getString("metaDescription.general.content"),B=void 0;y.isBrowser?!function(){var e=function(e){ga("set",{page:e,title:document.title}),ga("send","pageview")},t=function(){var e=document.head.getElementsByTagName("link"),t=Array.prototype.slice.call(e).filter(function(e){return"canonical"===e.getAttribute("rel")});if(t.length){if(t.length>1)throw new Error("More than one canonical URL.  This should not occur.");return t.pop()}var n=document.createElement("link");return n.setAttribute("rel","canonical"),document.head.appendChild(n),n},n=function(e){return Array.prototype.slice.call(document.head.getElementsByTagName("meta")).filter(function(t){return t.name===e}).pop()},r=function(e){var t=n(e);t&&t.parentElement.removeChild(t)},f=function(e,t){var r=n(e);if(r)r.setAttribute("content",t);else{var o=document.createElement("meta");o.setAttribute("property",e),o.setAttribute("content",t),document.head.appendChild(o)}},d=function(e){return Array.prototype.slice.call(document.head.getElementsByTagName("meta")).filter(function(t){return t.getAttribute("property")===e}).pop()},m=function(e){var t=d(e);t&&t.parentElement.removeChild(t)},v=function(e,t){var n=d(e);if(n)n.setAttribute("content",t);else{var r=document.createElement("meta");r.setAttribute("property",e),r.setAttribute("content",t),document.head.appendChild(r)}};B=function(n,d){F["default"].HistoryLocation.addChangeListener(E.updateFromHistoryChange);var g=!0,_=F["default"].create({routes:n,location:F["default"].HistoryLocation});_.run(function(n,S){var x=g?"bootstrapping":"replace"===S.action?"redirect":"request",C=o(S);g=!1;var O=new P["default"],R=(new P["default"]).start(),k=(new P["default"]).start(),j=d.envInfo.isMobile?"mobile":"desktop";d.dispatcher.dispatch({actionType:p["default"].actions.ROUTING,state:S});var M=S.routes[S.routes.length-1];(0,E.checkForClickback)(M.name),O.start();var A=[function(){return d.api.hasServerRenderedData()?d.api.rePopulateStoresFromServerRenderedData():I["default"].resolve(void 0)},function(){return d.api.fetchUserInfo()}].concat(i(S.routes,d,S)),D=I["default"].all(A.map(function(e){return e(d,S)})).then(function(e){if(O.stop(),e){var t=e.filter(function(e){return e instanceof b["default"]}).shift();t&&(t instanceof w["default"]?t.replace?_.replaceWith(t.routeName,t.params,t.query):_.transitionTo(t.routeName,t.params,t.query):document.location=t.url)}}),L=void 0,q=void 0,F=new I["default"](function(e,t){L=e,q=t});try{N["default"].render(c(n,{appContext:d}),document.getElementById("app"),L)}catch(U){q(U)}k.stop(),I["default"].all([D,F]).then(function(){var n=s(S.routes,d);document.title=n,n?(f("twitter:title",n),v("og:title",n)):(r("twitter:title"),m("og:title"));var o=u(S.routes,d);o?(f("description",o),f("twitter:description",o),v("og:description",o)):(r("description"),r("twitter:description"),m("og:description"));var i=l(S.routes,d);i?(v("og:image",i.uri),v("og:image:secure_url",i.uri),v("og:image:width",i.width),v("og:image:height",i.height),f("twitter:image",i.uri)):(m("og:image"),m("og:image:secure_url"),m("og:image:width"),m("og:image:height"),r("twitter:image"));var c=a(S,_,d),p=t();c?p.setAttribute("href",c):p.parentElement&&p.parentElement.removeChild(p),R.stop();try{var h=[new T["default"]("s2.client."+j+"."+x+".routed",k.duration,S.path,C),new T["default"]("s2.client."+j+"."+x+".ready",R.duration,S.path,C)];window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&"bootstrapping"===x&&h.push(new T["default"]("s2.client."+j+"."+x+".load",Date.now()-window.performance.timing.navigationStart,S.path,C)),O&&h.push(new T["default"]("s2.client."+j+"."+x+".api",O.duration,S.path,C)),d.api.recordMetricEvents(h)}catch(y){console.error("Error tracking metrics:",y)}e(S.path)})["catch"](function(e){y.isDev&&console.error("Error encountering while routing / rendering: ",e);var t=e&&404===e.status,n=t?h["default"].NOT_FOUND.TITLE:h["default"].SERVER_ERROR.TITLE,r=t?h["default"].NOT_FOUND.DESC:h["default"].SERVER_ERROR.DESC;document.title=n,f("twitter:title",n),v("og:title",n),f("description",r),f("twitter:description",r),v("og:description",r),d.dispatcher.dispatch({actionType:p["default"].actions.ROUTING_ERROR,error:e})})})}}():B=function(e,t,n){return new I["default"](function(r,f){var d=F["default"].create({routes:e,location:t.url,onAbort:function(e){if("Redirect"===e.constructor.name){var t=d.makePath(e.to,e.params,e.query);r({redirectUrl:t})}else console.error("Route aborted!",e)}});d.run(function(e,t){function y(e){var r=e?"redirect":"request";C.stop();try{var o=[new T["default"]("s2.server."+x+"."+r+".ready",C.duration,t.path,E)];O&&o.push(new T["default"]("s2.server."+x+"."+r+".api",O.duration,t.path,E)),n.api.recordMetricEvents(o)}catch(i){console.error("Error tracking metrics:",i)}}function m(e){n.dispatcher.dispatch({actionType:p["default"].actions.ROUTING_ERROR,error:e});var t=e&&404===e.status,o=t?404:500,i=t?h["default"].NOT_FOUND.TITLE:h["default"].SERVER_ERROR.TITLE,a=t?h["default"].NOT_FOUND.DESC:h["default"].SERVER_ERROR.DESC;try{r({title:i,html:L["default"].renderToString(_),metaDescription:a,status:o})}catch(s){console.error("Error while rendering server-side error:",s),f(s)}}function v(e){try{var o=e&&e.filter(function(e){return e instanceof b["default"]}).shift();if(o){var i=o instanceof w["default"]?d.makePath(o.routeName,o.params,o.query):o.url;r({redirectUrl:i,status:o.status}),y(!0)}else{var c=e&&e.filter(function(e){return e&&"number"==typeof e.status}).shift();r({title:s(t.routes,n),canonicalUrl:a(t,d,n),metaDescription:u(t.routes,n),figure:l(t.routes,n),html:L["default"].renderToString(g),data:e,status:c?c.status:200}),y(!1)}}catch(p){console.error("Error occured during server side rendering:",p),f(p)}}var g=c(e,{appContext:n}),_=c(e,{appContext:n}),S=[function(){return n.api.fetchUserInfo()}].concat(i(t.routes)),x=n.envInfo.isMobile?"mobile":"desktop",E=o(t),C=(new P["default"]).start(),O=new P["default"];n.dispatcher.dispatch({actionType:p["default"].actions.ROUTING,state:t}),O.start(),I["default"].all(S.map(function(e){return e(n,t)})).then(function(e){O.stop(),v(e)},m)})})},n["default"]=B},{"./constants.js":155,"./constants/HttpStatusMeta":161,"./constants/OpenGraph.js":166,"./content/content":176,"./ga":180,"./metrics/Timer":182,"./metrics/UiMetricEvent":183,"./models/redirects/Redirect":202,"./models/redirects/S2Redirect":203,"./util":221,promise:282,react:465,"react-dom":294,"react-dom/server":295,"react-router":322,"true-html-escape":469}],205:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./base"),l=r(u),c=e("../constants"),f=r(c),p=e("../constants/Interaction"),d=r(p),h=e("../models/GaEvent"),y=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n.currentRouteName=null,n.query=null,n.dispatchToken=e.register(function(e){switch(e.actionType){case void 0:break;case f["default"].actions.ROUTING:e.state.routes.length>0&&(n.currentRouteName=e.state.routes[e.state.routes.length-1].name);break;case f["default"].actions.API_REQUEST_STARTING:!e.requestData||e.requestType!==f["default"].requestTypes.SEARCH&&e.requestType!==f["default"].requestTypes.AUTHOR_DETAIL&&e.requestType!==f["default"].requestTypes.AUTHOR_DETAIL_WITH_PAPERS||(n.query=e.requestData.queryString);break;case d["default"].action.AUTHOR_STAT_CLICK:case d["default"].action.CITING_HISTOGRAM_CLICK:case d["default"].action.RESULT_CLICK:case d["default"].action.SEARCH_FILTER_CLICK:case d["default"].action.SEARCH_PAGINATION_CLICK:case d["default"].action.VIEW_PDF:case d["default"].action.HIGHLIGHTED_PAPER_CLICK:case d["default"].action.CITATIONS:case d["default"].action.SHOW_RELATED_PAPERS:case d["default"].action.INTERACTIVE_EVENT:n.trackGaEvent(h.GaEvent.fromInteraction(e,n.currentRouteName,n.query));break;case d["default"].action.AUTHOR_INFLUENCE_SCORE_HOVER:case d["default"].action.AUTHOR_STAT_HOVER:case d["default"].action.CITING_HISTOGRAM_HOVER:case d["default"].action.VIEW_EXTERNAL_PDF:case d["default"].action.HIGHLIGHTED_PAPER_IMPRESSION:case d["default"].action.POOR_METADATA_WARNING:case d["default"].action.NON_INTERACTIVE_EVENT:n.gaEvent=h.GaEvent.fromInteraction(e,n.currentRouteName,n.query,!0),n.trackGaEvent(n.gaEvent)}}),n}return a(t,e),s(t,[{key:"trackGaEvent",value:function(e){var t=e.toJS();Object.getOwnPropertyNames(t).forEach(function(e){null!==t[e]&&void 0!==t[e]||delete t[e]}),ga("send",t)}}]),t}(l["default"]);n["default"]=y},{"../constants":155,"../constants/Interaction":164,"../models/GaEvent":185,"./base":213}],206:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./base"),c=o(l),f=e("../constants"),p=o(f),d=e("../util"),h=r(d),y=e("immutable"),m=o(y),v=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));return n.history=m["default"].List(),n.dispatchToken=e.register(function(e){switch(e.actionType){case p["default"].actions.ROUTING:var t=e.state.path;switch(e.state.action){case"replace":n.history=n.history.splice(n.history.size-1,1,t);break;case"pop":var r=n.history.lastIndexOf(t);r!==-1?n.history=n.history.take(r):n.history=n.history.push(t);break;default:n.history=n.history.push(t)}n.emitChange()}}),h.isBrowser&&"function"==typeof window.addEventListener&&window.addEventListener("hashchange",function(e){if(e.newURL){var t=e.newURL,r=t.replace(window.document.location.origin,"");n.history=n.history.push(r),n.emitChange()}}),n}return s(t,e),u(t,[{key:"findIndex",value:function(e){var t=this.history.lastIndexOf(e);return t!==-1?this.history.size-1-t:t}},{key:"previous",value:function(){return this.history.size>1?this.history.get(this.history.size-2):void 0}},{key:"goTo",value:function(e){var t=e-(this.history.size-1);this.history=this.history.take(e),window.history.go(t)}},{key:"current",value:function(){return this.history.tail()}}]),t}(c["default"]);n["default"]=v},{"../constants":155,"../util":221,"./base":213,immutable:275}],207:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r){var o=h["default"].fromId(t).fieldName,i=n===m["default"].ASC?-1:1;return e.sort(function(e,t){return e[o]===t[o]?i*(e[r]>t[r]?1:-1):i*(t[o]-e[o])})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./base"),c=r(l),f=e("../constants"),p=r(f),d=e("../constants/InsightsField"),h=r(d),y=e("../constants/SortOrder"),m=r(y),v=e("../models/insights/TopAuthor"),g=r(v),b=e("../models/insights/TopPaper"),_=r(b),w=e("../models/insights/TopUniversity"),S=r(w),T=e("immutable"),x=r(T),P={AUTHORS:"authors",UNIVERSITIES:"universities",PAPERS:"papers"};Object.freeze(P);var E=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n.loadingAuthors=!1,n.loadingUniversities=!1,n.loadingPapers=!1,n.topAuthors=new x["default"].List,n.topUniversities=new x["default"].List,n.topPapers=new x["default"].List,n.limit=t.DEFAULT_LIMIT,n.sortFieldId=h["default"].defaultSort().id,n.sortOrder=m["default"].DESC,n.dispatchToken=e.register(function(e){switch(e.actionType){case p["default"].actions.API_REQUEST_STARTING:switch(e.requestType){case p["default"].requestTypes.TOP_AUTHORS:n.setLoading(P.AUTHORS,!0);break;case p["default"].requestTypes.TOP_UNIVERSITIES:n.setLoading(P.UNIVERSITIES,!0);break;case p["default"].requestTypes.TOP_PAPERS:n.setLoading(P.PAPERS,!0)}break;case p["default"].actions.API_REQUEST_COMPLETE:switch(e.requestType){case p["default"].requestTypes.TOP_AUTHORS:n.setTopAuthors(e.resultData,!0).sortTopAuthors(!0).setLoading(P.AUTHORS,!1);break;case p["default"].requestTypes.TOP_UNIVERSITIES:n.setTopUniversities(e.resultData,!0).sortTopUniversities(!0).setLoading(P.UNIVERSITIES,!1);break;case p["default"].requestTypes.TOP_PAPERS:n.setTopPapers(e.resultData,!0).sortTopPapers(!0).setLoading(P.PAPERS,!1)}}}),n}return a(t,e),u(t,[{key:"setLoading",value:function(e,t,n){switch(e){case P.AUTHORS:this.loadingAuthors=t;break;case P.UNIVERSITIES:this.loadingUniversities=t;break;case P.PAPERS:this.loadingPapers=t}return n!==!0&&this.emitChange(),this}},{key:"setTopAuthors",value:function(e,t){return this.topAuthors=new x["default"].List(e.map(g["default"].fromJs)),t!==!0&&this.emitChange(),this}},{key:"setTopUniversities",value:function(e,t){return this.topUniversities=new x["default"].List(e.map(S["default"].fromJs)),t!==!0&&this.emitChange(),this}},{key:"setTopPapers",value:function(e,t){return this.topPapers=new x["default"].List(e.map(_["default"].fromJs)),t!==!0&&this.emitChange(),this}},{key:"has",value:function(e){var t=void 0;switch(e){case P.AUTHORS:t=this.topAuthors;break;case P.UNIVERSITIES:t=this.topUniversities;break;case P.PAPERS:t=this.topPapers}return!t.isEmpty()}},{key:"hasTopAuthors",value:function(){return this.has(P.AUTHORS)}},{key:"hasTopUniversities",value:function(){return this.has(P.UNIVERSITIES)}},{key:"hasTopPapers",value:function(){return this.has(P.PAPERS)}},{key:"sortTopAuthors",value:function(e){return this.topAuthors=s(this.topAuthors,this.sortFieldId,this.sortOrder,"authorName"),e!==!0&&this.emitChange(),this}},{key:"sortTopUniversities",value:function(e){return this.topUniversities=s(this.topUniversities,this.sortFieldId,this.sortOrder,"url"),e!==!0&&this.emitChange(),this}},{key:"sortTopPapers",value:function(e){return this.topPapers=s(this.topPapers,this.sortFieldId,this.sortOrder,"paperTitle"),e!==!0&&this.emitChange(),this}},{key:"setSort",value:function(e,t){return void 0!==e&&e!==this.sortFieldId&&(this.sortFieldId=e),void 0!==t&&t!==this.sortOrder&&(this.sortOrder=t),this}},{key:"setLimit",value:function(e){var t=parseInt(e,10);return isNaN(t)||this.limit===t||(this.limit=t),this}},{key:"buildQueryFor",value:function(e,t,n){return{limit:n||this.limit,sort:e||this.sortFieldId,order:t||this.sortOrder}}},{key:"buildQueryForLimit",value:function(e){return this.buildQueryFor(void 0,void 0,e)}},{key:"buildQueryForOrder",value:function(e){return this.buildQueryFor(void 0,e,void 0)}}]),t}(c["default"]);n["default"]=E,E.DEFAULT_LIMIT=50,E.LEADERBOARD_LIMIT=10,E.MAX_LIMIT=1e3},{"../constants":155,"../constants/InsightsField":163,"../constants/SortOrder":170,"../models/insights/TopAuthor":197,"../models/insights/TopPaper":198,"../models/insights/TopUniversity":199,"./base":213,immutable:275}],208:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./base"),u=r(s),l=e("../constants"),c=r(l),f=e("../models"),p=e("immutable"),d=r(p),h=d["default"].Record({paper:new f.Paper,pdfUrl:null}),y=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n.state=new h,n.dipatchToken=e.register(function(e){switch(e.requestType){case c["default"].requestTypes.GET_PAPER_WITH_PRESENTATION_URL:case c["default"].requestTypes.GET_PAPER_WITH_PDF_URL:switch(e.actionType){case c["default"].actions.API_REQUEST_COMPLETE:e.resultData.paper&&(n.state=n.state.withMutations(function(t){t.set("paper",f.Paper.fromJs(e.resultData.paper)),t.set("pdfUrl",e.resultData.pdfUrl)}),n.emitChange(n.state))}}}),n}return a(t,e),t}(u["default"]);n["default"]=y},{"../constants":155,"../models":196,"./base":213,immutable:275}],209:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./base"),u=r(s),l=e("../constants"),c=r(l),f=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.error=void 0,n.dispatchToken=e.register(function(e){switch(e.actionType){case c["default"].actions.ROUTING_ERROR:n.error=e.error,n.emitChange(n.error);break;case c["default"].actions.ROUTING:n.error=void 0,n.emitChange(n.error)}}),n}return a(t,e),t}(u["default"]);n["default"]=f},{"../constants":155,"./base":213}],210:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./base.js"),u=r(s),l=e("../constants.js"),c=r(l),f=e("../constants/FeatureFlag"),p=r(f),d=e("immutable"),h=r(d),y=h["default"].Record({debug:!1,enableHighlightedSocialPaper:!p["default"].isEnabled(p["default"].DISABLE_HIGHLIGHTED_SOCIAL_PAPER),disableRelatedPapers:p["default"].isEnabled(p["default"].DISABLE_RELATED_PAPERS),showRelatedPapers:p["default"].isEnabled(p["default"].SHOW_RELATED_PAPERS),showAuthorRecommendations:p["default"].isEnabled(p["default"].SHOW_AUTHOR_RECOMMENDATIONS)}),m=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n.options=new y,n.dispatchToken=e.register(function(e){switch(e.actionType){case c["default"].actions.ROUTING:"true"===e.state.query.debug&&(n.options=n.options.set("debug",!0),n.emitChange())}}),n}return a(t,e),t}(u["default"]);n["default"]=m},{"../constants.js":155,"../constants/FeatureFlag":159,"./base.js":213,immutable:275}],211:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),l=r(u),c=e("promise"),f=r(c),p=e("./base.js"),d=r(p),h=e("../constants.js"),y=r(h),m=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n._attemptingToAuth=!1,n.dispatchToken=e.register(function(e){switch(e.actionType){case y["default"].actions.SHOW_MODAL:e.id===y["default"].modalId.LOGIN&&(n._attemptingToAuth=!0);break;case y["default"].actions.HIDE_MODAL:n._attemptingToAuth&&(n._attemptingToAuth=!1,n.emitChange());break;case y["default"].actions.API_REQUEST_COMPLETE:switch(e.requestType){case y["default"].requestTypes.USER_INFO:n._user=e.resultData.user,n._attemptingToAuth=!1,n.emitChange();break;case y["default"].requestTypes.LOGOUT:n._user=null,n.emitChange()}}}),n}return a(t,e),s(t,[{key:"getUser",value:function(){return this._user}}]),t}(d["default"]);n["default"]=m,m.Mixin={contextTypes:{authStore:l["default"].PropTypes.object.isRequired,dispatcher:l["default"].PropTypes.object.isRequired},getAuthStore:function(){return this.context.authStore},ensureLogin:function(){var e=this;return this._loginPromise=new f["default"](function(t,n){var r=e.getAuthStore().getUser();r?t(r):(e.getAuthStore().once(function(){var r=e.getAuthStore().getUser();r?t(r):n()}),e.context.dispatcher.dispatch({actionType:y["default"].actions.SHOW_MODAL,id:y["default"].modalId.LOGIN}))}),this._loginPromise},componentDidMount:function(){this.onAuthStoreChange&&this.getAuthStore().addChangeListener(this.onAuthStoreChange)},componentWillUnmount:function(){this.onAuthStoreChange&&this.getAuthStore().removeChangeListener(this.onAuthStoreChange)}}},{"../constants.js":155,"./base.js":213,promise:282,react:465}],212:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("../base"),c=o(l),f=e("../../models/author/AuthorDetails"),p=r(f),d=e("../../models/citation-stats/EstCitationAcceleration"),h=o(d),y=e("../../models/citation-stats/EstCitationVelocity"),m=o(y),v=e("../../models/citation-stats/EstTotalCitations"),g=o(v),b=e("../../models/citation-stats/YearStatBucket"),_=o(b),w=e("../../constants/AuthorStoreState"),S=o(w),T=e("../../constants"),x=o(T),P=e("immutable"),E=o(P),C=e("merge"),O=o(C),R=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));return n.state=S["default"].UNINITIALIZED,n.author=null,n.recommendationsState=S["default"].UNINITIALIZED,n.recommendations=null,n.dispatchToken=e.register(function(e){switch(e.actionType){case x["default"].actions.API_REQUEST_STARTING:if(e.requestType===x["default"].requestTypes.AUTHOR_DETAIL||e.requestType===x["default"].requestTypes.AUTHOR_DETAIL_WITH_PAPERS){var t=decodeURI(e.path.split("?").shift()).split("/").pop();n.author&&n.author.id===t||(n.state=S["default"].LOADING,n.recommendationsState=S["default"].UNINITIALIZED,n.recommendations=null,n.author=null,n.emitChange())}else e.requestType===x["default"].requestTypes.AUTHOR_RECOMMENDATIONS&&(n.recommendationsState=S["default"].LOADING,n.emitChange());break;case x["default"].actions.API_REQUEST_COMPLETE:if(e.requestType!==x["default"].requestTypes.AUTHOR_DETAIL&&e.requestType!==x["default"].requestTypes.AUTHOR_DETAIL_WITH_PAPERS||!e.resultData.author)e.requestType===x["default"].requestTypes.AUTHOR_RECOMMENDATIONS&&(n.recommendations=new E["default"].List(e.resultData.map(function(e){return p.AuthorPaperRecommendation.fromJs(e)})),n.recommendationsState=S["default"].LOADED,n.emitChange());else{var r=e.resultData.author&&e.resultData.author.id;p&&p.id===r||(n.state=S["default"].LOADED,n.author=n.extractAuthorDetails(e.resultData.author),n.emitChange())}}}),n}return s(t,e),u(t,[{key:"isNewOrCanonicalAuthor",value:function(e,t){var n=t?encodeURIComponent(t):null;return!this.author||e!==this.author.id||n&&n!==this.author.slug}},{key:"isLoading",value:function(){return this.state===S["default"].UNINITIALIZED||this.state===S["default"].LOADING}},{key:"isLoadingRecommendations",value:function(){return this.recommendationsState===S["default"].UNINITIALIZED||this.recommendationsState===S["default"].LOADING}},{key:"extractAuthorDetails",value:function(e){var t=O["default"].recursive(!0,e),n=t.statistics,r=new E["default"].List(n.citedByYearHistogram.map(function(e){return new _["default"](e)})),o=new p.AuthorStatistics({hIndex:t.statistics.hIndex,estNumCitations:new g["default"](t.statistics.estimatedTotalCitationCount),totalCitationCount:t.statistics.totalCitationCount,totalInfluentialCitationCount:t.statistics.totalInfluentialCitationCount,citedByBuckets:r,influence:p.AuthorInfluence.fromJs(n.influence),estCitationVelocity:m["default"].fromJs(n.estCitationVelocity),estCitationAcceleration:h["default"].fromJs(n.estCitationAcceleration)}),i=(0,O["default"])(t,{statistics:o});return new p.AuthorDetails(i)}}]),t}(c["default"]);n["default"]=R},{"../../constants":155,"../../constants/AuthorStoreState":157,"../../models/author/AuthorDetails":189,"../../models/citation-stats/EstCitationAcceleration":191,"../../models/citation-stats/EstCitationVelocity":192,"../../models/citation-stats/EstTotalCitations":193,"../../models/citation-stats/YearStatBucket":195,"../base":213,immutable:275,merge:277}],213:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("../utils/wrap"),s=r(a),u=e("events"),l=e("react"),c=r(l),f="CHANGE",p=function(){function e(){o(this,e),this._baseStoreEvents=new u.EventEmitter,this._baseStoreEvents.setMaxListeners(50)}return i(e,[{key:"addChangeListener",value:function(e){return this._baseStoreEvents.on(f,e)}},{key:"removeChangeListener",value:function(e){return this._baseStoreEvents.removeListener(f,e)}},{key:"once",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this._baseStoreEvents).once.apply(e,[f].concat(n))}},{key:"emitChange",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this._baseStoreEvents).emit.apply(e,[f].concat(n))}},{key:"registerComponent",value:function(e,t){if("function"!=typeof t)throw new Error("You must provide a callback.");if(!(e instanceof c["default"].Component))throw new Error("You must provide a react component.");return e.componentDidMount=(0,s["default"])(e.componentDidMount&&e.componentDidMount.bind(e),this.addChangeListener.bind(this,t)),e.componentWillUnmount=(0,s["default"])(e.componentWillUnmount&&e.componentWillUnmount.bind(e),this.removeChangeListener.bind(this,t)),this}}]),e}();n["default"]=p},{"../utils/wrap":226,events:243,react:465}],214:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){var r={title:t,text:n,type:e};this.messages.find(function(r){return r.type===e&&r.title===t&&r.text===n})||(this.messages=this.messages.push(d["default"].create(r)),this.emitChange())}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./base"),f=o(c),p=e("../models/message"),d=o(p),h=e("../constants"),y=o(h),m=e("immutable"),v=e("../util.js"),g=r(v),b=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));return n.messages=new m.List,n.dispatchToken=e.register(function(e){switch(e.actionType){case y["default"].actions.API_ERROR:n.processError(e)}}),n}return s(t,e),l(t,[{key:"processError",value:function(e){if(g.isBrowser&&window.navigator.onLine===!1)this.addError("Please check your connection and try again.","Sorry, you're offline");else switch(e.errorType){case y["default"].errorTypes.NETWORK_ERROR:this.addError("We can't reach our servers right now. Please try again later.");break;case y["default"].errorTypes.SERVER_ERROR:this.addError("Sorry, there was an error when processing your request.\n             Please try again later. If the error persists, please report the issue to us.");break;case y["default"].errorTypes.API_TIMEOUT:break;default:this.addError("We've experienced an unexpected error.")}}},{key:"addSuccess",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Success":arguments[1];u.call(this,"success",t,e)}},{key:"addWarning",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Warning":arguments[1];u.call(this,"warning",t,e)}},{key:"addError",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Oops!":arguments[1];u.call(this,"error",t,e)}},{key:"removeMessage",value:function(e){var t=this.messages.indexOf(e);t>-1&&(this.messages=this.messages.remove(t),this.emitChange())}}]),t}(f["default"]);n["default"]=b},{"../constants":155,"../models/message":200,"../util.js":221,"./base":213,immutable:275}],215:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),l=e("./base"),c=r(l),f=e("../constants"),p=r(f),d=e("../util"),h=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n._dispatchToken=e.register(function(e){switch(e.actionType){case p["default"].actions.SHOW_MODAL:n._visibleModalId=e.id,n._visibleModalData=e.data,n._key=e.key,n.emitChange(n._visibleModalId,n._visibleModalData,n._key);break;case p["default"].actions.ROUTING:case p["default"].actions.HIDE_MODAL:n._visibleModalId=n._visibleModalData=n._key=void 0,n.emitChange();break;case p["default"].actions.API_REQUEST_COMPLETE:if(e.requestType===p["default"].requestTypes.USER_INFO&&n._visibleModalId===p["default"].modalId.LOGIN){n._visibleModalId=n._visibleModalData=n._key=void 0,n.emitChange();break}}}),n}return a(t,e),t}(c["default"]);n["default"]=h,h.Mixin={contextTypes:{modalStore:u["default"].PropTypes.object.isRequired},componentDidMount:function(){if("function"==typeof this.onModalStoreChange)this.context.modalStore.addChangeListener(this.onModalStoreChange);else if(d.isDev){var e=Object.getPrototypeOf(this),t=e&&e.constructor&&e.constructor.displayName?"An instance of the "+e.constructor.displayName+" component":"A component instance";console.warn(t+" won't receive updates from the ModalStore as onModalStoreChange isn't set or isn't a function.")}},componentWillUnmount:function(){"function"==typeof this.onModalStoreChange&&this.context.modalStore.removeChangeListener(this.onModalStoreChange)}}},{"../constants":155,"../util":221,"./base":213,react:465}],216:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return e.merge({citations:t.citations.map(y.Citation.fromJs),citationType:t.citationType,pageNumber:t.pageNumber,sort:t.sort,lastSort:t.sort,hasMore:t.hasMore,loading:!1})}function l(e,t){return e.merge({citations:t.citations.map(y.Citation.fromJs),citationType:t.citationType,pageNumber:t.pageNumber,sort:t.sort,lastSort:t.sort,hasMore:t.hasMore,loading:!1})}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=e("./base"),p=o(f),d=e("../constants"),h=o(d),y=e("../models"),m=e("../constants/PaperStoreState"),v=o(m),g=e("../util"),b=e("../ga.js"),_=r(b),w=e("immutable"),S=o(w),T=e("react"),x=o(T),P=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));return n.state=v["default"].UNINITIALIZED,n._paperDetail=new y.PaperDetail,n.focusedFigureIndex=void 0,n.dispatchToken=e.register(function(e){switch(e.actionType){case h["default"].actions.API_REQUEST_STARTING:switch(e.requestType){case h["default"].requestTypes.PAPER_DETAIL:n.state=v["default"].LOADING_PAPER_DETAILS,n._paperDetail=new y.PaperDetail,n.focusedFigureIndex=void 0,n.emitChange();break;case h["default"].requestTypes.CITATIONS:n.setLoading(e.requestData.citationType,e.requestData.sort);break;case h["default"].requestTypes.MORE_CITATIONS:n.setLoading(e.requestData.citationType,e.requestData.sort);break;case h["default"].requestTypes.RELATED_PAPERS:n._paperDetail=n._paperDetail.withMutations(function(e){e.set("isLoadingRelatedPapers",!0),e.set("relatedPapers",S["default"].List())}),n.emitChange()}break;case h["default"].actions.API_REQUEST_COMPLETE:switch(e.requestType){case h["default"].requestTypes.PAPER_DETAIL:e.resultData.paper&&(n.state=v["default"].LOADED,n.updateFromPaper(e.resultData),n.emitChange());break;case h["default"].requestTypes.CITATIONS:n.updateFromCitationPage(e.resultData);break;case h["default"].requestTypes.MORE_CITATIONS:n.updateFromMoreCitationPage(e.resultData);break;case h["default"].requestTypes.RELATED_PAPERS:n.updateFromRelatedPapers(e.resultData),n.emitChange()}break;case h["default"].actions.UPDATE_FOCUSED_FIGURE_INDEX:var t=parseInt(e.figureIndex,10);n.focusedFigureIndex=isNaN(t)?void 0:t,n.emitChange()}}),n}return s(t,e),c(t,[{key:"isLoading",value:function(){return this.state===v["default"].UNINITIALIZED||this.state===v["default"].LOADING_PAPER_DETAILS}},{key:"setLoading",value:function(e,t){this._paperDetail=this._paperDetail.mergeIn([e],{loading:!0,lastSort:t}),this.emitChange()}},{key:"updateFromPaper",value:function(e){this._paperDetail=this._paperDetail.withMutations(function(t){t.set("paper",y.Paper.fromJs(e.paper)),t.set("citingPapers",u(new y.CitationPage,e.citingPapers)),t.set("citedPapers",u(new y.CitationPage,e.citedPapers));var n=e.figureExtractions&&Array.isArray(e.figureExtractions.figures)?e.figureExtractions.figures:[],r=S["default"].List(n.map(y.PaperFigure.fromJs)),o=void 0;o=r.some(function(e){return isNaN(e.name)})?r.sortBy(function(e){return e.name}):r.sortBy(function(e){return parseFloat(e.name)}),t.set("figures",o)}),_.updateFromPaper()}},{key:"updateFromRelatedPapers",value:function(e){this._paperDetail.paper&&this._paperDetail.paper.id===e.paperId?(this._paperDetail=this._paperDetail.withMutations(function(t){t.set("relatedPapers",S["default"].List(e.papers.map(y.Paper.fromJs))),t.set("isLoadingRelatedPapers",!1)}),this.emitChange()):g.isDev&&console.warn("Related papers response for paper id "+e.paperId+" received while rendering paper "+this._paperDetail.paper.id)}},{key:"updateFromCitationPage",value:function(e){var t=this._paperDetail.get(e.citationType),n=1===e.pageNumber;this._paperDetail=this._paperDetail.withMutations(function(r){r.set(e.citationType,u(n?new y.CitationPage:t,e))}),this.emitChange()}},{key:"updateFromMoreCitationPage",value:function(e){var t=this._paperDetail.get(e.citationType),n=1===e.pageNumber;this._paperDetail=this._paperDetail.withMutations(function(r){r.set(e.citationType,l(n?new y.CitationPage:t,e))}),this.emitChange()}},{key:"getPaperDetail",value:function(){return this._paperDetail}}]),t}(p["default"]);n["default"]=P,P.Mixin={contextTypes:{paperStore:x["default"].PropTypes.object.isRequired,router:x["default"].PropTypes.func.isRequired},componentDidMount:function(){this.onPaperStoreChange&&this.context.paperStore.addChangeListener(this.onPaperStoreChange)},componentWillUnmount:function(){this.onPaperStoreChange&&this.context.paperStore.removeChangeListener(this.onPaperStoreChange)},getPaperStore:function(){return this.context.paperStore},changeCitationsAndReferencesSort:function(e,t){var n="citingPapers"===e?"citedPapers":"citingPapers",r=this.getPaperStore().getPaperDetail().paper.id,o=this.getPaperStore().getPaperDetail().paper.slug,i={};i[e+"Sort"]=t,i[n+"Sort"]=this.getPaperStore().getPaperDetail().get(n).get("sort"),this.context.router.transitionTo("paperDetail",{paperId:r,slug:o},i)},changeCitationSort:function(e,t,n){var r=this.getPaperStore().getPaperDetail().paper.id,o=this.getPaperStore().getPaperDetail().paper.slug,i={};i[e+"Sort"]=t,this.context.router.transitionTo(n,{paperId:r,slug:o},i)}}},{"../constants":155,"../constants/PaperStoreState":167,"../ga.js":180,"../models":196,"../util":221,"./base":213,immutable:275,react:465}],217:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=c(e.year);return new R.Query({classifications:j["default"].List(O.arrayWrap(e.classification)),authors:j["default"].List(O.arrayWrap(e.author)),dataSets:j["default"].List(O.arrayWrap(e.dataSet)),coAuthors:j["default"].List(O.arrayWrap(e.coAuthor)),venues:j["default"].List(O.arrayWrap(e.venue)),keyPhrases:j["default"].List(O.arrayWrap(e.keyPhrase)),yearFilter:new R.YearRange({min:t.startYear,max:t.endYear}),autoEnableFilters:void 0===e.ae||"true"===e.ae,queryString:e.q||e.queryString||"",sort:e.sort||null,page:e.page?parseInt(e.page,10):1})}function l(e){return new R.Query({classifications:j["default"].List(O.arrayWrap(e.classifications)),authors:j["default"].List(O.arrayWrap(e.authors)),dataSets:j["default"].List(O.arrayWrap(e.dataSets)),coAuthors:j["default"].List(O.arrayWrap(e.coAuthors)),venues:j["default"].List(O.arrayWrap(e.venues)),keyPhrases:j["default"].List(O.arrayWrap(e.keyPhrases)),yearFilter:new R.YearRange({min:e.yearFilter&&e.yearFilter.min||null,max:e.yearFilter&&e.yearFilter.max||null}),autoEnableFilters:!1,queryString:e.queryString||"",sort:e.sort||"",page:e.page?parseInt(e.page,10):1})}function c(e){var t=null,n=null;if(O.isArray(e)&&e.length>=2){var r=e.map(function(e){return parseInt(e,10)});r.sort();var o=p(r,2);t=o[0],n=o[1]}return{startYear:t,endYear:n}}Object.defineProperty(n,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),
r&&e(t,r),t}}(),p=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=e("./base.js"),h=o(d),y=e("../constants.js"),m=o(y),v=e("../constants/query-state"),g=o(v),b=e("../utils/routing/query-routes"),_=o(b),w=e("../constants/sort-type"),S=o(w),T=e("../ga.js"),x=r(T),P=e("../models/redirects/S2Redirect"),E=o(P),C=e("../util"),O=r(C),R=e("../models/query.js"),k=e("immutable"),j=o(k),I=e("promise"),M=o(I),A=e("react"),N=o(A),D=e("merge"),L=o(D),q=Math.pow(2,31)-1,F=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));return n._query=new R.Query,n._response=new R.QueryResponse,n._currentQueryId=null,n._state=g["default"].INITIALIZED,n._lastSearchPayload=null,n.dispatchToken=e.register(function(e){switch(e.actionType){case m["default"].actions.QUERY_UPDATED:n._query=u(e.query),n._state=g["default"].FILTERING,n.emitChange();break;case m["default"].actions.API_REQUEST_STARTING:if(e.requestType===m["default"].requestTypes.SEARCH||e.requestType===m["default"].requestTypes.AUTHOR_DETAIL_WITH_PAPERS){var t=n._response.getIn(["query","queryString"]);e.requestData.queryString!==t?n._state=g["default"].LOADING:n._state=g["default"].FILTERING,n.emitChange()}break;case m["default"].actions.API_REQUEST_COMPLETE:if((e.requestType===m["default"].requestTypes.SEARCH||e.requestType===m["default"].requestTypes.AUTHOR_DETAIL_WITH_PAPERS)&&!e.resultData.canonicalId){var r=e.requestType===m["default"].requestTypes.SEARCH?e.resultData:e.resultData.author.papers;n._response=R.QueryResponse.fromJs(r),n._state=g["default"].LOADED,n._lastSearchPayload=e,x.updateFromSearchResults(n._response);var o=l(r.query);j["default"].is(o,n._query)?n._state=g["default"].LOADED:n._query=o,n.emitChange()}}}),n}return s(t,e),f(t,[{key:"getQuery",value:function(){return this._query}},{key:"getQueryResponse",value:function(){return this._response}},{key:"getQueryState",value:function(){return this._state}},{key:"getSort",value:function(){return this._query.sort}},{key:"getQueryString",value:function(){return this._query.queryString}},{key:"getLoadState",value:function(){return this._state}},{key:"getFilterDocumentCount",value:function(e,t){var n=R.Query.filterTypeToProp(e);if(this._response.stats&&this._response.stats[n]){var r=O.arrayFind(this._response.stats[n],function(e){return e.value===t});return r&&r.count}}},{key:"isNewQuery",value:function(e){var t=u(e);return!j["default"].is(this._query,t)}},{key:"isFilterActive",value:function(e,t){var n=R.Query.filterTypeToProp(e),r=this._query[n];return r&&r.contains(t)}},{key:"isLoading",value:function(){return this._state===g["default"].LOADING||this._state===g["default"].INITIALIZED}},{key:"routeToToggleFilter",value:function(e,t,n){var r=R.Query.filterTypeToProp(e),o=void 0,i=this._query.update(r,function(e){var n=e.findIndex(function(e){return e===t});return n>=0?e.splice(n,1):e.push(t)});o=this._query.merge(i),o=o.merge({page:1,autoEnableFilters:!1}),_["default"].changeRouteForQuery(o,n)}},{key:"routeToQuery",value:function(e,t,n,r){_["default"].changeRouteForQuery(R.Query.from(e,t),n,r)}},{key:"routeToYearRange",value:function(e,t,n){var r=this._query.merge({yearFilter:new R.YearRange({min:e,max:t}),page:1});_["default"].changeRouteForQuery(r,n)}},{key:"routeToSort",value:function(e,t){var n=this._query.merge({sort:e,page:1});_["default"].changeRouteForQuery(n,t)}},{key:"routeToPage",value:function(e,t){var n=this._query.merge({page:e});_["default"].changeRouteForQuery(n,t)}},{key:"routeToClearFilters",value:function(e){_["default"].changeRouteForQuery(this._query.reset(),e)}},{key:"routeForCurrentQuery",value:function(){return _["default"].routeForQuery(this.getQuery())}},{key:"hasQuery",value:function(){return!j["default"].is(this.getQuery(),R.Query.Empty)}}],[{key:"executeQuery",value:function(e,t){var n=void 0!==t.query.page?parseInt(t.query.page):void 0;if(n&&isNaN(n)||n<=0){t.query.page=void 0;var r=new E["default"]({routeName:t.routes[t.routes.length-1].name,params:t.params,query:t.query,replace:!0});return x.trackInvalidPaginationAttempt(n),M["default"].resolve(r)}if(n>q){t.query.page=q;var o=new E["default"]({routeName:t.routes[t.routes.length-1].name,params:t.params,query:t.query,replace:!0});return x.trackInvalidPaginationAttempt(n),M["default"].resolve(o)}if(t.params.authorId&&t.query&&(t.query=(0,L["default"])(t.query,{q:"",ae:!1}),t.query.sort||(t.query.sort=S["default"].INFLUENTIAL_CITATIONS.id)),!e.queryStore.isNewQuery(t.query)&&e.queryStore.getQueryResponse().totalResults>0)return M["default"].resolve(e.queryStore._lastSearchPayload);e.dispatcher.dispatch({actionType:m["default"].actions.QUERY_UPDATED,query:t.query});var i=t.params.authorId?e.api.searchAuthorPapers(t.params.authorId,t.params.slug||""):e.api.search();return i.then(function(n){if(n.resultData.canonicalId)return e.dispatcher.dispatch({actionType:m["default"].actions.QUERY_UPDATED,query:{}}),new E["default"]({routeName:"authorProfile",params:{authorId:n.resultData.canonicalId,slug:n.resultData.canonicalSlug},query:void 0,replace:!0});if(n.resultData.totalPages>0&&n.resultData.query.page>n.resultData.totalPages){t.query.page=n.resultData.totalPages;var r=new E["default"]({routeName:t.routes[t.routes.length-1].name,params:t.params,query:t.query,replace:!0});return x.trackInvalidPaginationAttempt(n.resultData.query.page),r}var o=e.queryStore._query,i=u(t.query);return j["default"].is(o,i)?n:new E["default"]({routeName:t.routes[t.routes.length-1].name,params:t.params,query:o.toQueryString(),replace:!0})})}}]),t}(h["default"]);n["default"]=F,F.Mixin={contextTypes:{dispatcher:N["default"].PropTypes.object.isRequired,queryStore:N["default"].PropTypes.object.isRequired,router:N["default"].PropTypes.func.isRequired},componentDidMount:function(){this.onQueryStoreChange&&this.context.queryStore.addChangeListener(this.onQueryStoreChange)},componentWillUnmount:function(){this.onQueryStoreChange&&this.context.queryStore.removeChangeListener(this.onQueryStoreChange)},getQueryStore:function(){return this.context.queryStore},getFilterDocumentCount:function(e,t){return this.getQueryStore().getFilterDocumentCount(e,t)},clearAllFilters:function(){this.getQueryStore().routeToClearFilters(this.context.router)},setQuery:function(e,t,n){this.getQueryStore().routeToQuery(e,t,this.context.router,n||"search")},setSort:function(e){this.getQueryStore().routeToSort(e,this.context.router)},setYearRange:function(e,t){x.setYearRange(e,t),this.getQueryStore().routeToYearRange(e,t,this.context.router)},toggleFilter:function(e,t){this.getQueryStore().routeToToggleFilter(e,t,this.context.router)},isFilterActive:function(e,t){return this.getQueryStore().isFilterActive(e,t)}}},{"../constants.js":155,"../constants/query-state":174,"../constants/sort-type":175,"../ga.js":180,"../models/query.js":201,"../models/redirects/S2Redirect":203,"../util":221,"../utils/routing/query-routes":224,"./base.js":213,immutable:275,merge:277,promise:282,react:465}],218:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),l=r(u),c=e("immutable"),f=r(c),p=e("./base.js"),d=r(p),h=e("../constants.js"),y=r(h),m=f["default"].Record({totalCount:0,entries:f["default"].List()}),v=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n.initState(),n.dispatchToken=e.register(function(e){switch(e.actionType){case y["default"].actions.API_REQUEST_COMPLETE:switch(e.requestType){case y["default"].requestTypes.USER_INFO:e.resultData.readingList?n.updateFromReadingList(e.resultData.readingList):n.initState();break;case y["default"].requestTypes.LOGOUT:n.initState();break;case y["default"].requestTypes.ADD_TO_READING_LIST:n.addToReadingList(e.resultData)}break;case y["default"].actions.REMOVE_FROM_READING_LIST:n.removeFromReadingList(e.paperId);break;case y["default"].actions.SHOW_READING_LIST:n._readingListVisible=!0,n.emitChange();break;case y["default"].actions.HIDE_READING_LIST:n._readingListVisible=!1,n.emitChange()}}),n}return a(t,e),s(t,[{key:"initState",value:function(){this._readingList=new m,this._readingListIds=f["default"].Set(),this._readingListVisible=!1,this.emitChange()}},{key:"getReadingList",value:function(){return this._readingList}},{key:"getReadingListIds",value:function(){return this._readingListIds}},{key:"isInReadingList",value:function(e){return this._readingListIds.has(e)}},{key:"getEntryIdForPaperId",value:function(e){var t=this._readingList.entries.find(function(t){return t.paperId===e});return t?t.id:null}},{key:"updateFromReadingList",value:function(e){this._readingList=new m({totalCount:e.totalCount,entries:f["default"].List(e.entries)}),this._readingListIds=f["default"].Set(this._readingList.get("entries").map(function(e){return e.paperId})),this.emitChange()}},{key:"addToReadingList",value:function(e){var t=e.id,n=e.paperId,r=e.paperTitle;this._readingList=this._readingList.merge({totalCount:this._readingList.get("totalCount")+1,entries:this._readingList.get("entries").unshift({id:t,paperId:n,paperTitle:r})}),this._readingListIds=this._readingListIds.add(n),this.emitChange()}},{key:"removeFromReadingList",value:function(e){this._readingList=this._readingList.merge({totalCount:this._readingList.get("totalCount")-1,entries:this._readingList.get("entries").filterNot(function(t){return t.paperId===e})}),this._readingListIds=this._readingListIds.remove(e),this.emitChange()}},{key:"isVisible",value:function(){return this._readingListVisible}}]),t}(d["default"]);n["default"]=v,v.Mixin={contextTypes:{readingListStore:l["default"].PropTypes.object.isRequired,dispatcher:l["default"].PropTypes.object.isRequired,api:l["default"].PropTypes.object.isRequired},componentDidMount:function(){this.onReadingListStoreChange&&this.context.readingListStore.addChangeListener(this.onReadingListStoreChange)},componentWillUnmount:function(){this.onReadingListStoreChange&&this.context.readingListStore.removeChangeListener(this.onReadingListStoreChange)},getReadingListStore:function(){return this.context.readingListStore},addToReadingList:function(e,t){var n=this.context.readingListStore.getEntryIdForPaperId(e);n||this.context.api.addToReadingList(e,t)},removeFromReadingList:function(e){var t=this.context.readingListStore.getEntryIdForPaperId(e);this.context.dispatcher.dispatch({actionType:y["default"].actions.REMOVE_FROM_READING_LIST,paperId:e}),this.context.api.removeFromReadingList(t)}}},{"../constants.js":155,"./base.js":213,immutable:275,react:465}],219:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UserPreferencesStoreMixin=n.UserPreference=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),l=r(u),c=e("./base"),f=r(c),p=e("../constants"),d=r(p),h=e("immutable"),y=r(h),m=function(){function e(){a(this,e),this._data=new y["default"].Map}return s(e,[{key:"setItem",value:function(e,t){this._data=this._data.set(e,t)}},{key:"getItem",value:function(e){return this._data.get(e)}},{key:"removeItem",value:function(e){this._data=this._data["delete"](e)}}]),e}(),v=(n.UserPreference={HIDE_OVERVIEW_EXPLANATION:"HIDE_OVERVIEW_EXPLANATION"},n.UserPreferencesStoreMixin={contextTypes:{userPrefsStore:l["default"].PropTypes.object.isRequired,router:l["default"].PropTypes.func.isRequired},componentDidMount:function(){this.onUserPrefsStoreChange&&this.context.userPrefsStore.addChangeListener(this.onUserPrefsStoreChange)},componentWillUnmount:function(){this.onUserPrefsStoreChange&&this.context.userPrefsStore.removeChangeListener(this.onUserPrefsStoreChange)},getLocalUserPreference:function(e){return this.context.userPrefsStore.getLocalPreference(e)}},function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n._localStore="undefined"!=typeof window&&"undefined"!=typeof window.localStorage?window.localStorage:new m,n.dispatchToken=e.register(function(e){switch(e.actionType){case d["default"].actions.SET_LOCAL_USER_PREFERENCE:try{n._localStore.setItem(e.key,JSON.stringify(e.value))}catch(t){console.warn("Error saving user preference: ",e.key,e.value)}n.emitChange();break;case d["default"].actions.REMOVE_LOCAL_USER_PREFERENCE:n._localStore.removeItem(e.key,e.value),n.emitChange()}}),n}return i(t,e),s(t,[{key:"getLocalPreference",value:function(e){var t=void 0;try{var n=this._localStore.getItem(e);t=void 0!==n&&null!==n?JSON.parse(n):n}catch(r){console.warn("Error parsing user preference "+e+":",r)}return t}}]),t}(f["default"]));n["default"]=v},{"../constants":155,"./base":213,immutable:275,react:465}],220:[function(e,t,n){"use strict";function r(e,t,n){function r(){d&&clearTimeout(d),l&&clearTimeout(l),y=0,u=l=p=d=h=void 0}function o(t,n){n&&clearTimeout(n),l=d=h=void 0,t&&(y=Date.now(),c=e.apply(p,u),d||l||(u=p=void 0))}function i(){var e=t-(Date.now()-f);e<=0||e>t?o(h,l):d=setTimeout(i,e)}function a(){o(g,d)}function s(){if(u=arguments,f=Date.now(),p=this,h=g&&(d||!m),v===!1)var n=m&&!d;else{l||m||(y=f);var r=v-(f-y),o=r<=0||r>v;o?(l&&(l=clearTimeout(l)),y=f,c=e.apply(p,u)):l||(l=setTimeout(a,r))}return o&&d?d=clearTimeout(d):d||t===v||(d=setTimeout(i,t)),n&&(o=!0,c=e.apply(p,u)),!o||d||l||(u=p=void 0),c}var u,l,c,f,p,d,h,y=0,m=!1,v=!1,g=!0;return t=t<0?0:+t||0,n&&(m=!!n.leading,v="maxWait"in n&&Math.max(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g),s.cancel=r,s}Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=r},{}],221:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e?o(e)?e:[e]:e}function a(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1}function s(e,t){var n=a(e,t);return n!==-1?e[n]:null}function u(e){var t=[];for(var n in e){var r=e[n];o(r)?r.map(function(e){t.push(n+"="+e)}):t.push(n+"="+r)}return"?"+t.join("&")}function l(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}function c(e){return T?T.format(e):(e+"").replace(x,"$1,")}function f(e,t,n,r){var o=c(e);if(1===e)return r?t:o+" "+t;var i=n||t+"s";return r?i:o+" "+i}function p(e){return e===+e&&e===(0|e)}function d(e){if(e<=3)return e>1;if(e%2===0||e%3===0)return!1;for(var t=5;t*t<e;t+=6)if(e%t===0||e%(t+2)===0)return!1;return!0}function h(e,t){for(var n=e.range(),r=e.domain(),o=e.rangeBand(),i=0;t>n[i]+o&&i<r.length-1;)i++;return r[i]}function y(e){var t="";switch("undefined"==typeof e?"undefined":_(e)){case"object":e&&e.text&&(t=e.text);break;case"number":t=""+e;break;case"string":t=e}return 4===t.length&&!isNaN(t)}function m(e){if("string"==typeof e){var t=e.replace(E,"").toLowerCase().split(P).join("-");return encodeURIComponent(t)}}function v(e,t){if("number"!=typeof t)throw new Error("limit must be a number");if(t-=R.length,e.length>t){for(;t>1&&(!O.test(e[t-1])||!C.test(e[t]));)t-=1;return 1===t?e:e.substring(0,t)+R}return e}function g(e){var t=void 0;return t="/"===e.substr(0,1)?e.substr(1):e,t.split("?").shift().split("/").shift()}function b(e){return Object.getOwnPropertyNames(e).reduce(function(t,n){var r=e[n];return"object"===("undefined"==typeof r?"undefined":_(r))?t.set(n,b(r)):t.set(n,r)},new S["default"].Map)}Object.defineProperty(n,"__esModule",{value:!0}),n.isBrowser=n.isDev=void 0;var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n.isArray=o,n.arrayWrap=i,n.arrayFindIndexOf=a,n.arrayFind=s,n.querystring=u,n.ordinal=l,n.format=c,n.pluralize=f,n.isInteger=p,n.isPrime=d,n.domainValForMousePos=h,n.isValidYear=y,n.toHashFriendlyString=m,n.truncateText=v,n.rootPath=g,n.objectToMap=b;var w=e("immutable"),S=r(w),T="undefined"!=typeof Intl&&"NumberFormat"in Intl?new Intl.NumberFormat:null,x=/(\d)(?=(\d{3})+$)/g,P=/\s+/g,E=/[“”‘’?]/g,C=/\W/,O=/\w/,R="…";n.isDev=!1,n.isBrowser="undefined"!=typeof window},{immutable:275}],222:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return m.reduce(function(e,t){var n=d(t,2),r=n[0],o=n[1];return e.replace(new RegExp("["+r+"]","g"),o)},e+"")}function a(e,t){var n=void 0;if(e.lastName&&e.firstName){var r=e.middleNames.join(" ");if(t){var o=r.length>0?r.substr(0,1).toUpperCase()+".":"",i=e.firstName.substr(0,1).toUpperCase()+".";n=e.lastName+", "+i+o}else n=e.lastName+", "+e.firstName+" "+r}else n=e.lastName||e.firstName||e.middleNames.first();return n.trim()}function s(e){var t=void 0;return t=e.lastName&&e.firstName?[e.firstName].concat(o(e.middleNames)).concat([e.lastName]).join(" "):e.lastName||e.firstName||e.middleNames.first(),t.trim()}function u(e,t){var n=[];e.structuredAuthors.isEmpty()||!function(){var r=e.structuredAuthors.size;if(t&&r>=3){var o=a(e.structuredAuthors.first());n.push(o+" et al.")}else n.push(e.structuredAuthors.toList().map(function(e,t){if(0===t){var n=a(e);return 1===r?n+".":n}var o=s(e);return t===r-1?" and "+o+".":", "+o}).join(""))}(),n.push("“"+e.title.text+".”");var r=e.year&&e.year.text?" ("+e.year.text+")":"";if(e.journal&&e.journal.name){var o=e.journal.pages?": "+e.journal.pages:": n. pag",i=e.journal.volume?" "+e.journal.volume:"";n.push("<em>"+e.journal.name+"</em>"+i+r+o+".")}else e.venue&&e.venue.text?n.push("<em>"+e.venue.text+"</em>"+r+"."):n.push(r+".");return n.join(" ")}function l(e){var t=[];if(e.structuredAuthors.isEmpty()||!function(){var n=e.structuredAuthors.sort(function(e,t){var n=(e.lastName||e.firstName).toLowerCase().substr(0,1),r=(t.lastName||t.firstName).toLowerCase().substr(0,1);return n===r?0:n>r?1:-1}).toList();t.push(n.map(function(e,t){var r=a(e,!0);return t>0&&t===n.size-1?"& "+r:r}).join(", ")+".")}(),t.push(e.year&&e.year.text?"("+e.year.text+").":""),t.push(e.title.text+"."),e.journal&&e.journal.name){var n=e.journal.pages?", "+e.journal.pages:"",r=e.journal.volume?", "+e.journal.volume:"";t.push("<em>"+e.journal.name+r+"</em>"+n+".")}else e.venue&&e.venue.text&&t.push("<em>"+e.venue.text+"</em>.");return t.join(" ")}function c(e){var t=!(!e.journal||!e.journal.name),n=t?"article":"inproceedings",r=e.structuredAuthors.first(),o=e.title&&e.title.text&&e.title.text.split(g)||[],a=[o.shift(),o.shift(),o.shift()].filter(function(e){return void 0!==e}).map(function(e,t){return t>0?e.substr(0,1).toUpperCase():e}).join(""),u=[r.lastName||r.firstName,e.year.text,a].map(function(e){return e.replace(v,"")}).join("").substr(0,45),l=e.structuredAuthors.map(s).join(" and "),c=t?"journal={"+i(e.journal.name)+"}":e.venue&&e.venue.text?"booktitle={"+i(e.venue.text)+"}":void 0,f=e.year&&e.year.text?"year={"+i(e.year.text)+"}":void 0,p=t&&e.journal.volume?"volume={"+i(e.journal.volume)+"}":void 0,d=t&&e.journal.pages?"pages={"+i(e.journal.pages)+"}":void 0,h=["title={"+i(e.title.text)+"}","author={"+i(l)+"}",c,f,p,d].filter(function(e){return void 0!==e}),y=h.reduce(function(e,t){return e+",\n  "+t},"")+"\n";return"<pre>@"+n+"{"+i(u)+y+"}</pre>"}function f(e){var t=!(!e.journal||!e.journal.name),n=t?"Journal Article":"Conference Proceedings",r=e.structuredAuthors.map(function(e){return"%A "+a(e)}),o=["%0 "+n,"%T "+e.title.text].concat(r.toArray()).concat([t?"%J "+e.journal.name:e.venue&&e.venue.text?"%B "+e.venue.text:void 0,t&&e.journal.volume?"%V "+e.journal.volume:void 0,t&&e.journal.pages?"%P "+e.journal.pages:void 0,e.year&&e.year.text?"%D "+e.year.text:void 0]).filter(function(e){return void 0!==e}).join("\n");return"<pre>"+o+"</pre>"}function p(e,t){switch(t){case y["default"].CHICAGO:case y["default"].MLA:return u(e,y["default"].MLA===t);case y["default"].APA:return l(e);case y["default"].BIBTEX:return c(e);case y["default"].ENDNOTE:return f(e);default:throw new Error("Unknown citation style: "+t)}}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.getMLACitation=u,n.getAPACitation=l,n.getBibTexCitation=c,n.getEndNoteCitation=f,n.getCitation=p;var h=e("../constants/citation-style"),y=r(h),m=[["{","\\{"],["}","\\}"],["$","\\$"],["Ä",'{\\"A'],["ä",'{\\"a}'],["Ë",'{\\"E}'],["ë",'{\\"{e}'],["Ï",'{\\"{I}'],["ï",'{\\"{i}'],["Ö",'{\\"{O}'],["ö",'{\\"{o}'],["Ü",'{\\"{U}'],["ü",'{\\"{u}'],["Ÿ",'{\\"{Y}'],["ÿ",'{\\"{y}'],["ß","\\ss"],["Ø","\\O"],["ø","\\o"],["Á","{\\'A}"],["á","{\\'a}"],["Ć","{\\'C}"],["ć","{\\'c}"],["É","{\\'E}"],["é","{\\'e}"],["Í","{\\'I}"],["í","{\\'i}"],["Ó","{\\'O}"],["ó","{\\'o}"],["Ú","{\\'U}"],["ú","{\\'u}"],["Ý","{\\'Y}"],["ý","{\\'y}"],["À","{\\`A}"],["à","{\\`a}"],["È","{\\`E}"],["è","{\\`e}"],["Ì","{\\`I}"],["ì","{\\`i}"],["Ò","{\\`O}"],["ò","{\\`o}"],["Ù","{\\`U}"],["ù","{\\`u}"],["Â","{\\^A}"],["â","{\\^a}"],["Ê","{\\^E}"],["ê","{\\^e}"],["Î","{\\^I}"],["î","{\\^i}"],["Ô","{\\^O}"],["ô","{\\^o}"],["Û","{\\^u}"],["û","{\\^u}"],["Ã","{\\~A}"],["ã","{\\~a}"],["Ñ","{\\~N}"],["ñ","{\\~n}"],["Õ","{\\~O}"],["õ","{\\~o}"],["Æ","{\\aE}"],["æ","{\\ae}"],["Œ","{\\OE}"],["æ","{\\oe}"],["Č","{\\vC}"],["č","{\\vc}"],["Š","{\\vS}"],["š","{\\vs}"],["ž","{\\vz}"],["Å","{\\AA}"],["å","{\\aa}"]],v=/\W/g,g=/\s/},{"../constants/citation-style":173}],223:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../util"),i=r(o),a=i.isBrowser&&window.history&&"function"==typeof window.history.go;n["default"]={maybeRouteToPrior:function(e,t,n){var r=e.makePath(n.to,n.params,n.query);return this.maybeRouteToPriorPath(e,t,r)},maybeRouteToPriorPath:function(e,t,n){if(a){var r=t.findIndex(n);if(r!==-1)return t.goTo(r),!0}return!1}}},{"../../util":221}],224:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../models/query"),i=e("../../constants/Author"),a=r(i),s=e("../../constants/sort-type"),u=r(s),l=e("merge"),c=r(l),f={changeRouteForQuery:function(e,t,n){var r=n;if(!r){var o=t.getCurrentRoutes(),i=o[o.length-1],a=i&&i.name||"search";r=a}t.transitionTo(r,t.getCurrentParams(),e.toQueryString())},routeForQuery:function(e,t,n,r){var i=n||"search",a=e instanceof o.Query?e:o.Query.from(e,t,r);return{to:i,query:a.toQueryString()}},routeForAuthorStatistic:function(){var e=arguments.length<=0||void 0===arguments[0]?{authorId:"",slug:""}:arguments[0],t=arguments[1],n=void 0;switch(t){case a["default"].CitationStatTypes.INFLUENTIAL:n=u["default"].INFLUENTIAL_CITATIONS.id;break;case a["default"].CitationStatTypes.VELOCITY:n=u["default"].CITATION_VELOCITY.id;break;case a["default"].CitationStatTypes.TOTAL:n=u["default"].TOTAL_CITATIONS.id;break;default:throw new Error("Unknown statistic: "+t)}var r=new o.Query({sort:n,autoEnableFilters:!1});return{to:"authorProfile",params:e,query:(0,c["default"])(r.toQueryString(),{scrollToResults:!0})}}};n["default"]=f},{"../../constants/Author":156,"../../constants/sort-type":175,"../../models/query":201,merge:277}],225:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},getHandlePosition:function(e,t,n){return t(e)-(n-t.rangeBand())/2},getScaleValForVal:function(e,t){for(var n=t(e);isNaN(n);)e-=1,n=t(e);return e},getHighHandleLabel:function(e,t,n){var r=e+n-1;return e===t&&(r=n>1?e+"-"+(e+n-1):e),r},getBubbleWidth:function(e,t){return e>1?2*t:t}};n["default"]=r},{}],226:[function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t)throw new Error("Attempt to wrap something which isn't a function.");if("function"==typeof e)return function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};if(void 0===e)return t;throw new Error("Attempt to wrap something with something which isn't a function")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{}],227:[function(e,t,n){!function(e,n,r){"use strict";!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var o=n(2),i=n(4),a=n(14),s=n(16),u=n(19),l=n(23),c=n(25);i(i.S+i.F*!n(28)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,p=a(e),d="function"==typeof this?this:Array,h=arguments,y=h.length,m=y>1?h[1]:r,v=m!==r,g=0,b=c(p);if(v&&(m=o(m,y>2?h[2]:r,2)),b==r||d==Array&&u(b))for(t=l(p.length),n=new d(t);t>g;g++)n[g]=v?m(p[g],g):p[g];else for(f=b.call(p),n=new d;!(i=f.next()).done;g++)n[g]=v?s(f,m,[i.value,g],!0):i.value;return n.length=g,n}})},function(e,t,n){var o=n(3);e.exports=function(e,t,n){if(o(e),t===r)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(5),o=n(6),i=n(7),a=n(12),s=n(2),u="prototype",l=function(e,t,n){var c,f,p,d,h=e&l.F,y=e&l.G,m=e&l.S,v=e&l.P,g=e&l.B,b=y?r:m?r[t]||(r[t]={}):(r[t]||{})[u],_=y?o:o[t]||(o[t]={}),w=_[u]||(_[u]={});y&&(n=t);for(c in n)f=!h&&b&&c in b,p=(f?b:n)[c],d=g&&f?s(p,r):v&&"function"==typeof p?s(Function.call,p):p,b&&!f&&a(b,c,p),_[c]!=p&&i(_,c,d),v&&w[c]!=p&&(w[c]=p)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,e.exports=l},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof n&&(n=r)},function(t,n){var r=t.exports={version:"1.2.6"};"number"==typeof e&&(e=r)},function(e,t,n){var r=n(8),o=n(9);e.exports=n(10)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(5),o=n(7),i=n(13)("src"),a="toString",s=Function[a],u=(""+s).split(a);n(6).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(n.hasOwnProperty(i)||o(n,i,e[t]?""+e[t]:u.join(String(t))),n.hasOwnProperty("name")||o(n,"name",t)),e===r?e[t]=n:(a||delete e[t],o(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(e===r?"":e,")_",(++n+o).toString(36))}},function(e,t,n){var r=n(15);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(e==r)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(17);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(a){var s=e["return"];throw s!==r&&o(s.call(e)),a}}},function(e,t,n){var r=n(18);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(20),i=n(21)("iterator"),a=Array.prototype;e.exports=function(e){return e!==r&&(o.Array===e||a[i]===e)}},function(e,t){e.exports={}},function(e,t,n){var r=n(22)("wks"),o=n(13),i=n(5).Symbol;e.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))}},function(e,t,n){var r=n(5),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(24),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var o=n(26),i=n(21)("iterator"),a=n(20);e.exports=n(6).getIteratorMethod=function(e){if(e!=r)return e[i]||e["@@iterator"]||a[o(e)]}},function(e,t,n){var o=n(27),i=n(21)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,s;return e===r?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:a?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(21)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){n=!0},i[r]=function(){return a},e(i)}catch(s){}return n}}]),"undefined"!=typeof t&&t.exports?t.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):n.core=e}(1,1)},{}],228:[function(e,t,n){"use strict";function r(){if(u.length)throw u.shift()}function o(e){var t;t=s.length?s.pop():new i,t.task=e,a(t)}function i(){this.task=null}var a=e("./raw"),s=[],u=[],l=a.makeRequestCallFromTimer(r);t.exports=o,i.prototype.call=function(){try{this.task.call()}catch(e){o.onerror?o.onerror(e):(u.push(e),l())}finally{this.task=null,s[s.length]=this}}},{"./raw":229}],229:[function(e,t,n){(function(e){"use strict";
function n(e){s.length||(a(),u=!0),s[s.length]=e}function r(){for(;l<s.length;){var e=l;if(l+=1,s[e].call(),l>c){for(var t=0,n=s.length-l;t<n;t++)s[t]=s[t+l];s.length-=l,l=0}}s.length=0,l=0,u=!1}function o(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}t.exports=n;var a,s=[],u=!1,l=0,c=1024,f=e.MutationObserver||e.WebKitMutationObserver;a="function"==typeof f?o(r):i(r),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],230:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===f?62:t===s||t===p?63:t<u?-1:t<u+10?t-u+26+26:t<c+26?t-c:t<l+26?t-l+26:void 0}function n(e){function n(e){l[f++]=e}var r,o,a,s,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new i(3*e.length/4-u),a=u>0?e.length-4:e.length;var f=0;for(r=0,o=0;r<a;r+=4,o+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),l}function o(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,a,s=e.length%3,u="";for(o=0,a=e.length-s;o<a;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=n(i);switch(s){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=o}("undefined"==typeof n?this.base64js={}:n)},{}],231:[function(e,t,n){(function(t){"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function a(e,t){if(e=y(e,t<0?0:0|m(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|g(t,n);return e=y(e,r),e.write(t,n),e}function u(e,t){if(i.isBuffer(t))return l(e,t);if(Q(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return f(e,t);if(t instanceof ArrayBuffer)return p(e,t)}return t.length?d(e,t):h(e,t)}function l(e,t){var n=0|m(t.length);return e=y(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|m(t.length);e=y(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e,t){var n=0|m(t.length);e=y(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t){return i.TYPED_ARRAY_SUPPORT?(t.byteLength,e=i._augment(new Uint8Array(t))):e=f(e,new Uint8Array(t)),e}function d(e,t){var n=0|m(t.length);e=y(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t){var n,r=0;"Buffer"===t.type&&Q(t.data)&&(n=t.data,r=0|m(n.length)),e=y(e,r);for(var o=0;o<r;o+=1)e[o]=255&n[o];return e}function y(e,t){i.TYPED_ARRAY_SUPPORT?(e=i._augment(new Uint8Array(t)),e.__proto__=i.prototype):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=i.poolSize>>>1;return n&&(e.parent=J),e}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function v(e,t){if(!(this instanceof v))return new v(e,t);var n=new i(e,t);return delete n.parent,n}function g(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return R(this,t,n);case"binary":return k(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function w(e,t,n,r){return Y(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return Y(z(t),e,n,r)}function T(e,t,n,r){return S(e,t,n,r)}function x(e,t,n,r){return Y(W(t),e,n,r)}function P(e,t,n,r){return Y($(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var u,l,c,f;switch(s){case 1:i<128&&(a=i);break;case 2:u=e[o+1],128===(192&u)&&(f=(31&i)<<6|63&u,f>127&&(a=f));break;case 3:u=e[o+1],l=e[o+2],128===(192&u)&&128===(192&l)&&(f=(15&i)<<12|(63&u)<<6|63&l,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=e[o+1],l=e[o+2],c=e[o+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return O(r)}function O(e){var t=e.length;if(t<=X)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=X));return n}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;i++)o+=B(e[i]);return o}function I(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||t<a)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function L(e,t,n,r,o,i){if(t>o||t<i)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function q(e,t,n,r,o){return o||L(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||L(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function U(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;a++){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function W(e){return G.toByteArray(U(e))}function Y(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}var G=e("base64-js"),K=e("ieee754"),Q=e("isarray");n.Buffer=i,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var J={};i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a&&e[o]===t[o];)++o;return o!==a&&(n=e[o],r=t[o]),n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Q(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},i.byteLength=g,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):b.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,o=0;n+o<e.length;o++)if(e[n+o]===t[r===-1?0:o-r]){if(r===-1&&(r=o),o-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=t,t=0|n,n=o}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"binary":return T(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,(void 0));for(var a=0;a<o;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||M(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||M(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),K.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),K.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),K.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),K.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||A(this,e,t,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||A(this,e,t,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var i=0,a=1,s=e<0?1:0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=e<0?1:0;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;o--)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;r<n;r++)this[r]=e;else{var o=V(e.toString()),i=o.length;for(r=t;r<n;r++)this[r]=o[r%i]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":230,ieee754:274,isarray:232}],232:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],233:[function(e,t,n){var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=r},{}],234:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e)}r.name||(r.name="AbstractCharBuffer"),r.prototype.append=void 0,r.prototype.write=void 0,r.prototype.read=void 0,r.prototype.charCodeAt=void 0,r.prototype.charAt=void 0,r.prototype.length=0,r.prototype.getLength=function(){return this.length},r.prototype.setLength=function(e){var t;if(e<0||e>this.length)throw t="newLength must be between 0 and "+this.length,t+=", "+e+" given.",new RangeError(t);return this.length=e,this},r.prototype.forEach=function(e,t){var n,r=this.length;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<r;n++)e.call(t,this.charCodeAt(n),n,this)},r.prototype.map=function(e,t){var n,r=this.length,o=new this.constructor(r);if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<r;n++)o.append(e.call(t,this.charCodeAt(n),n,this));return o},r.prototype.toString=void 0,r.isSupported=!1,r.fromString=null,r.fromStringConstr=function(e){return function(t,n,r){var o,i=t.length,a=new e(i);if(n)for(o=0;o<i;o++)a.append(n.call(r,t.charCodeAt(o),o,t));else for(o=0;o<i;o++)a.append(t.charCodeAt(o));return a}},t.exports=r},{}],235:[function(e,t,n){"use strict";var r,o,i=e("./abstract-char-buffer"),a=e("./string-buffer"),s=e("./string-array-buffer"),u=e("./typed-array-buffer"),l=e("./node-buffer"),c=null,f=[],p=[i,a,s,u,l];for(r=0;r<p.length;r++)o=p[r],o.isSupported&&(f.push(o.name),c=o);for(c.supported=f,c.CharBuffers=p,r=0;r<p.length;r++)o=p[r],c[o.name]=o;t.exports=c},{"./abstract-char-buffer":234,"./node-buffer":236,"./string-array-buffer":237,"./string-buffer":238,"./typed-array-buffer":239}],236:[function(e,t,n){(function(n){"use strict";function r(e){return this instanceof r?(o.call(this),e=e||16,void(this._buffer=new n(2*e))):new r(e)}var o=e("./abstract-char-buffer");r.prototype=new o,r.prototype.constructor=r,r.name||(r.name="NodeBuffer"),r.prototype._ensureCapacity=function(e){if(this._buffer.length<2*e){e<this._buffer.length&&(e=this._buffer.length);var t=new n(2*e);this._buffer.copy(t),this._buffer=t}},r.prototype.write=function(e,t){return"undefined"==typeof t&&(t=this.length),this._ensureCapacity(t+1),this._buffer.writeUInt16LE(e,2*t),this.length=t+1>this.length?t+1:this.length,this},r.prototype.append=r.prototype.write,r.prototype.read=function(e){return this._buffer.readUInt16LE(2*e)},r.prototype.charCodeAt=r.prototype.read,r.prototype.charAt=function(e){return String.fromCharCode(this.read(e))},r.prototype.toString=function(){return this._buffer.toString("utf16le",0,2*this.length)},r.isSupported=function(){try{var e=new n("A","utf16le");return 65===e.readUInt16LE(0)}catch(t){return!1}}(),r.fromString=o.fromStringConstr(r),t.exports=r}).call(this,e("buffer").Buffer)},{"./abstract-char-buffer":234,buffer:231}],237:[function(e,t,n){"use strict";function r(e){return this instanceof r?(o.call(this),e=e||16,void(this._buffer=new Array(e))):new r(e)}var o=e("./abstract-char-buffer");r.prototype=new o,r.prototype.constructor=r,r.name||(r.name="StringArrayBuffer"),r.prototype.write=function(e,t){return"undefined"==typeof t&&(t=this.length),this._buffer[t]=String.fromCharCode(e),this.length=t+1>this.length?t+1:this.length,this},r.prototype.append=r.prototype.write,r.prototype.read=function(e){return this._buffer[e].charCodeAt(0)},r.prototype.charAt=function(e){return this._buffer[e]},r.prototype.charCodeAt=r.prototype.read,r.prototype.toString=function(){return this._buffer.slice(0,this.length).join("")},r.isSupported=!0,r.fromString=o.fromStringConstr(r),t.exports=r},{"./abstract-char-buffer":234}],238:[function(e,t,n){"use strict";function r(){return this instanceof r?(o.call(this),void(this._buffer="")):new r}var o=e("./abstract-char-buffer");r.prototype=new o,r.prototype.constructor=r,r.name||(r.name="StringBuffer"),r.prototype.write=function(e,t){if("undefined"==typeof t||t===this.length)return this.append(e);var n=this._buffer.slice(0,t),r=this._buffer.slice(t+1);return this._buffer=n+String.fromCharCode(e)+r,this.length=this._buffer.length,this},r.prototype.append=function(e){return this._buffer+=String.fromCharCode(e),this.length=this._buffer.length,this},r.prototype.charCodeAt=function(e){return this._buffer.charCodeAt(e)},r.prototype.charAt=function(e){return this._buffer.charAt(e)},r.prototype.read=r.prototype.charCodeAt,r.prototype.setLength=function(e){return o.prototype.setLength.call(this,e),this._buffer=this._buffer.slice(0,this.length),this},r.prototype.toString=function(){return this._buffer},r.isSupported=!0,r.fromString=function(e,t){var n,o,i=new r,a=e.length;if(t)for(n="",o=0;o<a;o++)n+=String.fromCharCode(t.call(t,e.charCodeAt(o),o));else n=e;return i._buffer=n,i.length=a,i},t.exports=r},{"./abstract-char-buffer":234}],239:[function(e,t,n){"use strict";function r(e){return this instanceof r?(o.call(this),e=e||16,void(this._buffer=new Uint16Array(e))):new r(e)}var o=e("./abstract-char-buffer");r.prototype=new o,r.prototype.constructor=r,r.name||(r.name="TypedArrayBuffer"),r.prototype._ensureCapacity=function(e){if(this._buffer.length<e){e<2*this._buffer.length&&(e=2*this._buffer.length);var t=new Uint16Array(e);t.set(this._buffer),this._buffer=t}},r.prototype.write=function(e,t){return"undefined"==typeof t&&(t=this.length),this._ensureCapacity(t+1),this._buffer[t]=e,this.length=t+1>this.length?t+1:this.length,this},r.prototype.append=r.prototype.write,r.prototype.read=function(e){return this._buffer[e]},r.prototype.charCodeAt=r.prototype.read,r.prototype.charAt=function(e){return String.fromCharCode(this.read(e))},r.prototype.toString=function(){var e=65535,t=this.length,n="",r=0,o=0;if(t<=e)return String.fromCharCode.apply(null,this._buffer.subarray(r,t));do r=o,o+=e,o>t&&(o=t),n+=String.fromCharCode.apply(null,this._buffer.subarray(r,o));while(o<t);return n},r.isSupported=function(){try{return""===String.fromCharCode.apply(null,new Uint16Array)}catch(e){return!1}}(),r.fromString=o.fromStringConstr(r),t.exports=r},{"./abstract-char-buffer":234}],240:[function(e,t,n){function r(){for(var e=arguments,t=[],n=0;n<e.length;n++){var r=e[n];if(r)if("string"==typeof r||"number"==typeof r)t.push(r);else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&r[o]&&t.push(o)}return t.join(" ")}"undefined"!=typeof t&&t.exports&&(t.exports=r)},{}],241:[function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],242:[function(e,t,n){!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function n(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o(e){return null===e?NaN:+e}function i(e){return!isNaN(e)}function a(e){return{left:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}function s(e){return e.length}function u(e){for(var t=1;e*t%1;)t*=10;return t}function l(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function c(){this._=Object.create(null)}function f(e){return(e+="")===ma||e[0]===va?va+e:e}function p(e){return(e+="")[0]===va?e.slice(1):e}function d(e){return f(e)in this._}function h(e){return(e=f(e))in this._&&delete this._[e]}function y(){var e=[];for(var t in this._)e.push(p(t));return e}function m(){var e=0;for(var t in this._)++e;return e}function v(){for(var e in this._)return!1;return!0}function g(){this._=Object.create(null)}function b(e){return e}function _(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function w(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=ga.length;n<r;++n){var o=ga[n]+t;if(o in e)return o}}function S(){}function T(){}function x(e){function t(){for(var t,r=n,o=-1,i=r.length;++o<i;)(t=r[o].on)&&t.apply(this,arguments);return e}var n=[],r=new c;return t.on=function(t,o){var i,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(t)),o&&n.push(r.set(t,{on:o})),e)},t}function P(){ra.event.preventDefault()}function E(){for(var e,t=ra.event;e=t.sourceEvent;)t=e;return t}function C(e){for(var t=new T,n=0,r=arguments.length;++n<r;)t[arguments[n]]=x(t);return t.of=function(n,r){return function(o){try{var i=o.sourceEvent=ra.event;o.target=e,ra.event=o,t[o.type].apply(n,r)}finally{ra.event=i}}},t}function O(e){return _a(e,xa),e}function R(e){return"function"==typeof e?e:function(){return wa(e,this)}}function k(e){return"function"==typeof e?e:function(){return Sa(e,this)}}function j(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function o(){this.setAttribute(e,t)}function i(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ra.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?i:o}function I(e){return e.trim().replace(/\s+/g," ")}function M(e){return new RegExp("(?:^|\\s+)"+ra.requote(e)+"(?:\\s+|$)","g")}function A(e){return(e+"").trim().split(/^|\s+/)}function N(e,t){function n(){for(var n=-1;++n<o;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<o;)e[n](this,r)}e=A(e).map(D);var o=e.length;return"function"==typeof t?r:n}function D(e){var t=M(e);return function(n,r){if(o=n.classList)return r?o.add(e):o.remove(e);
var o=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(o)||n.setAttribute("class",I(o+" "+e))):n.setAttribute("class",I(o.replace(t," ")))}}function L(e,t,n){function r(){this.style.removeProperty(e)}function o(){this.style.setProperty(e,t,n)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?i:o}function q(e,t){function n(){delete this[e]}function r(){this[e]=t}function o(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?o:r}function F(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=ra.ns.qualify(e)).local?n:t}function U(){var e=this.parentNode;e&&e.removeChild(this)}function H(e){return{__data__:e}}function B(e){return function(){return Ta(this,e)}}function V(e){return arguments.length||(e=r),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function z(e,t){for(var n=0,r=e.length;n<r;n++)for(var o,i=e[n],a=0,s=i.length;a<s;a++)(o=i[a])&&t(o,a,n);return e}function $(e){return _a(e,Ea),e}function W(e){var t,n;return function(r,o,i){var a,s=e[i].update,u=s.length;for(i!=n&&(n=i,t=0),o>=t&&(t=o+1);!(a=s[t])&&++t<u;);return a}}function Y(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function o(){var o=u(t,ia(arguments));r.call(this),this.addEventListener(e,this[a]=o,o.$=n),o._=t}function i(){var t,n=new RegExp("^__on([^.]+)"+ra.requote(e)+"$");for(var r in this)if(t=r.match(n)){var o=this[r];this.removeEventListener(t[1],o,o.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=G;s>0&&(e=e.slice(0,s));var l=Ca.get(e);return l&&(e=l,u=K),s?t?o:r:t?S:i}function G(e,t){return function(n){var r=ra.event;ra.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ra.event=r}}}function K(e,t){var n=G(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function Q(t){var r=".dragsuppress-"+ ++Ra,o="click"+r,i=ra.select(n(t)).on("touchmove"+r,P).on("dragstart"+r,P).on("selectstart"+r,P);if(null==Oa&&(Oa=!("onselectstart"in t)&&w(t.style,"userSelect")),Oa){var a=e(t).style,s=a[Oa];a[Oa]="none"}return function(e){if(i.on(r,null),Oa&&(a[Oa]=s),e){var t=function(){i.on(o,null)};i.on(o,function(){P(),t()},!0),setTimeout(t,0)}}}function J(e,t){t.changedTouches&&(t=t.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var o=r.createSVGPoint();if(ka<0){var i=n(e);if(i.scrollX||i.scrollY){r=ra.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();ka=!(a.f||a.e),r.remove()}}return ka?(o.x=t.pageX,o.y=t.pageY):(o.x=t.clientX,o.y=t.clientY),o=o.matrixTransform(e.getScreenCTM().inverse()),[o.x,o.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function X(){return ra.event.changedTouches[0].identifier}function Z(e){return e>0?1:e<0?-1:0}function ee(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function te(e){return e>1?0:e<-1?Ma:Math.acos(e)}function ne(e){return e>1?Da:e<-1?-Da:Math.asin(e)}function re(e){return((e=Math.exp(e))-1/e)/2}function oe(e){return((e=Math.exp(e))+1/e)/2}function ie(e){return((e=Math.exp(2*e))-1)/(e+1)}function ae(e){return(e=Math.sin(e/2))*e}function se(){}function ue(e,t,n){return this instanceof ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ue?new ue(e.h,e.s,e.l):Se(""+e,Te,ue):new ue(e,t,n)}function le(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(a-i)*e/60:e<180?a:e<240?i+(a-i)*(240-e)/60:i}function o(e){return Math.round(255*r(e))}var i,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+t):n+t-n*t,i=2*n-a,new ge(o(e+120),o(e),o(e-120))}function ce(e,t,n){return this instanceof ce?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof ce?new ce(e.h,e.c,e.l):e instanceof pe?he(e.l,e.a,e.b):he((e=xe((e=ra.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ce(e,t,n)}function fe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new pe(n,Math.cos(e*=La)*t,Math.sin(e)*t)}function pe(e,t,n){return this instanceof pe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof pe?new pe(e.l,e.a,e.b):e instanceof ce?fe(e.h,e.c,e.l):xe((e=ge(e)).r,e.g,e.b):new pe(e,t,n)}function de(e,t,n){var r=(e+16)/116,o=r+t/500,i=r-n/200;return o=ye(o)*Ga,r=ye(r)*Ka,i=ye(i)*Qa,new ge(ve(3.2404542*o-1.5371385*r-.4985314*i),ve(-.969266*o+1.8760108*r+.041556*i),ve(.0556434*o-.2040259*r+1.0572252*i))}function he(e,t,n){return e>0?new ce(Math.atan2(n,t)*qa,Math.sqrt(t*t+n*n),e):new ce(NaN,NaN,e)}function ye(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function me(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ve(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ge(e,t,n){return this instanceof ge?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ge?new ge(e.r,e.g,e.b):Se(""+e,ge,le):new ge(e,t,n)}function be(e){return new ge(e>>16,e>>8&255,255&e)}function _e(e){return be(e)+""}function we(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Se(e,t,n){var r,o,i,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return t(Ee(o[0]),Ee(o[1]),Ee(o[2]))}return(i=Za.get(e.toLowerCase()))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&i)>>4,a=a>>4|a,s=240&i,s=s>>4|s,u=15&i,u=u<<4|u):7===e.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,u=255&i)),t(a,s,u))}function Te(e,t,n){var r,o,i=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-i,u=(a+i)/2;return s?(o=u<.5?s/(a+i):s/(2-a-i),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,o=u>0&&u<1?0:r),new ue(r,o,u)}function xe(e,t,n){e=Pe(e),t=Pe(t),n=Pe(n);var r=me((.4124564*e+.3575761*t+.1804375*n)/Ga),o=me((.2126729*e+.7151522*t+.072175*n)/Ka),i=me((.0193339*e+.119192*t+.9503041*n)/Qa);return pe(116*o-16,500*(r-o),200*(o-i))}function Pe(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ee(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ce(e){return"function"==typeof e?e:function(){return e}}function Oe(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Re(t,n,e,r)}}function Re(e,t,n,r){function o(){var e,t=u.status;if(!t&&je(u)||t>=200&&t<300||304===t){try{e=n.call(i,u)}catch(r){return void a.error.call(i,r)}a.load.call(i,e)}else a.error.call(i,u)}var i={},a=ra.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=o:u.onreadystatechange=function(){u.readyState>3&&o()},u.onprogress=function(e){var t=ra.event;ra.event=e;try{a.progress.call(i,u)}finally{ra.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(l=e,i):l},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(ia(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=o&&i.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},ra.rebind(i,a,"on"),null==r?i:i.get(ke(r))}function ke(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function je(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ie(){var e=Me(),t=Ae()-e;t>24?(isFinite(t)&&(clearTimeout(rs),rs=setTimeout(Ie,t)),ns=0):(ns=1,is(Ie))}function Me(){var e=Date.now();for(os=es;os;)e>=os.t&&(os.f=os.c(e-os.t)),os=os.n;return e}function Ae(){for(var e,t=es,n=1/0;t;)t.f?t=e?e.n=t.n:es=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return ts=e,n}function Ne(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function De(e,t){var n=Math.pow(10,3*ya(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Le(e){var t=e.decimal,n=e.thousands,r=e.grouping,o=e.currency,i=r&&n?function(e,t){for(var o=e.length,i=[],a=0,s=r[0],u=0;o>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),i.push(e.substring(o-=s,o+s)),!((u+=s+1)>t));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:b;return function(e){var n=ss.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],p=n[8],d=n[9],h=1,y="",m="",v=!1,g=!0;switch(p&&(p=+p.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":h=100,m="%",d="f";break;case"p":h=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(y="0"+d.toLowerCase());case"c":g=!1;case"d":v=!0,p=0;break;case"s":h=-1,d="r"}"$"===u&&(y=o[0],m=o[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=us.get(d)||qe;var b=l&&f;return function(e){var n=m;if(v&&e%1)return"";var o=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===s?"":s;if(h<0){var u=ra.formatPrefix(e,p);e=u.scale(e),n=u.symbol+m}else e*=h;e=d(e,p);var _,w,S=e.lastIndexOf(".");if(S<0){var T=g?e.lastIndexOf("e"):-1;T<0?(_=e,w=""):(_=e.substring(0,T),w=e.substring(T))}else _=e.substring(0,S),w=t+e.substring(S+1);!l&&f&&(_=i(_,1/0));var x=y.length+_.length+w.length+(b?0:o.length),P=x<c?new Array(x=c-x+1).join(r):"";return b&&(_=i(P+_,P.length?c-w.length:1/0)),o+=y,e=_+w,("<"===a?o+e+P:">"===a?P+o+e:"^"===a?P.substring(0,x>>=1)+o+e+P.substring(x):o+(b?e:P+e))+n}}}function qe(e){return e+""}function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ue(e,t,n){function r(t){var n=e(t),r=i(n,1);return t-n<r-t?n:r}function o(n){return t(n=e(new cs(n-1)),1),n}function i(e,n){return t(e=new cs((+e)),n),e}function a(e,r,i){var a=o(e),s=[];if(i>1)for(;a<r;)n(a)%i||s.push(new Date((+a))),t(a,1);else for(;a<r;)s.push(new Date((+a))),t(a,1);return s}function s(e,t,n){try{cs=Fe;var r=new Fe;return r._=e,a(r,t,n)}finally{cs=Date}}e.floor=e,e.round=r,e.ceil=o,e.offset=i,e.range=a;var u=e.utc=He(e);return u.floor=u,u.round=He(r),u.ceil=He(o),u.offset=He(i),u.range=s,e}function He(e){return function(t,n){try{cs=Fe;var r=new Fe;return r._=t,e(r,n)._}finally{cs=Date}}}function Be(e){function t(e){function t(t){for(var n,o,i,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(o=ps[n=e.charAt(++s)])&&(n=e.charAt(++s)),(i=O[n])&&(n=i(t,null==o?"e"===n?" ":"0":o)),a.push(n),u=s+1);return a.push(e.slice(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(r,e,t,0);if(o!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cs!==Fe,a=new(i?Fe:cs);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var o,i,a,s=0,u=t.length,l=n.length;s<u;){if(r>=l)return-1;if(o=t.charCodeAt(s++),37===o){if(a=t.charAt(s++),i=R[a in ps?t.charAt(s++):a],!i||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.w=T.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.m=P.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,O.c.toString(),t,r)}function u(e,t,r){return n(e,O.x.toString(),t,r)}function l(e,t,r){return n(e,O.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var f=e.dateTime,p=e.date,d=e.time,h=e.periods,y=e.days,m=e.shortDays,v=e.months,g=e.shortMonths;t.utc=function(e){function n(e){try{cs=Fe;var t=new cs;return t._=e,r(t)}finally{cs=Date}}var r=t(e);return n.parse=function(e){try{cs=Fe;var t=r.parse(e);return t&&t._}finally{cs=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ut;var b=ra.map(),_=ze(y),w=$e(y),S=ze(m),T=$e(m),x=ze(v),P=$e(v),E=ze(g),C=$e(g);h.forEach(function(e,t){b.set(e.toLowerCase(),t)});var O={a:function(e){return m[e.getDay()]},A:function(e){return y[e.getDay()]},b:function(e){return g[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(f),d:function(e,t){return Ve(e.getDate(),t,2)},e:function(e,t){return Ve(e.getDate(),t,2)},H:function(e,t){return Ve(e.getHours(),t,2)},I:function(e,t){return Ve(e.getHours()%12||12,t,2)},j:function(e,t){return Ve(1+ls.dayOfYear(e),t,3)},L:function(e,t){return Ve(e.getMilliseconds(),t,3)},m:function(e,t){return Ve(e.getMonth()+1,t,2)},M:function(e,t){return Ve(e.getMinutes(),t,2)},p:function(e){return h[+(e.getHours()>=12)]},S:function(e,t){return Ve(e.getSeconds(),t,2)},U:function(e,t){return Ve(ls.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ve(ls.mondayOfYear(e),t,2)},x:t(p),X:t(d),y:function(e,t){return Ve(e.getFullYear()%100,t,2)},Y:function(e,t){return Ve(e.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},R={a:r,A:o,b:i,B:a,c:s,d:et,e:et,H:nt,I:nt,j:tt,L:it,m:Ze,M:rt,p:c,S:ot,U:Ye,w:We,W:Ge,x:u,X:l,y:Qe,Y:Ke,Z:Je,"%":st};return t}function Ve(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function ze(e){return new RegExp("^(?:"+e.map(ra.requote).join("|")+")","i")}function $e(e){for(var t=new c,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function We(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ye(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ge(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ke(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Qe(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.y=Xe(+r[0]),n+r[0].length):-1}function Je(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Xe(e){return e+(e>68?1900:2e3)}function Ze(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function et(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function nt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ot(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function it(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function at(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=ya(t)/60|0,o=ya(t)%60;return n+Ve(r,"0",2)+Ve(o,"0",2)}function st(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ut(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function lt(){}function ct(e,t,n){var r=n.s=e+t,o=r-e,i=r-o;n.t=e-i+(t-o)}function ft(e,t){e&&gs.hasOwnProperty(e.type)&&gs[e.type](e,t)}function pt(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function dt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)pt(e[n],t,1);t.polygonEnd()}function ht(){function e(e,t){e*=La,t=t*La/2+Ma/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),l=Math.sin(t),c=i*l,f=o*u+c*Math.cos(s),p=c*a*Math.sin(s);_s.add(Math.atan2(p,f)),r=e,o=u,i=l}var t,n,r,o,i;ws.point=function(a,s){ws.point=e,r=(t=a)*La,o=Math.cos(s=(n=s)*La/2+Ma/4),i=Math.sin(s)},ws.lineEnd=function(){e(t,n)}}function yt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function mt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function gt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function bt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _t(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function wt(e){return[Math.atan2(e[1],e[0]),ne(e[2])]}function St(e,t){return ya(e[0]-t[0])<ja&&ya(e[1]-t[1])<ja}function Tt(e,t){e*=La;var n=Math.cos(t*=La);xt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function xt(e,t,n){++Ss,xs+=(e-xs)/Ss,Ps+=(t-Ps)/Ss,Es+=(n-Es)/Ss}function Pt(){function e(e,o){e*=La;var i=Math.cos(o*=La),a=i*Math.cos(e),s=i*Math.sin(e),u=Math.sin(o),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-t*u)*l+(l=t*s-n*a)*l),t*a+n*s+r*u);Ts+=l,Cs+=l*(t+(t=a)),Os+=l*(n+(n=s)),Rs+=l*(r+(r=u)),xt(t,n,r)}var t,n,r;Ms.point=function(o,i){o*=La;var a=Math.cos(i*=La);t=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Ms.point=e,xt(t,n,r)}}function Et(){Ms.point=Tt}function Ct(){function e(e,t){e*=La;var n=Math.cos(t*=La),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=o*u-i*s,c=i*a-r*u,f=r*s-o*a,p=Math.sqrt(l*l+c*c+f*f),d=r*a+o*s+i*u,h=p&&-te(d)/p,y=Math.atan2(p,d);ks+=h*l,js+=h*c,Is+=h*f,Ts+=y,Cs+=y*(r+(r=a)),Os+=y*(o+(o=s)),Rs+=y*(i+(i=u)),xt(r,o,i)}var t,n,r,o,i;Ms.point=function(a,s){t=a,n=s,Ms.point=e,a*=La;var u=Math.cos(s*=La);r=u*Math.cos(a),o=u*Math.sin(a),i=Math.sin(s),xt(r,o,i)},Ms.lineEnd=function(){e(t,n),Ms.lineEnd=Et,Ms.point=Tt}}function Ot(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Rt(){return!0}function kt(e,t,n,r,o){var i=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(St(n,r)){o.lineStart();for(var s=0;s<t;++s)o.point((n=e[s])[0],n[1]);return void o.lineEnd()}var u=new It(n,e,null,(!0)),l=new It(n,null,u,(!1));u.o=l,i.push(u),a.push(l),u=new It(r,e,null,(!1)),l=new It(r,null,u,(!0)),u.o=l,i.push(u),a.push(l)}}),a.sort(t),jt(i),jt(a),i.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,f,p=i[0];;){for(var d=p,h=!0;d.v;)if((d=d.n)===p)return;c=d.z,o.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(var s=0,l=c.length;s<l;++s)o.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,o);d=d.n}else{if(h){c=d.p.z;for(var s=c.length-1;s>=0;--s)o.point((f=c[s])[0],f[1])}else r(d.x,d.p.x,-1,o);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);o.lineEnd()}}}function jt(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function It(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Mt(e,t,n,r){return function(o,i){function a(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function s(e,t){var n=o(e,t);m.point(n[0],n[1])}function u(){g.point=s,m.lineStart()}function l(){g.point=a,m.lineEnd()}function c(e,t){y.push([e,t]);var n=o(e,t);_.point(n[0],n[1])}function f(){_.lineStart(),y=[]}function p(){c(y[0][0],y[0][1]),_.lineEnd();var e,t=_.clean(),n=b.buffer(),r=n.length;if(y.pop(),h.push(y),y=null,r)if(1&t){e=n[0];var o,r=e.length-1,a=-1;if(r>0){for(w||(i.polygonStart(),w=!0),i.lineStart();++a<r;)i.point((o=e[a])[0],o[1]);i.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),d.push(n.filter(At))}var d,h,y,m=t(i),v=o.invert(r[0],r[1]),g={point:a,lineStart:u,lineEnd:l,polygonStart:function(){g.point=c,g.lineStart=f,g.lineEnd=p,d=[],h=[]},polygonEnd:function(){g.point=a,g.lineStart=u,g.lineEnd=l,d=ra.merge(d);var e=Ut(v,h);d.length?(w||(i.polygonStart(),w=!0),kt(d,Dt,e,n,i)):e&&(w||(i.polygonStart(),w=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),d=h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Nt(),_=t(b),w=!1;return g}}function At(e){return e.length>1}function Nt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:S,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Dt(e,t){return((e=e.x)[0]<0?e[1]-Da-ja:Da-e[1])-((t=t.x)[0]<0?t[1]-Da-ja:Da-t[1])}function Lt(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var s=i>0?Ma:-Ma,u=ya(i-n);ya(u-Ma)<ja?(e.point(n,r=(r+a)/2>0?Da:-Da),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),t=0):o!==s&&u>=Ma&&(ya(n-o)<ja&&(n-=o*ja),ya(i-s)<ja&&(i-=s*ja),r=qt(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=i,r=a),o=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function qt(e,t,n,r){var o,i,a=Math.sin(e-n);return ya(a)>ja?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(t))*Math.sin(e))/(o*i*a)):(t+r)/2}function Ft(e,t,n,r){var o;if(null==e)o=n*Da,r.point(-Ma,o),r.point(0,o),r.point(Ma,o),r.point(Ma,0),r.point(Ma,-o),r.point(0,-o),r.point(-Ma,-o),r.point(-Ma,0),r.point(-Ma,o);else if(ya(e[0]-t[0])>ja){var i=e[0]<t[0]?Ma:-Ma;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}function Ut(e,t){var n=e[0],r=e[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;_s.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],p=f[0],d=f[1]/2+Ma/4,h=Math.sin(d),y=Math.cos(d),m=1;;){m===c&&(m=0),e=l[m];var v=e[0],g=e[1]/2+Ma/4,b=Math.sin(g),_=Math.cos(g),w=v-p,S=w>=0?1:-1,T=S*w,x=T>Ma,P=h*b;if(_s.add(Math.atan2(P*S*Math.sin(T),y*_+P*Math.cos(T))),i+=x?w+S*Aa:w,x^p>=n^v>=n){var E=vt(yt(f),yt(e));_t(E);var C=vt(o,E);_t(C);var O=(x^w>=0?-1:1)*ne(C[2]);(r>O||r===O&&(E[0]||E[1]))&&(a+=x^w>=0?1:-1)}if(!m++)break;p=v,h=b,y=_,f=e}}return(i<-ja||i<ja&&_s<0)^1&a}function Ht(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e){var n,i,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,p){var d,h=[f,p],y=t(f,p),m=a?y?0:o(f,p):y?o(f+(f<0?Ma:-Ma),p):0;if(!n&&(l=u=y)&&e.lineStart(),y!==u&&(d=r(n,h),(St(n,d)||St(h,d))&&(h[0]+=ja,h[1]+=ja,y=t(h[0],h[1]))),y!==u)c=0,y?(e.lineStart(),d=r(h,n),e.point(d[0],d[1])):(d=r(n,h),e.point(d[0],d[1]),e.lineEnd()),n=d;else if(s&&n&&a^y){var v;m&i||!(v=r(h,n,!0))||(c=0,a?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!y||n&&St(n,h)||e.point(h[0],h[1]),n=h,u=y,i=m},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=yt(e),o=yt(t),a=[1,0,0],s=vt(r,o),u=mt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var f=i*u/c,p=-i*l/c,d=vt(a,s),h=bt(a,f),y=bt(s,p);gt(h,y);var m=d,v=mt(h,m),g=mt(m,m),b=v*v-g*(mt(h,h)-1);if(!(b<0)){var _=Math.sqrt(b),w=bt(m,(-v-_)/g);if(gt(w,h),w=wt(w),!n)return w;var S,T=e[0],x=t[0],P=e[1],E=t[1];x<T&&(S=T,T=x,x=S);var C=x-T,O=ya(C-Ma)<ja,R=O||C<ja;if(!O&&E<P&&(S=P,P=E,E=S),R?O?P+E>0^w[1]<(ya(w[0]-T)<ja?P:E):P<=w[1]&&w[1]<=E:C>Ma^(T<=w[0]&&w[0]<=x)){var k=bt(m,(-v+_)/g);return gt(k,h),[w,wt(k)]}}}function o(t,n){var r=a?e:Ma-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var i=Math.cos(e),a=i>0,s=ya(i)>ja,u=yn(e,6*La);return Mt(t,n,u,a?[0,-e]:[-Ma,e-Ma])}function Bt(e,t,n,r){return function(o){var i,a=o.a,s=o.b,u=a.x,l=a.y,c=s.x,f=s.y,p=0,d=1,h=c-u,y=f-l;if(i=e-u,h||!(i>0)){if(i/=h,h<0){if(i<p)return;i<d&&(d=i)}else if(h>0){if(i>d)return;i>p&&(p=i)}if(i=n-u,h||!(i<0)){if(i/=h,h<0){if(i>d)return;i>p&&(p=i)}else if(h>0){if(i<p)return;i<d&&(d=i)}if(i=t-l,y||!(i>0)){if(i/=y,y<0){if(i<p)return;i<d&&(d=i)}else if(y>0){if(i>d)return;i>p&&(p=i)}if(i=r-l,y||!(i<0)){if(i/=y,y<0){if(i>d)return;i>p&&(p=i)}else if(y>0){if(i<p)return;i<d&&(d=i)}return p>0&&(o.a={x:u+p*h,y:l+p*y}),d<1&&(o.b={x:u+d*h,y:l+d*y}),o}}}}}}function Vt(e,t,n,r){function o(r,o){return ya(r[0]-e)<ja?o>0?0:3:ya(r[0]-n)<ja?o>0?2:1:ya(r[1]-t)<ja?o>0?1:0:o>0?3:2}function i(e,t){return a(e.x,t.x)}function a(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=m.length,r=e[1],o=0;o<n;++o)for(var i,a=1,s=m[o],u=s.length,l=s[0];a<u;++a)i=s[a],l[1]<=r?i[1]>r&&ee(l,i,e)>0&&++t:i[1]<=r&&ee(l,i,e)<0&&--t,l=i;return 0!==t}function l(i,s,u,l){var c=0,f=0;if(null==i||(c=o(i,u))!==(f=o(s,u))||a(i,s)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==f)}else l.point(s[0],s[1])}function c(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function f(e,t){c(e,t)&&s.point(e,t)}function p(){R.point=h,m&&m.push(v=[]),x=!0,T=!1,w=S=NaN}function d(){y&&(h(g,b),_&&T&&C.rejoin(),y.push(C.buffer())),R.point=f,T&&s.lineEnd()}function h(e,t){e=Math.max(-Ns,Math.min(Ns,e)),t=Math.max(-Ns,Math.min(Ns,t));var n=c(e,t);if(m&&v.push([e,t]),x)g=e,b=t,_=n,x=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&T)s.point(e,t);else{var r={a:{x:w,y:S},b:{x:e,y:t}};O(r)?(T||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),P=!1):n&&(s.lineStart(),s.point(e,t),P=!1)}w=e,S=t,T=n}var y,m,v,g,b,_,w,S,T,x,P,E=s,C=Nt(),O=Bt(e,t,n,r),R={point:f,lineStart:p,lineEnd:d,polygonStart:function(){s=C,y=[],m=[],P=!0},polygonEnd:function(){s=E,y=ra.merge(y);var t=u([e,r]),n=P&&t,o=y.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),o&&kt(y,i,t,l,s),s.polygonEnd()),y=m=v=null}};return R}}function zt(e){var t=0,n=Ma/3,r=sn(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*Ma/180,n=e[1]*Ma/180):[t/Ma*180,n/Ma*180]},o}function $t(e,t){function n(e,t){var n=Math.sqrt(i-2*o*Math.sin(t))/o;return[n*Math.sin(e*=o),a-n*Math.cos(e)]}var r=Math.sin(e),o=(r+Math.sin(t))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/o,ne((i-(e*e+n*n)*o*o)/(2*o))]},n}function Wt(){function e(e,t){Ls+=o*e-r*t,r=e,o=t}var t,n,r,o;Bs.point=function(i,a){Bs.point=e,t=r=i,n=o=a},Bs.lineEnd=function(){e(t,n)}}function Yt(e,t){e<qs&&(qs=e),e>Us&&(Us=e),t<Fs&&(Fs=t),t>Hs&&(Hs=t)}function Gt(){function e(e,t){a.push("M",e,",",t,i)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function o(){a.push("Z")}var i=Kt(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return i=Kt(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Kt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Qt(e,t){xs+=e,Ps+=t,++Es}function Jt(){function e(e,r){var o=e-t,i=r-n,a=Math.sqrt(o*o+i*i);Cs+=a*(t+e)/2,Os+=a*(n+r)/2,Rs+=a,Qt(t=e,n=r)}var t,n;zs.point=function(r,o){zs.point=e,Qt(t=r,n=o)}}function Xt(){zs.point=Qt}function Zt(){function e(e,t){var n=e-r,i=t-o,a=Math.sqrt(n*n+i*i);Cs+=a*(r+e)/2,Os+=a*(o+t)/2,Rs+=a,a=o*e-r*t,ks+=a*(r+e),js+=a*(o+t),Is+=3*a,Qt(r=e,o=t)}var t,n,r,o;zs.point=function(i,a){zs.point=e,Qt(t=r=i,n=o=a)},zs.lineEnd=function(){e(t,n)}}function en(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Aa)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function o(){s.point=t}function i(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=t},pointRadius:function(e){return a=e,s},result:S};return s}function tn(e){function t(e){return(s?r:n)(e)}function n(t){return on(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,x.point=i,t.lineStart()}function i(n,r){var i=yt([n,r]),a=e(n,r);o(b,_,g,w,S,T,b=a[0],_=a[1],g=n,w=i[0],S=i[1],T=i[2],s,t),t.point(b,_)}function a(){x.point=n,t.lineEnd()}function u(){r(),x.point=l,x.lineEnd=c}function l(e,t){i(f=e,p=t),d=b,h=_,y=w,m=S,v=T,x.point=i}function c(){o(b,_,g,w,S,T,d,h,f,y,m,v,s,t),x.lineEnd=a,a()}var f,p,d,h,y,m,v,g,b,_,w,S,T,x={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),x.lineStart=u},polygonEnd:function(){t.polygonEnd(),x.lineStart=r}};return x}function o(t,n,r,s,u,l,c,f,p,d,h,y,m,v){var g=c-t,b=f-n,_=g*g+b*b;if(_>4*i&&m--){var w=s+d,S=u+h,T=l+y,x=Math.sqrt(w*w+S*S+T*T),P=Math.asin(T/=x),E=ya(ya(T)-1)<ja||ya(r-p)<ja?(r+p)/2:Math.atan2(S,w),C=e(E,P),O=C[0],R=C[1],k=O-t,j=R-n,I=b*k-g*j;(I*I/_>i||ya((g*k+b*j)/_-.5)>.3||s*d+u*h+l*y<a)&&(o(t,n,r,s,u,l,O,R,E,w/=x,S/=x,T,m,v),v.point(O,R),o(O,R,E,w,S,T,c,f,p,d,h,y,m,v))}}var i=.5,a=Math.cos(30*La),s=16;return t.precision=function(e){return arguments.length?(s=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function nn(e){var t=tn(function(t,n){return e([t*qa,n*qa])});return function(e){return un(t(e))}}function rn(e){this.stream=e}function on(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function an(e){return sn(function(){return e})()}function sn(e){function t(e){return e=s(e[0]*La,e[1]*La),[e[0]*p+u,l-e[1]*p]}function n(e){return e=s.invert((e[0]-u)/p,(l-e[1])/p),e&&[e[0]*qa,e[1]*qa]}function r(){s=Ot(a=fn(v,g,_),i);var e=i(y,m);return u=d-e[0]*p,l=h+e[1]*p,o()}function o(){return c&&(c.valid=!1,c=null),t}var i,a,s,u,l,c,f=tn(function(e,t){return e=i(e,t),[e[0]*p+u,l-e[1]*p]}),p=150,d=480,h=250,y=0,m=0,v=0,g=0,_=0,w=As,S=b,T=null,x=null;return t.stream=function(e){return c&&(c.valid=!1),c=un(w(a,f(S(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(w=null==e?(T=e,As):Ht((T=+e)*La),o()):T},t.clipExtent=function(e){return arguments.length?(x=e,S=e?Vt(e[0][0],e[0][1],e[1][0],e[1][1]):b,o()):x},t.scale=function(e){return arguments.length?(p=+e,r()):p},t.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],r()):[d,h]},t.center=function(e){return arguments.length?(y=e[0]%360*La,m=e[1]%360*La,r()):[y*qa,m*qa]},t.rotate=function(e){return arguments.length?(v=e[0]%360*La,g=e[1]%360*La,_=e.length>2?e[2]%360*La:0,r()):[v*qa,g*qa,_*qa]},ra.rebind(t,f,"precision"),function(){return i=e.apply(this,arguments),t.invert=i.invert&&n,r()}}function un(e){return on(e,function(t,n){e.point(t*La,n*La)})}function ln(e,t){return[e,t]}function cn(e,t){return[e>Ma?e-Aa:e<-Ma?e+Aa:e,t]}function fn(e,t,n){return e?t||n?Ot(dn(e),hn(t,n)):dn(e):t||n?hn(t,n):cn}function pn(e){return function(t,n){return t+=e,[t>Ma?t-Aa:t<-Ma?t+Aa:t,n]}}function dn(e){var t=pn(e);return t.invert=pn(-e),t}function hn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*o;return[Math.atan2(u*i-c*a,s*r-l*o),ne(c*i+u*a)]}var r=Math.cos(e),o=Math.sin(e),i=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*r+c*o),ne(c*r-s*o)]},n}function yn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(o,i,a,s){var u=a*t;null!=o?(o=mn(n,o),i=mn(n,i),(a>0?o<i:o>i)&&(o+=a*Aa)):(o=e+a*Aa,i=e-.5*u);for(var l,c=o;a>0?c>i:c<i;c-=u)s.point((l=wt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function mn(e,t){var n=yt(t);n[0]-=e,_t(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-ja)%(2*Math.PI)}function vn(e,t,n){var r=ra.range(e,t-ja,n).concat(t);return function(e){
return r.map(function(t){return[e,t]})}}function gn(e,t,n){var r=ra.range(e,t-ja,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function bn(e){return e.source}function _n(e){return e.target}function wn(e,t,n,r){var o=Math.cos(t),i=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=o*Math.cos(e),l=o*Math.sin(e),c=a*Math.cos(n),f=a*Math.sin(n),p=2*Math.asin(Math.sqrt(ae(r-t)+o*a*ae(n-e))),d=1/Math.sin(p),h=p?function(e){var t=Math.sin(e*=p)*d,n=Math.sin(p-e)*d,r=n*u+t*c,o=n*l+t*f,a=n*i+t*s;return[Math.atan2(o,r)*qa,Math.atan2(a,Math.sqrt(r*r+o*o))*qa]}:function(){return[e*qa,t*qa]};return h.distance=p,h}function Sn(){function e(e,o){var i=Math.sin(o*=La),a=Math.cos(o),s=ya((e*=La)-t),u=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*u)*s),n*i+r*a*u),t=e,n=i,r=a}var t,n,r;Ws.point=function(o,i){t=o*La,n=Math.sin(i*=La),r=Math.cos(i),Ws.point=e},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=S}}function Tn(e,t){function n(t,n){var r=Math.cos(t),o=Math.cos(n),i=e(r*o);return[i*o*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),o=t(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(e*i,r*a),Math.asin(r&&n*i/r)]},n}function xn(e,t){function n(e,t){a>0?t<-Da+ja&&(t=-Da+ja):t>Da-ja&&(t=Da-ja);var n=a/Math.pow(o(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),o=function(e){return Math.tan(Ma/4+e/2)},i=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(o(t)/o(e)),a=r*Math.pow(o(e),i)/i;return i?(n.invert=function(e,t){var n=a-t,r=Z(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Da]},n):En}function Pn(e,t){function n(e,t){var n=i-t;return[n*Math.sin(o*e),i-n*Math.cos(o*e)]}var r=Math.cos(e),o=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),i=r/o+e;return ya(o)<ja?ln:(n.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/o,i-Z(o)*Math.sqrt(e*e+n*n)]},n)}function En(e,t){return[e,Math.log(Math.tan(Ma/4+t/2))]}function Cn(e){var t,n=an(e),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=o.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=i.apply(n,arguments);if(a===n){if(t=null==e){var s=Ma*r(),u=o();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function On(e,t){return[Math.log(Math.tan(Ma/4+t/2)),-e]}function Rn(e){return e[0]}function kn(e){return e[1]}function jn(e){for(var t=e.length,n=[0,1],r=2,o=2;o<t;o++){for(;r>1&&ee(e[n[r-2]],e[n[r-1]],e[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function In(e,t){return e[0]-t[0]||e[1]-t[1]}function Mn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function An(e,t,n,r){var o=e[0],i=n[0],a=t[0]-o,s=r[0]-i,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,p=(s*(u-l)-f*(o-i))/(f*a-s*c);return[o+p*a,u+p*c]}function Nn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Dn(){rr(this),this.edge=this.site=this.circle=null}function Ln(e){var t=ou.pop()||new Dn;return t.site=e,t}function qn(e){Gn(e),tu.remove(e),ou.push(e),rr(e)}function Fn(e){var t=e.circle,n=t.x,r=t.cy,o={x:n,y:r},i=e.P,a=e.N,s=[e];qn(e);for(var u=i;u.circle&&ya(n-u.circle.x)<ja&&ya(r-u.circle.cy)<ja;)i=u.P,s.unshift(u),qn(u),u=i;s.unshift(u),Gn(u);for(var l=a;l.circle&&ya(n-l.circle.x)<ja&&ya(r-l.circle.cy)<ja;)a=l.N,s.push(l),qn(l),l=a;s.push(l),Gn(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],er(l.edge,u.site,l.site,o);u=s[0],l=s[f-1],l.edge=Xn(u.site,l.site,null,o),Yn(u),Yn(l)}function Un(e){for(var t,n,r,o,i=e.x,a=e.y,s=tu._;s;)if(r=Hn(s,a)-i,r>ja)s=s.L;else{if(o=i-Bn(s,a),!(o>ja)){r>-ja?(t=s.P,n=s):o>-ja?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Ln(e);if(tu.insert(t,u),t||n){if(t===n)return Gn(t),n=Ln(t.site),tu.insert(u,n),u.edge=n.edge=Xn(t.site,u.site),Yn(t),void Yn(n);if(!n)return void(u.edge=Xn(t.site,u.site));Gn(t),Gn(n);var l=t.site,c=l.x,f=l.y,p=e.x-c,d=e.y-f,h=n.site,y=h.x-c,m=h.y-f,v=2*(p*m-d*y),g=p*p+d*d,b=y*y+m*m,_={x:(m*g-d*b)/v+c,y:(p*b-y*g)/v+f};er(n.edge,l,h,_),u.edge=Xn(l,e,null,_),n.edge=Xn(e,h,null,_),Yn(t),Yn(n)}}function Hn(e,t){var n=e.site,r=n.x,o=n.y,i=o-t;if(!i)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/i-1/l,p=c/l;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*l)-u+l/2+o-i/2)))/f+r:(r+s)/2}function Bn(e,t){var n=e.N;if(n)return Hn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Vn(e){this.site=e,this.edges=[]}function zn(e){for(var t,n,r,o,i,a,s,u,l,c,f=e[0][0],p=e[1][0],d=e[0][1],h=e[1][1],y=eu,m=y.length;m--;)if(i=y[m],i&&i.prepare())for(s=i.edges,u=s.length,a=0;a<u;)c=s[a].end(),r=c.x,o=c.y,l=s[++a%u].start(),t=l.x,n=l.y,(ya(r-t)>ja||ya(o-n)>ja)&&(s.splice(a,0,new tr(Zn(i.site,c,ya(r-f)<ja&&h-o>ja?{x:f,y:ya(t-f)<ja?n:h}:ya(o-h)<ja&&p-r>ja?{x:ya(n-h)<ja?t:p,y:h}:ya(r-p)<ja&&o-d>ja?{x:p,y:ya(t-p)<ja?n:d}:ya(o-d)<ja&&r-f>ja?{x:ya(n-d)<ja?t:f,y:d}:null),i.site,null)),++u)}function $n(e,t){return t.angle-e.angle}function Wn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o.x,s=o.y,u=r.x-a,l=r.y-s,c=i.x-a,f=i.y-s,p=2*(u*f-l*c);if(!(p>=-Ia)){var d=u*u+l*l,h=c*c+f*f,y=(f*d-l*h)/p,m=(u*h-c*d)/p,f=m+s,v=iu.pop()||new Wn;v.arc=e,v.site=o,v.x=y+a,v.y=f+Math.sqrt(y*y+m*m),v.cy=f,e.circle=v;for(var g=null,b=ru._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}ru.insert(g,v),g||(nu=v)}}}}function Gn(e){var t=e.circle;t&&(t.P||(nu=t.N),ru.remove(t),iu.push(t),rr(t),e.circle=null)}function Kn(e){for(var t,n=Zs,r=Bt(e[0][0],e[0][1],e[1][0],e[1][1]),o=n.length;o--;)t=n[o],(!Qn(t,e)||!r(t)||ya(t.a.x-t.b.x)<ja&&ya(t.a.y-t.b.y)<ja)&&(t.a=t.b=null,n.splice(o,1))}function Qn(e,t){var n=e.b;if(n)return!0;var r,o,i=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,f=e.r,p=c.x,d=c.y,h=f.x,y=f.y,m=(p+h)/2,v=(d+y)/2;if(y===d){if(m<a||m>=s)return;if(p>h){if(i){if(i.y>=l)return}else i={x:m,y:u};n={x:m,y:l}}else{if(i){if(i.y<u)return}else i={x:m,y:l};n={x:m,y:u}}}else if(r=(p-h)/(y-d),o=v-r*m,r<-1||r>1)if(p>h){if(i){if(i.y>=l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else{if(i){if(i.y<u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else if(d<y){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return e.a=i,e.b=n,!0}function Jn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Xn(e,t,n,r){var o=new Jn(e,t);return Zs.push(o),n&&er(o,e,t,n),r&&er(o,t,e,r),eu[e.i].edges.push(new tr(o,e,t)),eu[t.i].edges.push(new tr(o,t,e)),o}function Zn(e,t,n){var r=new Jn(e,null);return r.a=t,r.b=n,Zs.push(r),r}function er(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function tr(e,t,n){var r=e.a,o=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function nr(){this._=null}function rr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function or(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(e){for(;e.L;)e=e.L;return e}function sr(e,t){var n,r,o,i=e.sort(ur).pop();for(Zs=[],eu=new Array(e.length),tu=new nr,ru=new nr;;)if(o=nu,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(eu[i.i]=new Vn(i),Un(i),n=i.x,r=i.y),i=e.pop();else{if(!o)break;Fn(o.arc)}t&&(Kn(t),zn(t));var a={cells:eu,edges:Zs};return tu=ru=Zs=eu=null,a}function ur(e,t){return t.y-e.y||t.x-e.x}function lr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function cr(e){return e.x}function fr(e){return e.y}function pr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(e,t,n,r,o,i){if(!e(t,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),u=t.nodes;u[0]&&dr(e,u[0],n,r,a,s),u[1]&&dr(e,u[1],a,r,o,s),u[2]&&dr(e,u[2],n,s,a,i),u[3]&&dr(e,u[3],a,s,o,i)}}function hr(e,t,n,r,o,i,a){var s,u=1/0;return function l(e,c,f,p,d){if(!(c>i||f>a||p<r||d<o)){if(h=e.point){var h,y=t-e.x,m=n-e.y,v=y*y+m*m;if(v<u){var g=Math.sqrt(u=v);r=t-g,o=n-g,i=t+g,a=n+g,s=h}}for(var b=e.nodes,_=.5*(c+p),w=.5*(f+d),S=t>=_,T=n>=w,x=T<<1|S,P=x+4;x<P;++x)if(e=b[3&x])switch(3&x){case 0:l(e,c,f,_,w);break;case 1:l(e,_,f,p,w);break;case 2:l(e,c,w,_,d);break;case 3:l(e,_,w,p,d)}}}(e,r,o,i,a),s}function yr(e,t){e=ra.rgb(e),t=ra.rgb(t);var n=e.r,r=e.g,o=e.b,i=t.r-n,a=t.g-r,s=t.b-o;return function(e){return"#"+we(Math.round(n+i*e))+we(Math.round(r+a*e))+we(Math.round(o+s*e))}}function mr(e,t){var n,r={},o={};for(n in e)n in t?r[n]=br(e[n],t[n]):o[n]=e[n];for(n in t)n in e||(o[n]=t[n]);return function(e){for(n in r)o[n]=r[n](e);return o}}function vr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gr(e,t){var n,r,o,i=su.lastIndex=uu.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=su.exec(e))&&(r=uu.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:vr(n,r)})),i=uu.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function br(e,t){for(var n,r=ra.interpolators.length;--r>=0&&!(n=ra.interpolators[r](e,t)););return n}function _r(e,t){var n,r=[],o=[],i=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(br(e[n],t[n]));for(;n<i;++n)o[n]=e[n];for(;n<a;++n)o[n]=t[n];return function(e){for(n=0;n<s;++n)o[n]=r[n](e);return o}}function wr(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Sr(e){return function(t){return 1-e(1-t)}}function Tr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function xr(e){return e*e}function Pr(e){return e*e*e}function Er(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Cr(e){return function(t){return Math.pow(t,e)}}function Or(e){return 1-Math.cos(e*Da)}function Rr(e){return Math.pow(2,10*(e-1))}function kr(e){return 1-Math.sqrt(1-e*e)}function jr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Aa*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Aa/t)}}function Ir(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Mr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ar(e,t){e=ra.hcl(e),t=ra.hcl(t);var n=e.h,r=e.c,o=e.l,i=t.h-n,a=t.c-r,s=t.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return fe(n+i*e,r+a*e,o+s*e)+""}}function Nr(e,t){e=ra.hsl(e),t=ra.hsl(t);var n=e.h,r=e.s,o=e.l,i=t.h-n,a=t.s-r,s=t.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return le(n+i*e,r+a*e,o+s*e)+""}}function Dr(e,t){e=ra.lab(e),t=ra.lab(t);var n=e.l,r=e.a,o=e.b,i=t.l-n,a=t.a-r,s=t.b-o;return function(e){return de(n+i*e,r+a*e,o+s*e)+""}}function Lr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function qr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Ur(t),o=Fr(t,n),i=Ur(Hr(n,t,-o))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*qa,this.translate=[e.e,e.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*qa:0}function Fr(e,t){return e[0]*t[0]+e[1]*t[1]}function Ur(e){var t=Math.sqrt(Fr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Hr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Br(e,t){var n,r=[],o=[],i=ra.transform(e),a=ra.transform(t),s=i.translate,u=a.translate,l=i.rotate,c=a.rotate,f=i.skew,p=a.skew,d=i.scale,h=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:vr(s[0],u[0])},{i:3,x:vr(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=p?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vr(f,p)}):p&&r.push(r.pop()+"skewX("+p+")"),d[0]!=h[0]||d[1]!=h[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:n-4,x:vr(d[0],h[0])},{i:n-2,x:vr(d[1],h[1])})):1==h[0]&&1==h[1]||r.push(r.pop()+"scale("+h+")"),n=o.length,function(e){for(var t,i=-1;++i<n;)r[(t=o[i]).i]=t.x(e);return r.join("")}}function Vr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function zr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function $r(e){for(var t=e.source,n=e.target,r=Yr(t,n),o=[t];t!==r;)t=t.parent,o.push(t);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function Wr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Yr(e,t){if(e===t)return e;for(var n=Wr(e),r=Wr(t),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function Gr(e){e.fixed|=2}function Kr(e){e.fixed&=-7}function Qr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Jr(e){e.fixed&=-5}function Xr(e,t,n){var r=0,o=0;if(e.charge=0,!e.leaf)for(var i,a=e.nodes,s=a.length,u=-1;++u<s;)i=a[u],null!=i&&(Xr(i,t,n),e.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,o+=l*e.point.y}e.cx=r/e.charge,e.cy=o/e.charge}function Zr(e,t){return ra.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=io,e}function eo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(o=e.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function to(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(e=r.pop());)t(e)}function no(e){return e.children}function ro(e){return e.value}function oo(e,t){return t.value-e.value}function io(e){return ra.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ao(e){return e.x}function so(e){return e.y}function uo(e,t,n){e.y0=t,e.y=n}function lo(e){return ra.range(e.length)}function co(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function fo(e){for(var t,n=1,r=0,o=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>o&&(r=n,o=t);return r}function po(e){return e.reduce(ho,0)}function ho(e,t){return e+t[1]}function yo(e,t){return mo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function mo(e,t){for(var n=-1,r=+e[0],o=(e[1]-r)/t,i=[];++n<=t;)i[n]=o*n+r;return i}function vo(e){return[ra.min(e),ra.max(e)]}function go(e,t){return e.value-t.value}function bo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function _o(e,t){e._pack_next=t,t._pack_prev=e}function wo(e,t){var n=t.x-e.x,r=t.y-e.y,o=e.r+t.r;return.999*o*o>n*n+r*r}function So(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),p=Math.min(e.y-e.r,p),d=Math.max(e.y+e.r,d)}if((n=e.children)&&(l=n.length)){var n,r,o,i,a,s,u,l,c=1/0,f=-(1/0),p=1/0,d=-(1/0);if(n.forEach(To),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(o=n[1],o.x=o.r,o.y=0,t(o),l>2))for(i=n[2],Eo(r,o,i),t(i),bo(r,i),r._pack_prev=i,bo(i,o),o=r._pack_next,a=3;a<l;a++){Eo(r,o,i=n[a]);var h=0,y=1,m=1;for(s=o._pack_next;s!==o;s=s._pack_next,y++)if(wo(s,i)){h=1;break}if(1==h)for(u=r._pack_prev;u!==s._pack_prev&&!wo(u,i);u=u._pack_prev,m++);h?(y<m||y==m&&o.r<r.r?_o(r,o=s):_o(r=u,o),a--):(bo(r,i),o=i,t(i))}var v=(c+f)/2,g=(p+d)/2,b=0;for(a=0;a<l;a++)i=n[a],i.x-=v,i.y-=g,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=b,n.forEach(xo)}}function To(e){e._pack_next=e._pack_prev=e}function xo(e){delete e._pack_next,delete e._pack_prev}function Po(e,t,n,r){var o=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,o)for(var i=-1,a=o.length;++i<a;)Po(o[i],t,n,r)}function Eo(e,t,n){var r=e.r+n.r,o=t.x-e.x,i=t.y-e.y;if(r&&(o||i)){var a=t.r+n.r,s=o*o+i*i;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*o+l*i,n.y=e.y+u*i-l*o}else n.x=e.x+r,n.y=e.y}function Co(e,t){return e.parent==t.parent?1:2}function Oo(e){var t=e.children;return t.length?t[0]:e.t}function Ro(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ko(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function jo(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)t=o[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Io(e,t,n){return e.a.parent===t.parent?e.a:n}function Mo(e){return 1+ra.max(e,function(e){return e.y})}function Ao(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function No(e){var t=e.children;return t&&t.length?No(t[0]):e}function Do(e){var t,n=e.children;return n&&(t=n.length)?Do(n[t-1]):e}function Lo(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function qo(e,t){var n=e.x+t[3],r=e.y+t[0],o=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function Fo(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Uo(e){return e.rangeExtent?e.rangeExtent():Fo(e.range())}function Ho(e,t,n,r){var o=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(o(e))}}function Bo(e,t){var n,r=0,o=e.length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function Vo(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:bu}function zo(e,t,n,r){var o=[],i=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)o.push(n(e[a-1],e[a])),i.push(r(t[a-1],t[a]));return function(t){var n=ra.bisect(e,t,1,s)-1;return i[n](o[n](t))}}function $o(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?zo:Ho,u=r?zr:Vr;return a=o(e,t,u,n),s=o(t,e,u,br),i}function i(e){return a(e)}var a,s;return i.invert=function(e){return s(e)},i.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},i.range=function(e){return arguments.length?(t=e,o()):t},i.rangeRound=function(e){return i.range(e).interpolate(Lr)},i.clamp=function(e){return arguments.length?(r=e,o()):r},i.interpolate=function(e){return arguments.length?(n=e,o()):n},i.ticks=function(t){return Ko(e,t)},i.tickFormat=function(t,n){return Qo(e,t,n)},i.nice=function(t){return Yo(e,t),o()},i.copy=function(){return $o(e,t,n,r)},o()}function Wo(e,t){return ra.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Yo(e,t){return Bo(e,Vo(Go(e,t)[2]))}function Go(e,t){null==t&&(t=10);var n=Fo(e),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function Ko(e,t){return ra.range.apply(ra,Go(e,t))}function Qo(e,t,n){var r=Go(e,t);if(n){var o=ss.exec(n);if(o.shift(),"s"===o[8]){var i=ra.formatPrefix(Math.max(ya(r[0]),ya(r[1])));return o[7]||(o[7]="."+Jo(i.scale(r[2]))),o[8]="f",n=ra.format(o.join("")),function(e){return n(i.scale(e))+i.symbol}}o[7]||(o[7]="."+Xo(o[8],r)),n=o.join("")}else n=",."+Jo(r[2])+"f";return ra.format(n)}function Jo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Xo(e,t){var n=Jo(t[2]);return e in _u?Math.abs(n-Jo(Math.max(ya(t[0]),ya(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Zo(e,t,n,r){function o(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function i(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(o(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(o)),a):t},a.nice=function(){var t=Bo(r.map(o),n?Math:Su);return e.domain(t),r=t.map(i),a},a.ticks=function(){var e=Fo(r),a=[],s=e[0],u=e[1],l=Math.floor(o(s)),c=Math.ceil(o(u)),f=t%1?2:t;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var p=1;p<f;p++)a.push(i(l)*p);a.push(i(l))}else for(a.push(i(l));l++<c;)for(var p=f-1;p>0;p--)a.push(i(l)*p);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(e,t){if(!arguments.length)return wu;arguments.length<2?t=wu:"function"!=typeof t&&(t=ra.format(t));var r,s=Math.max(.1,e/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/i(u(o(e)+r))<=s?t(e):""}},a.copy=function(){return Zo(e.copy(),t,n,r)},Wo(a,e)}function ei(e,t,n){function r(t){return e(o(t))}var o=ti(t),i=ti(1/t);return r.invert=function(t){return i(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(o)),r):n},r.ticks=function(e){return Ko(n,e)},r.tickFormat=function(e,t){return Qo(n,e,t)},r.nice=function(e){return r.domain(Yo(n,e))},r.exponent=function(a){return arguments.length?(o=ti(t=a),i=ti(1/t),e.domain(n.map(o)),r):t},r.copy=function(){return ei(e.copy(),t,n)},Wo(r,e)}function ti(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ni(e,t){function n(n){return i[((o.get(n)||("range"===t.t?o.set(n,e.push(n)):NaN))-1)%i.length]}function r(t,n){return ra.range(e.length).map(function(e){return t+n*e})}var o,i,a;return n.domain=function(r){if(!arguments.length)return e;e=[],o=new c;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,e.push(i));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e,a=0,t={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var u=o[0],l=o[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+s);return i=r(u+c*s/2,c),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var u=o[0],l=o[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+s)|0;return i=r(u+Math.round(c*s/2+(l-u-(e.length-1+s)*c)/2),c),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=o[1]<o[0],c=o[l-0],f=o[1-l],p=(f-c)/(e.length-s+2*u);return i=r(c+p*u,p),l&&i.reverse(),a=p*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=o[1]<o[0],c=o[l-0],f=o[1-l],p=Math.floor((f-c)/(e.length-s+2*u));return i=r(c+Math.round((f-c-(e.length-s)*p)/2),p),l&&i.reverse(),a=Math.round(p*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Fo(t.a[0])},n.copy=function(){return ni(e,t)},n.domain(e)}function ri(e,t){function n(){var n=0,r=t.length;for(s=[];++n<r;)s[n-1]=ra.quantile(e,n/r);return a}function a(e){if(!isNaN(e=+e))return t[ra.bisect(s,e)]}var s;return a.domain=function(t){return arguments.length?(e=t.map(o).filter(i).sort(r),n()):e},a.range=function(e){return arguments.length?(t=e,n()):t},a.quantiles=function(){return s},a.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},a.copy=function(){return ri(e,t)},n()}function oi(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(i*(t-e))))]}function o(){return i=n.length/(t-e),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},r.range=function(e){return arguments.length?(n=e,o()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/i+e,[t,t+1/i]},r.copy=function(){return oi(e,t,n)},o()}function ii(e,t){function n(n){if(n<=n)return t[ra.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ii(e,t)},n}function ai(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Ko(e,t)},t.tickFormat=function(t,n){return Qo(e,t,n)},t.copy=function(){return ai(e)},t}function si(){return 0}function ui(e){return e.innerRadius}function li(e){return e.outerRadius}function ci(e){return e.startAngle}function fi(e){return e.endAngle}function pi(e){return e&&e.padAngle}function di(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function hi(e,t,n,r,o){var i=e[0]-t[0],a=e[1]-t[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),u=s*a,l=-s*i,c=e[0]+u,f=e[1]+l,p=t[0]+u,d=t[1]+l,h=(c+p)/2,y=(f+d)/2,m=p-c,v=d-f,g=m*m+v*v,b=n-r,_=c*d-p*f,w=(v<0?-1:1)*Math.sqrt(b*b*g-_*_),S=(_*v-m*w)/g,T=(-_*m-v*w)/g,x=(_*v+m*w)/g,P=(-_*m+v*w)/g,E=S-h,C=T-y,O=x-h,R=P-y;return E*E+C*C>O*O+R*R&&(S=x,T=P),[[S-u,T-l],[S*n/b,T*n/b]]}function yi(e){function t(t){function a(){l.push("M",i(e(c),s))}for(var u,l=[],c=[],f=-1,p=t.length,d=Ce(n),h=Ce(r);++f<p;)o.call(this,u=t[f],f)?c.push([+d.call(this,u,f),+h.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Rn,r=kn,o=Rt,i=mi,a=i.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?i=e:(i=Ou.get(e)||mi).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function mi(e){return e.join("L")}function vi(e){return mi(e)+"Z"}function gi(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function bi(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("V",(r=e[t])[1],"H",r[0]);return o.join("")}function _i(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r=e[t])[0],"V",r[1]);return o.join("")}function wi(e,t){return e.length<4?mi(e):e[1]+xi(e.slice(1,-1),Pi(e,t))}function Si(e,t){return e.length<3?mi(e):e[0]+xi((e.push(e[0]),e),Pi([e[e.length-2]].concat(e,[e[1]]),t))}function Ti(e,t){return e.length<3?mi(e):e[0]+xi(e,Pi(e,t))}function xi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return mi(e);var n=e.length!=t.length,r="",o=e[0],i=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=e[1],u=2),t.length>1){s=t[1],i=e[u],u++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,u++)i=e[u],s=t[l],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=e[u];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Pi(e,t){for(var n,r=[],o=(1-t)/2,i=e[0],a=e[1],s=1,u=e.length;++s<u;)n=i,i=a,a=e[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Ei(e){if(e.length<3)return mi(e);var t=1,n=e.length,r=e[0],o=r[0],i=r[1],a=[o,o,o,(r=e[1])[0]],s=[i,i,i,r[1]],u=[o,",",i,"L",ki(ju,a),",",ki(ju,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),ji(u,a,s);return e.pop(),u.push("L",r),u.join("")}function Ci(e){if(e.length<4)return mi(e);for(var t,n=[],r=-1,o=e.length,i=[0],a=[0];++r<3;)t=e[r],i.push(t[0]),a.push(t[1]);for(n.push(ki(ju,i)+","+ki(ju,a)),--r;++r<o;)t=e[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),ji(n,i,a);return n.join("")}function Oi(e){for(var t,n,r=-1,o=e.length,i=o+4,a=[],s=[];++r<4;)n=e[r%o],a.push(n[0]),s.push(n[1]);for(t=[ki(ju,a),",",ki(ju,s)],--r;++r<i;)n=e[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ji(t,a,s);return t.join("")}function Ri(e,t){var n=e.length-1;if(n)for(var r,o,i=e[0][0],a=e[0][1],s=e[n][0]-i,u=e[n][1]-a,l=-1;++l<=n;)r=e[l],o=l/n,r[0]=t*r[0]+(1-t)*(i+o*s),r[1]=t*r[1]+(1-t)*(a+o*u);return Ei(e)}function ki(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ji(e,t,n){e.push("C",ki(Ru,t),",",ki(Ru,n),",",ki(ku,t),",",ki(ku,n),",",ki(ju,t),",",ki(ju,n))}function Ii(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Mi(e){for(var t=0,n=e.length-1,r=[],o=e[0],i=e[1],a=r[0]=Ii(o,i);++t<n;)r[t]=(a+(a=Ii(o=i,i=e[t+1])))/2;return r[t]=a,r}function Ai(e){for(var t,n,r,o,i=[],a=Mi(e),s=-1,u=e.length-1;++s<u;)t=Ii(e[s],e[s+1]),ya(t)<ja?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,o=n*n+r*r,o>9&&(o=3*t/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=u;)o=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Ni(e){return e.length<3?mi(e):e[0]+xi(e,Ai(e))}function Di(e){for(var t,n,r,o=-1,i=e.length;++o<i;)t=e[o],n=t[0],r=t[1]-Da,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Li(e){function t(t){function u(){y.push("M",s(e(v),f),c,l(e(m.reverse()),f),"Z")}for(var p,d,h,y=[],m=[],v=[],g=-1,b=t.length,_=Ce(n),w=Ce(o),S=n===r?function(){return d}:Ce(r),T=o===i?function(){return h}:Ce(i);++g<b;)a.call(this,p=t[g],g)?(m.push([d=+_.call(this,p,g),h=+w.call(this,p,g)]),v.push([+S.call(this,p,g),+T.call(this,p,g)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),y.length?y.join(""):null}var n=Rn,r=Rn,o=0,i=kn,a=Rt,s=mi,u=s.key,l=s,c="L",f=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=i=e,t):i},t.y0=function(e){return arguments.length?(o=e,t):o},t.y1=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=Ou.get(e)||mi).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(f=e,t):f},t}function qi(e){return e.radius}function Fi(e){return[e.x,e.y]}function Ui(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Da;return[n*Math.cos(r),n*Math.sin(r)]}}function Hi(){return 64}function Bi(){return"circle"}function Vi(e){var t=Math.sqrt(e/Ma);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function zi(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function $i(e,t,n){return _a(e,qu),e.namespace=t,e.id=n,e}function Wi(e,t,n,r){var o=e.id,i=e.namespace;return z(e,"function"==typeof n?function(e,a,s){e[i][o].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[i][o].tween.set(t,n)}))}function Yi(e){return null==e&&(e=""),function(){this.textContent=e}}function Gi(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ki(e,t,n,r,o){var i=e[n]||(e[n]={active:0,count:0}),a=i[r];if(!a){var s=o.time;a=i[r]={tween:new c,time:s,delay:o.delay,duration:o.duration,ease:o.ease,index:t},o=null,++i.count,ra.timer(function(o){function u(n){if(i.active>r)return c();var o=i[i.active];o&&(--i.count,delete i[i.active],o.event&&o.event.interrupt.call(e,e.__data__,o.index)),i.active=r,a.event&&a.event.start.call(e,e.__data__,t),a.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&y.push(r)}),p=a.ease,f=a.duration,ra.timer(function(){return h.c=l(n||1)?Rt:l,1},0,s)}function l(n){if(i.active!==r)return 1;for(var o=n/f,s=p(o),u=y.length;u>0;)y[--u].call(e,s);return o>=1?(a.event&&a.event.end.call(e,e.__data__,t),c()):void 0}function c(){return--i.count?delete i[r]:delete e[n],1}var f,p,d=a.delay,h=os,y=[];return h.t=d+s,d<=o?u(o-d):void(h.c=u)},0,s)}}function Qi(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Ji(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Xi(e){return e.toISOString()}function Zi(e,t,n){function r(t){return e(t)}function o(e,n){var r=e[1]-e[0],o=r/n,i=ra.bisect(Yu,o);return i==Yu.length?[t.year,Go(e.map(function(e){return e/31536e6}),n)[2]]:i?t[o/Yu[i-1]<Yu[i]/o?i-1:i]:[Qu,Go(e,n)[2]]}return r.invert=function(t){return ea(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(ea)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,ea(+n+1),t).length}var i=r.domain(),a=Fo(i),s=null==e?o(a,10):"number"==typeof e&&o(a,e);return s&&(e=s[0],t=s[1]),r.domain(Bo(i,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=ea(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=ea(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Fo(r.domain()),i=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{
range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],ea(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Zi(e.copy(),t,n)},Wo(r,e)}function ea(e){return new Date(e)}function ta(e){return JSON.parse(e.responseText)}function na(e){var t=aa.createRange();return t.selectNode(aa.body),t.createContextualFragment(e.responseText)}var ra={version:"3.5.5"},oa=[].slice,ia=function(e){return oa.call(e)},aa=this.document;if(aa)try{ia(aa.documentElement.childNodes)[0].nodeType}catch(sa){ia=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),aa)try{aa.createElement("DIV").style.setProperty("opacity",0,"")}catch(ua){var la=this.Element.prototype,ca=la.setAttribute,fa=la.setAttributeNS,pa=this.CSSStyleDeclaration.prototype,da=pa.setProperty;la.setAttribute=function(e,t){ca.call(this,e,t+"")},la.setAttributeNS=function(e,t,n){fa.call(this,e,t,n+"")},pa.setProperty=function(e,t,n){da.call(this,e,t+"",n)}}ra.ascending=r,ra.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},ra.min=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&n>r&&(n=r)}return n},ra.max=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&r>n&&(n=r)}return n},ra.extent=function(e,t){var n,r,o,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},ra.sum=function(e,t){var n,r=0,o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+e[a])&&(r+=n);else for(;++a<o;)i(n=+t.call(e,e[a],a))&&(r+=n);return r},ra.mean=function(e,t){var n,r=0,a=e.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)i(n=o(e[s]))?r+=n:--u;else for(;++s<a;)i(n=o(t.call(e,e[s],s)))?r+=n:--u;if(u)return r/u},ra.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),o=+e[r-1],i=n-r;return i?o+i*(e[r]-o):o},ra.median=function(e,t){var n,a=[],s=e.length,u=-1;if(1===arguments.length)for(;++u<s;)i(n=o(e[u]))&&a.push(n);else for(;++u<s;)i(n=o(t.call(e,e[u],u)))&&a.push(n);if(a.length)return ra.quantile(a.sort(r),.5)},ra.variance=function(e,t){var n,r,a=e.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)i(n=o(e[l]))&&(r=n-s,s+=r/++c,u+=r*(n-s));else for(;++l<a;)i(n=o(t.call(e,e[l],l)))&&(r=n-s,s+=r/++c,u+=r*(n-s));if(c>1)return u/(c-1)},ra.deviation=function(){var e=ra.variance.apply(this,arguments);return e?Math.sqrt(e):e};var ha=a(r);ra.bisectLeft=ha.left,ra.bisect=ra.bisectRight=ha.right,ra.bisector=function(e){return a(1===e.length?function(t,n){return r(e(t),n)}:e)},ra.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2&&(t=0));for(var r,o,i=n-t;i;)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e},ra.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},ra.pairs=function(e){for(var t,n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=[t=o,o=e[++n]];return i},ra.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=ra.min(arguments,s),n=new Array(t);++e<t;)for(var r,o=-1,i=n[e]=new Array(r);++o<r;)i[o]=arguments[o][e];return n},ra.transpose=function(e){return ra.zip.apply(ra,e)},ra.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ra.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ra.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ra.merge=function(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(r=e[o],t=r.length;--t>=0;)n[--a]=r[t];return n};var ya=Math.abs;ra.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,o=[],i=u(ya(n)),a=-1;if(e*=i,t*=i,n*=i,n<0)for(;(r=e+n*++a)>t;)o.push(r/i);else for(;(r=e+n*++a)<t;)o.push(r/i);return o},ra.map=function(e,t){var n=new c;if(e instanceof c)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(1===arguments.length)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t.call(e,r=e[o],o),r)}else for(var a in e)n.set(a,e[a]);return n};var ma="__proto__",va="\0";l(c,{has:d,get:function(e){return this._[f(e)]},set:function(e,t){return this._[f(e)]=t},remove:h,keys:y,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:p(t),value:this._[t]});return e},size:m,empty:v,forEach:function(e){for(var t in this._)e.call(this,p(t),this._[t])}}),ra.nest=function(){function e(t,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var u,l,f,p,d=-1,h=a.length,y=i[s++],m=new c;++d<h;)(p=m.get(u=y(l=a[d])))?p.push(l):m.set(u,[l]);return t?(l=t(),f=function(n,r){l.set(n,e(t,r,s))}):(l={},f=function(n,r){l[n]=e(t,r,s)}),m.forEach(f),l}function t(e,n){if(n>=i.length)return e;var r=[],o=a[n++];return e.forEach(function(e,o){r.push({key:e,values:t(o,n)})}),o?r.sort(function(e,t){return o(e.key,t.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(t,n){return e(n,t,0)},o.entries=function(n){return t(e(ra.map,n,0),0)},o.key=function(e){return i.push(e),o},o.sortKeys=function(e){return a[i.length-1]=e,o},o.sortValues=function(e){return n=e,o},o.rollup=function(e){return r=e,o},o},ra.set=function(e){var t=new g;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},l(g,{has:d,add:function(e){return this._[f(e+="")]=!0,e},remove:h,values:y,size:m,empty:v,forEach:function(e){for(var t in this._)e.call(this,p(t))}}),ra.behavior={},ra.rebind=function(e,t){for(var n,r=1,o=arguments.length;++r<o;)e[n=arguments[r]]=_(e,t,t[n]);return e};var ga=["webkit","ms","moz","Moz","o","O"];ra.dispatch=function(){for(var e=new T,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=x(e);return e},T.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},ra.event=null,ra.requote=function(e){return e.replace(ba,"\\$&")};var ba=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_a={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},wa=function(e,t){return t.querySelector(e)},Sa=function(e,t){return t.querySelectorAll(e)},Ta=function(e,t){var n=e.matches||e[w(e,"matchesSelector")];return(Ta=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(wa=function(e,t){return Sizzle(e,t)[0]||null},Sa=Sizzle,Ta=Sizzle.matchesSelector),ra.selection=function(){return ra.select(aa.documentElement)};var xa=ra.selection.prototype=[];xa.select=function(e){var t,n,r,o,i=[];e=R(e);for(var a=-1,s=this.length;++a<s;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(o=r[u])?(t.push(n=e.call(o,o.__data__,u,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):t.push(null)}return O(i)},xa.selectAll=function(e){var t,n,r=[];e=k(e);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=ia(e.call(n,n.__data__,s,o))),t.parentNode=n);return O(r)};var Pa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ra.ns={prefix:Pa,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Pa.hasOwnProperty(n)?{space:Pa[n],local:e}:e}},xa.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ra.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(j(t,e[t]));return this}return this.each(j(e,t))},xa.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=A(e)).length,o=-1;if(t=n.classList){for(;++o<r;)if(!t.contains(e[o]))return!1}else for(t=n.getAttribute("class");++o<r;)if(!M(e[o]).test(t))return!1;return!0}for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},xa.style=function(e,t,r){var o=arguments.length;if(o<3){if("string"!=typeof e){o<2&&(t="");for(r in e)this.each(L(r,e[r],t));return this}if(o<2){var i=this.node();return n(i).getComputedStyle(i,null).getPropertyValue(e)}r=""}return this.each(L(e,t,r))},xa.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(q(t,e[t]));return this}return this.each(q(e,t))},xa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},xa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},xa.append=function(e){return e=F(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},xa.insert=function(e,t){return e=F(e),t=R(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},xa.remove=function(){return this.each(U)},xa.data=function(e,t){function n(e,n){var r,o,i,a=e.length,f=n.length,p=Math.min(a,f),d=new Array(f),h=new Array(f),y=new Array(a);if(t){var m,v=new c,g=new Array(a);for(r=-1;++r<a;)v.has(m=t.call(o=e[r],o.__data__,r))?y[r]=o:v.set(m,o),g[r]=m;for(r=-1;++r<f;)(o=v.get(m=t.call(n,i=n[r],r)))?o!==!0&&(d[r]=o,o.__data__=i):h[r]=H(i),v.set(m,!0);for(r=-1;++r<a;)v.get(g[r])!==!0&&(y[r]=e[r])}else{for(r=-1;++r<p;)o=e[r],i=n[r],o?(o.__data__=i,d[r]=o):h[r]=H(i);for(;r<f;++r)h[r]=H(n[r]);for(;r<a;++r)y[r]=e[r]}h.update=d,h.parentNode=d.parentNode=y.parentNode=e.parentNode,s.push(h),u.push(d),l.push(y)}var r,o,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(e[i]=o.__data__);return e}var s=$([]),u=O([]),l=O([]);if("function"==typeof e)for(;++i<a;)n(r=this[i],e.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],e);return u.enter=function(){return s},u.exit=function(){return l},u},xa.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},xa.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=B(e));for(var i=0,a=this.length;i<a;i++){o.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return O(o)},xa.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},xa.sort=function(e){e=V.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},xa.each=function(e){return z(this,function(t,n,r){e.call(t,t.__data__,n,r)})},xa.call=function(e){var t=ia(arguments);return e.apply(t[0]=this,t),this},xa.empty=function(){return!this.node()},xa.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},xa.size=function(){var e=0;return z(this,function(){++e}),e};var Ea=[];ra.selection.enter=$,ra.selection.enter.prototype=Ea,Ea.append=xa.append,Ea.empty=xa.empty,Ea.node=xa.node,Ea.call=xa.call,Ea.size=xa.size,Ea.select=function(e){for(var t,n,r,o,i,a=[],s=-1,u=this.length;++s<u;){r=(o=this[s]).update,a.push(t=[]),t.parentNode=o.parentNode;for(var l=-1,c=o.length;++l<c;)(i=o[l])?(t.push(r[l]=n=e.call(o.parentNode,i.__data__,l,s)),n.__data__=i.__data__):t.push(null)}return O(a)},Ea.insert=function(e,t){return arguments.length<2&&(t=W(this)),xa.insert.call(this,e,t)},ra.select=function(t){var n;return"string"==typeof t?(n=[wa(t,aa)],n.parentNode=aa.documentElement):(n=[t],n.parentNode=e(t)),O([n])},ra.selectAll=function(e){var t;return"string"==typeof e?(t=ia(Sa(e,aa)),t.parentNode=aa.documentElement):(t=e,t.parentNode=null),O([t])},xa.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(Y(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Y(e,t,n))};var Ca=ra.map({mouseenter:"mouseover",mouseleave:"mouseout"});aa&&Ca.forEach(function(e){"on"+e in aa&&Ca.remove(e)});var Oa,Ra=0;ra.mouse=function(e){return J(e,E())};var ka=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ra.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=E().changedTouches),t)for(var r,o=0,i=t.length;o<i;++o)if((r=t[o]).identifier===n)return J(e,r)},ra.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function t(e,t,n,i,a){return function(){function s(){var e,n,r=t(p,y);r&&(e=r[0]-b[0],n=r[1]-b[1],h|=e|n,b=r,d({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(p,y)&&(v.on(i+m,null).on(a+m,null),g(h&&ra.event.target===f),d({type:"dragend"}))}var l,c=this,f=ra.event.target,p=c.parentNode,d=r.of(c,arguments),h=0,y=e(),m=".drag"+(null==y?"":"-"+y),v=ra.select(n(f)).on(i+m,s).on(a+m,u),g=Q(f),b=t(p,y);o?(l=o.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var r=C(e,"drag","dragstart","dragend"),o=null,i=t(S,ra.mouse,n,"mousemove","mouseup"),a=t(X,ra.touch,b,"touchmove","touchend");return e.origin=function(t){return arguments.length?(o=t,e):o},ra.rebind(e,r,"on")},ra.touches=function(e,t){return arguments.length<2&&(t=E().touches),t?ia(t).map(function(t){var n=J(e,t);return n.identifier=t.identifier,n}):[]};var ja=1e-6,Ia=ja*ja,Ma=Math.PI,Aa=2*Ma,Na=Aa-ja,Da=Ma/2,La=Ma/180,qa=180/Ma,Fa=Math.SQRT2,Ua=2,Ha=4;ra.interpolateZoom=function(e,t){function n(e){var t=e*g;if(v){var n=oe(y),a=i/(Ua*p)*(n*ie(Fa*t+y)-re(y));return[r+a*l,o+a*c,i*n/oe(Fa*t+y)]}return[r+e*l,o+e*c,i*Math.exp(Fa*t)]}var r=e[0],o=e[1],i=e[2],a=t[0],s=t[1],u=t[2],l=a-r,c=s-o,f=l*l+c*c,p=Math.sqrt(f),d=(u*u-i*i+Ha*f)/(2*i*Ua*p),h=(u*u-i*i-Ha*f)/(2*u*Ua*p),y=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(h*h+1)-h),v=m-y,g=(v||Math.log(u/i))/Fa;return n.duration=1e3*g,n},ra.behavior.zoom=function(){function e(e){e.on(j,f).on(Va+".zoom",d).on("dblclick.zoom",h).on(A,p)}function t(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function r(e){return[e[0]*x.k+x.x,e[1]*x.k+x.y]}function o(e){x.k=Math.max(O[0],Math.min(O[1],e))}function i(e,t){t=r(t),x.x+=e[0]-t[0],x.y+=e[1]-t[1]}function a(t,n,r,a){t.__chart__={x:x.x,y:x.y,k:x.k},o(Math.pow(2,a)),i(m=n,r),t=ra.select(t),R>0&&(t=t.transition().duration(R)),t.call(e.event)}function s(){w&&w.domain(_.range().map(function(e){return(e-x.x)/x.k}).map(_.invert)),T&&T.domain(S.range().map(function(e){return(e-x.y)/x.k}).map(S.invert))}function u(e){k++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function c(e){--k||e({type:"zoomend"}),m=null}function f(){function e(){f=1,i(ra.mouse(o),d),l(s)}function r(){p.on(I,null).on(M,null),h(f&&ra.event.target===a),c(s)}var o=this,a=ra.event.target,s=N.of(o,arguments),f=0,p=ra.select(n(o)).on(I,e).on(M,r),d=t(ra.mouse(o)),h=Q(o);Lu.call(o),u(s)}function p(){function e(){var e=ra.touches(h);return d=x.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=t(e))}),e}function n(){var t=ra.event.target;ra.select(t).on(_,r).on(w,s),S.push(t);for(var n=ra.event.changedTouches,o=0,i=n.length;o<i;++o)m[n[o].identifier]=null;var u=e(),l=Date.now();if(1===u.length){if(l-b<500){var c=u[0];a(h,c,m[c.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),P()}b=l}else if(u.length>1){var c=u[0],f=u[1],p=c[0]-f[0],d=c[1]-f[1];v=p*p+d*d}}function r(){var e,t,n,r,a=ra.touches(h);Lu.call(h);for(var s=0,u=a.length;s<u;++s,r=null)if(n=a[s],r=m[n.identifier]){if(t)break;e=n,t=r}if(r){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,f=v&&Math.sqrt(c/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],o(f*d)}b=null,i(e,t),l(y)}function s(){if(ra.event.touches.length){for(var t=ra.event.changedTouches,n=0,r=t.length;n<r;++n)delete m[t[n].identifier];for(var o in m)return void e()}ra.selectAll(S).on(g,null),T.on(j,f).on(A,p),E(),c(y)}var d,h=this,y=N.of(h,arguments),m={},v=0,g=".zoom-"+ra.event.changedTouches[0].identifier,_="touchmove"+g,w="touchend"+g,S=[],T=ra.select(h),E=Q(h);n(),u(y),T.on(j,null).on(A,n)}function d(){var e=N.of(this,arguments);g?clearTimeout(g):(y=t(m=v||ra.mouse(this)),Lu.call(this),u(e)),g=setTimeout(function(){g=null,c(e)},50),P(),o(Math.pow(2,.002*Ba())*x.k),i(m,y),l(e)}function h(){var e=ra.mouse(this),n=Math.log(x.k)/Math.LN2;a(this,e,t(e),ra.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var y,m,v,g,b,_,w,S,T,x={x:0,y:0,k:1},E=[960,500],O=za,R=250,k=0,j="mousedown.zoom",I="mousemove.zoom",M="mouseup.zoom",A="touchstart.zoom",N=C(e,"zoomstart","zoom","zoomend");return Va||(Va="onwheel"in aa?(Ba=function(){return-ra.event.deltaY*(ra.event.deltaMode?120:1)},"wheel"):"onmousewheel"in aa?(Ba=function(){return ra.event.wheelDelta},"mousewheel"):(Ba=function(){return-ra.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=N.of(this,arguments),t=x;Nu?ra.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=E[0],r=E[1],o=m?m[0]:n/2,i=m?m[1]:r/2,a=ra.interpolateZoom([(o-x.x)/x.k,(i-x.y)/x.k,n/x.k],[(o-t.x)/t.k,(i-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=x={x:o-r[0]*s,y:i-r[1]*s,k:s},l(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=x,u(e),l(e),c(e))})},e.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},s(),e):[x.x,x.y]},e.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:+t},s(),e):x.k},e.scaleExtent=function(t){return arguments.length?(O=null==t?za:[+t[0],+t[1]],e):O},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],e):E},e.duration=function(t){return arguments.length?(R=+t,e):R},e.x=function(t){return arguments.length?(w=t,_=t.copy(),x={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(T=t,S=t.copy(),x={x:0,y:0,k:1},e):T},ra.rebind(e,N,"on")};var Ba,Va,za=[0,1/0];ra.color=se,se.prototype.toString=function(){return this.rgb()+""},ra.hsl=ue;var $a=ue.prototype=new se;$a.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,this.l/e)},$a.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,e*this.l)},$a.rgb=function(){return le(this.h,this.s,this.l)},ra.hcl=ce;var Wa=ce.prototype=new se;Wa.brighter=function(e){return new ce(this.h,this.c,Math.min(100,this.l+Ya*(arguments.length?e:1)))},Wa.darker=function(e){return new ce(this.h,this.c,Math.max(0,this.l-Ya*(arguments.length?e:1)))},Wa.rgb=function(){return fe(this.h,this.c,this.l).rgb()},ra.lab=pe;var Ya=18,Ga=.95047,Ka=1,Qa=1.08883,Ja=pe.prototype=new se;Ja.brighter=function(e){return new pe(Math.min(100,this.l+Ya*(arguments.length?e:1)),this.a,this.b)},Ja.darker=function(e){return new pe(Math.max(0,this.l-Ya*(arguments.length?e:1)),this.a,this.b)},Ja.rgb=function(){return de(this.l,this.a,this.b)},ra.rgb=ge;var Xa=ge.prototype=new se;Xa.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,o=30;return t||n||r?(t&&t<o&&(t=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new ge(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ge(o,o,o)},Xa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ge(e*this.r,e*this.g,e*this.b)},Xa.hsl=function(){return Te(this.r,this.g,this.b)},Xa.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var Za=ra.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Za.forEach(function(e,t){Za.set(e,be(t))}),ra.functor=Ce,ra.xhr=Oe(b),ra.dsv=function(e,t){function n(e,n,i){arguments.length<3&&(i=n,n=null);var a=Re(e,t,null==n?r:o(n),i);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:o(e)):n},a}function r(e){return n.parse(e.responseText)}function o(e){return function(t){return n.parse(t.responseText,e)}}function i(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var o=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(o(e),n)}:o})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(o)return o=!1,i;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(o=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(o=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var r=e.charCodeAt(c++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,o,i={},a={},s=[],l=e.length,c=0,f=0;(r=n())!==a;){for(var p=[];r!==i&&r!==a;)p.push(r),r=n();t&&null==(p=t(p,f++))||s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new g,o=[];return t.forEach(function(e){for(var t in e)r.has(t)||o.push(r.add(t))}),[o.map(a).join(e)].concat(t.map(function(t){return o.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(i).join("\n")},n},ra.csv=ra.dsv(",","text/csv"),ra.tsv=ra.dsv("\t","text/tab-separated-values");var es,ts,ns,rs,os,is=this[w(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ra.timer=function(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var o=n+t,i={c:e,t:o,f:!1,n:null};ts?ts.n=i:es=i,ts=i,ns||(rs=clearTimeout(rs),ns=1,is(Ie))},ra.timer.flush=function(){Me(),Ae()},ra.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var as=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(De);ra.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=ra.round(e,Ne(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),as[8+n/3]};var ss=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,us=ra.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ra.round(e,Ne(e,t))).toFixed(Math.max(0,Math.min(20,Ne(e*(1+1e-15),t))))}}),ls=ra.time={},cs=Date;Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fs.setUTCDate.apply(this._,arguments)},setDay:function(){fs.setUTCDay.apply(this._,arguments)},setFullYear:function(){fs.setUTCFullYear.apply(this._,arguments)},setHours:function(){fs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fs.setUTCSeconds.apply(this._,arguments)},setTime:function(){fs.setTime.apply(this._,arguments)}};var fs=Date.prototype;ls.year=Ue(function(e){return e=ls.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ls.years=ls.year.range,ls.years.utc=ls.year.utc.range,ls.day=Ue(function(e){var t=new cs(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ls.days=ls.day.range,ls.days.utc=ls.day.utc.range,ls.dayOfYear=function(e){var t=ls.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ls[e]=Ue(function(e){return(e=ls.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ls.year(e).getDay();return Math.floor((ls.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ls[e+"s"]=n.range,ls[e+"s"].utc=n.utc.range,ls[e+"OfYear"]=function(e){var n=ls.year(e).getDay();return Math.floor((ls.dayOfYear(e)+(n+t)%7)/7)}}),ls.week=ls.sunday,ls.weeks=ls.sunday.range,ls.weeks.utc=ls.sunday.utc.range,ls.weekOfYear=ls.sundayOfYear;var ps={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,hs=/^%/;ra.locale=function(e){return{numberFormat:Le(e),timeFormat:Be(e)}};var ys=ra.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ra.format=ys.numberFormat,ra.geo={},lt.prototype={s:0,t:0,add:function(e){ct(e,this.t,ms),ct(ms.s,this.s,this),this.s?this.t+=ms.t:this.s=ms.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ms=new lt;ra.geo.stream=function(e,t){e&&vs.hasOwnProperty(e.type)?vs[e.type](e,t):ft(e,t)};var vs={Feature:function(e,t){ft(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)ft(n[r].geometry,t)}},gs={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){pt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)pt(n[r],t,0)},Polygon:function(e,t){dt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)dt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)ft(n[r],t)}};ra.geo.area=function(e){return bs=0,ra.geo.stream(e,ws),bs};var bs,_s=new lt,ws={sphere:function(){bs+=4*Ma},point:S,lineStart:S,lineEnd:S,polygonStart:function(){_s.reset(),ws.lineStart=ht},polygonEnd:function(){var e=2*_s;bs+=e<0?4*Ma+e:e,ws.lineStart=ws.lineEnd=ws.point=S}};ra.geo.bounds=function(){function e(e,t){b.push(_=[c=e,p=e]),t<f&&(f=t),t>d&&(d=t)}function t(t,n){var r=yt([t*La,n*La]);if(v){var o=vt(v,r),i=[o[1],-o[0],0],a=vt(i,o);_t(a),a=wt(a);var u=t-h,l=u>0?1:-1,y=a[0]*qa*l,m=ya(u)>180;if(m^(l*h<y&&y<l*t)){var g=a[1]*qa;g>d&&(d=g)}else if(y=(y+360)%360-180,m^(l*h<y&&y<l*t)){var g=-a[1]*qa;g<f&&(f=g)}else n<f&&(f=n),n>d&&(d=n);m?t<h?s(c,t)>s(c,p)&&(p=t):s(t,p)>s(c,p)&&(c=t):p>=c?(t<c&&(c=t),t>p&&(p=t)):t>h?s(c,t)>s(c,p)&&(p=t):s(t,p)>s(c,p)&&(c=t)}else e(t,n);v=r,h=t}function n(){w.point=t}function r(){_[0]=c,_[1]=p,w.point=e,v=null}function o(e,n){if(v){var r=e-h;g+=ya(r)>180?r+(r>0?360:-360):r}else y=e,m=n;ws.point(e,n),t(e,n)}function i(){ws.lineStart()}function a(){o(y,m),ws.lineEnd(),ya(g)>ja&&(c=-(p=180)),_[0]=c,_[1]=p,v=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,f,p,d,h,y,m,v,g,b,_,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=o,w.lineStart=i,w.lineEnd=a,g=0,ws.polygonStart()},polygonEnd:function(){ws.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,_s<0?(c=-(p=180),f=-(d=90)):g>ja?d=90:g<-ja&&(f=-90),_[0]=c,_[1]=p}};return function(e){d=p=-(c=f=1/0),b=[],ra.geo.stream(e,w);var t=b.length;if(t){b.sort(u);for(var n,r=1,o=b[0],i=[o];r<t;++r)n=b[r],l(n[0],o)||l(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,h=-(1/0),t=i.length-1,r=0,o=i[t];r<=t;o=n,++r)n=i[r],(a=s(o[1],n[0]))>h&&(h=a,c=n[0],p=o[1])}return b=_=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[p,d]]}}(),ra.geo.centroid=function(e){Ss=Ts=xs=Ps=Es=Cs=Os=Rs=ks=js=Is=0,ra.geo.stream(e,Ms);var t=ks,n=js,r=Is,o=t*t+n*n+r*r;return o<Ia&&(t=Cs,n=Os,r=Rs,Ts<ja&&(t=xs,n=Ps,r=Es),o=t*t+n*n+r*r,o<Ia)?[NaN,NaN]:[Math.atan2(n,t)*qa,ne(r/Math.sqrt(o))*qa]};var Ss,Ts,xs,Ps,Es,Cs,Os,Rs,ks,js,Is,Ms={sphere:S,point:Tt,lineStart:Pt,lineEnd:Et,polygonStart:function(){Ms.lineStart=Ct},polygonEnd:function(){Ms.lineStart=Pt}},As=Mt(Rt,Lt,Ft,[-Ma,-Ma/2]),Ns=1e9;
ra.geo.clipExtent=function(){var e,t,n,r,o,i,a={stream:function(e){return o&&(o.valid=!1),o=i(e),o.valid=!0,o},extent:function(s){return arguments.length?(i=Vt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(ra.geo.conicEqualArea=function(){return zt($t)}).raw=$t,ra.geo.albers=function(){return ra.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ra.geo.albersUsa=function(){function e(e){var i=e[0],a=e[1];return t=null,n(i,a),t||(r(i,a),t)||o(i,a),t}var t,n,r,o,i=ra.geo.albers(),a=ra.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ra.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(e)},e.stream=function(e){var t=i.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,o){t.point(e,o),n.point(e,o),r.point(e,o)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),e):i.precision()},e.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),e.translate(i.translate())):i.scale()},e.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),c=+t[0],f=+t[1];return n=i.translate(t).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,r=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+ja,f+.12*l+ja],[c-.214*l-ja,f+.234*l-ja]]).stream(u).point,o=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+ja,f+.166*l+ja],[c-.115*l-ja,f+.234*l-ja]]).stream(u).point,e},e.scale(1070)};var Ds,Ls,qs,Fs,Us,Hs,Bs={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Ls=0,Bs.lineStart=Wt},polygonEnd:function(){Bs.lineStart=Bs.lineEnd=Bs.point=S,Ds+=ya(Ls/2)}},Vs={point:Yt,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},zs={point:Qt,lineStart:Jt,lineEnd:Xt,polygonStart:function(){zs.lineStart=Zt},polygonEnd:function(){zs.point=Qt,zs.lineStart=Jt,zs.lineEnd=Xt}};ra.geo.path=function(){function e(e){return e&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),ra.geo.stream(e,a)),i.result()}function t(){return a=null,e}var n,r,o,i,a,s=4.5;return e.area=function(e){return Ds=0,ra.geo.stream(e,o(Bs)),Ds},e.centroid=function(e){return xs=Ps=Es=Cs=Os=Rs=ks=js=Is=0,ra.geo.stream(e,o(zs)),Is?[ks/Is,js/Is]:Rs?[Cs/Rs,Os/Rs]:Es?[xs/Es,Ps/Es]:[NaN,NaN]},e.bounds=function(e){return Us=Hs=-(qs=Fs=1/0),ra.geo.stream(e,o(Vs)),[[qs,Fs],[Us,Hs]]},e.projection=function(e){return arguments.length?(o=(n=e)?e.stream||nn(e):b,t()):n},e.context=function(e){return arguments.length?(i=null==(r=e)?new Gt:new en(e),"function"!=typeof s&&i.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(i.pointRadius(+t),+t),e):s},e.projection(ra.geo.albersUsa()).context(null)},ra.geo.transform=function(e){return{stream:function(t){var n=new rn(t);for(var r in e)n[r]=e[r];return n}}},rn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ra.geo.projection=an,ra.geo.projectionMutator=sn,(ra.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ra.geo.rotation=function(e){function t(t){return t=e(t[0]*La,t[1]*La),t[0]*=qa,t[1]*=qa,t}return e=fn(e[0]%360*La,e[1]*La,e.length>2?e[2]*La:0),t.invert=function(t){return t=e.invert(t[0]*La,t[1]*La),t[0]*=qa,t[1]*=qa,t},t},cn.invert=ln,ra.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=fn(-e[0]*La,-e[1]*La,0).invert,o=[];return n(null,null,1,{point:function(e,n){o.push(e=t(e,n)),e[0]*=qa,e[1]*=qa}}),{type:"Polygon",coordinates:[o]}}var t,n,r=[0,0],o=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=yn((t=+r)*La,o*La),e):t},e.precision=function(r){return arguments.length?(n=yn(t*La,(o=+r)*La),e):o},e.angle(90)},ra.geo.distance=function(e,t){var n,r=(t[0]-e[0])*La,o=e[1]*La,i=t[1]*La,a=Math.sin(r),s=Math.cos(r),u=Math.sin(o),l=Math.cos(o),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},ra.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ra.range(Math.ceil(i/m)*m,o,m).map(p).concat(ra.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ra.range(Math.ceil(r/h)*h,n,h).filter(function(e){return ya(e%m)>ja}).map(c)).concat(ra.range(Math.ceil(s/y)*y,a,y).filter(function(e){return ya(e%v)>ja}).map(f))}var n,r,o,i,a,s,u,l,c,f,p,d,h=10,y=h,m=90,v=360,g=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(d(u).slice(1),p(o).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],l=+t[0][1],u=+t[1][1],i>o&&(t=i,i=o,o=t),l>u&&(t=l,l=u,u=t),e.precision(g)):[[i,l],[o,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(g)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(h=+t[0],y=+t[1],e):[h,y]},e.precision=function(t){return arguments.length?(g=+t,c=vn(s,a,90),f=gn(r,n,g),p=vn(l,u,90),d=gn(i,o,g),e):g},e.majorExtent([[-180,-90+ja],[180,90-ja]]).minorExtent([[-180,-80-ja],[180,80+ja]])},ra.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||o.apply(this,arguments)]}}var t,n,r=bn,o=_n;return e.distance=function(){return ra.geo.distance(t||r.apply(this,arguments),n||o.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(o=t,n="function"==typeof t?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ra.geo.interpolate=function(e,t){return wn(e[0]*La,e[1]*La,t[0]*La,t[1]*La)},ra.geo.length=function(e){return $s=0,ra.geo.stream(e,Ws),$s};var $s,Ws={sphere:S,point:S,lineStart:Sn,lineEnd:S,polygonStart:S,polygonEnd:S},Ys=Tn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ra.geo.azimuthalEqualArea=function(){return an(Ys)}).raw=Ys;var Gs=Tn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},b);(ra.geo.azimuthalEquidistant=function(){return an(Gs)}).raw=Gs,(ra.geo.conicConformal=function(){return zt(xn)}).raw=xn,(ra.geo.conicEquidistant=function(){return zt(Pn)}).raw=Pn;var Ks=Tn(function(e){return 1/e},Math.atan);(ra.geo.gnomonic=function(){return an(Ks)}).raw=Ks,En.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Da]},(ra.geo.mercator=function(){return Cn(En)}).raw=En;var Qs=Tn(function(){return 1},Math.asin);(ra.geo.orthographic=function(){return an(Qs)}).raw=Qs;var Js=Tn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ra.geo.stereographic=function(){return an(Js)}).raw=Js,On.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Da]},(ra.geo.transverseMercator=function(){var e=Cn(On),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=On,ra.geom={},ra.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,o=Ce(n),i=Ce(r),a=e.length,s=[],u=[];for(t=0;t<a;t++)s.push([+o.call(this,e[t],t),+i.call(this,e[t],t),t]);for(s.sort(In),t=0;t<a;t++)u.push([s[t][0],-s[t][1]]);var l=jn(s),c=jn(u),f=c[0]===l[0],p=c[c.length-1]===l[l.length-1],d=[];for(t=l.length-1;t>=0;--t)d.push(e[s[l[t]][2]]);for(t=+f;t<c.length-p;++t)d.push(e[s[c[t]][2]]);return d}var n=Rn,r=kn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},ra.geom.polygon=function(e){return _a(e,Xs),e};var Xs=ra.geom.polygon.prototype=[];Xs.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],o=0;++t<n;)e=r,r=this[t],o+=e[1]*r[0]-e[0]*r[1];return.5*o},Xs.centroid=function(e){var t,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(e=-1/(6*this.area()));++r<o;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],i+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[i*e,a*e]},Xs.clip=function(e){for(var t,n,r,o,i,a,s=Nn(e),u=-1,l=this.length-Nn(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,o=this[u],i=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Mn(a,c,o)?(Mn(i,c,o)||e.push(An(i,a,c,o)),e.push(a)):Mn(i,c,o)&&e.push(An(i,a,c,o)),i=a;s&&e.push(e[0]),c=o}return e};var Zs,eu,tu,nu,ru,ou=[],iu=[];Vn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort($n),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ar(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(or(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ir(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(ir(this,n),e=n,n=e.U),n.C=!1,r.C=!0,or(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?ar(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===o.L){if(t=o.R,t.C&&(t.C=!1,o.C=!0,or(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,or(this,o),e=this._;break}}else if(t=o.L,t.C&&(t.C=!1,o.C=!0,ir(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,or(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,ir(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},ra.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return sr(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=o&&l.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[];c.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/ja)*ja,y:Math.round(a(e,t)/ja)*ja,i:t}})}var r=Rn,o=kn,i=r,a=o,s=au;return e?t(e):(t.links=function(e){return sr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return sr(n(e)).cells.forEach(function(n,r){for(var o,i,a=n.site,s=n.edges.sort($n),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)o=c,i=f,c=s[u].edge,f=c.l===a?c.r:c.l,r<i.i&&r<f.i&&lr(a,i,f)<0&&t.push([e[r],e[i.i],e[f.i]])}),t},t.x=function(e){return arguments.length?(i=Ce(r=e),t):r},t.y=function(e){return arguments.length?(a=Ce(o=e),t):o},t.clipExtent=function(e){return arguments.length?(s=null==e?au:e,t):s===au?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===au?null:s&&s[1]},t)};var au=[[-1e6,-1e6],[1e6,1e6]];ra.geom.delaunay=function(e){return ra.geom.voronoi().triangles(e)},ra.geom.quadtree=function(e,t,n,r,o){function i(e){function i(e,t,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(ya(u-n)+ya(c-r)<.01)l(e,t,n,r,o,i,a,s);else{var f=e.point;e.x=e.y=e.point=null,l(e,f,u,c,o,i,a,s),l(e,t,n,r,o,i,a,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,o,i,a,s)}function l(e,t,n,r,o,a,s,u){var l=.5*(o+s),c=.5*(a+u),f=n>=l,p=r>=c,d=p<<1|f;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]=pr()),f?o=l:s=l,p?a=c:u=c,i(e,t,n,r,o,a,s,u)}var c,f,p,d,h,y,m,v,g,b=Ce(s),_=Ce(u);if(null!=t)y=t,m=n,v=r,g=o;else if(v=g=-(y=m=1/0),f=[],p=[],h=e.length,a)for(d=0;d<h;++d)c=e[d],c.x<y&&(y=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>g&&(g=c.y),f.push(c.x),p.push(c.y);else for(d=0;d<h;++d){var w=+b(c=e[d],d),S=+_(c,d);w<y&&(y=w),S<m&&(m=S),w>v&&(v=w),S>g&&(g=S),f.push(w),p.push(S)}var T=v-y,x=g-m;T>x?g=m+T:v=y+x;var P=pr();if(P.add=function(e){i(P,e,+b(e,++d),+_(e,d),y,m,v,g)},P.visit=function(e){dr(e,P,y,m,v,g)},P.find=function(e){return hr(P,e[0],e[1],y,m,v,g)},d=-1,null==t){for(;++d<h;)i(P,e[d],f[d],p[d],y,m,v,g);--d}else e.forEach(P.add);return f=p=e=c=null,P}var a,s=Rn,u=kn;return(a=arguments.length)?(s=cr,u=fr,3===a&&(o=n,r=t,n=t=0),i(e)):(i.x=function(e){return arguments.length?(s=e,i):s},i.y=function(e){return arguments.length?(u=e,i):u},i.extent=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),i):null==t?null:[[t,n],[r,o]]},i.size=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=n=0,r=+e[0],o=+e[1]),i):null==t?null:[r-t,o-n]},i)},ra.interpolateRgb=yr,ra.interpolateObject=mr,ra.interpolateNumber=vr,ra.interpolateString=gr;var su=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uu=new RegExp(su.source,"g");ra.interpolate=br,ra.interpolators=[function(e,t){var n=typeof t;return("string"===n?Za.has(t)||/^(#|rgb\(|hsl\()/.test(t)?yr:gr:t instanceof se?yr:Array.isArray(t)?_r:"object"===n&&isNaN(t)?mr:vr)(e,t)}],ra.interpolateArray=_r;var lu=function(){return b},cu=ra.map({linear:lu,poly:Cr,quad:function(){return xr},cubic:function(){return Pr},sin:function(){return Or},exp:function(){return Rr},circle:function(){return kr},elastic:jr,back:Ir,bounce:function(){return Mr}}),fu=ra.map({"in":b,out:Sr,"in-out":Tr,"out-in":function(e){return Tr(Sr(e))}});ra.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=cu.get(n)||lu,r=fu.get(r)||b,wr(r(n.apply(null,oa.call(arguments,1))))},ra.interpolateHcl=Ar,ra.interpolateHsl=Nr,ra.interpolateLab=Dr,ra.interpolateRound=Lr,ra.transform=function(e){var t=aa.createElementNS(ra.ns.prefix.svg,"g");return(ra.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new qr(n?n.matrix:pu)})(e)},qr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pu={a:1,b:0,c:0,d:1,e:0,f:0};ra.interpolateTransform=Br,ra.layout={},ra.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push($r(e[n]));return t}},ra.layout.chord=function(){function e(){var e,l,f,p,d,h={},y=[],m=ra.range(i),v=[];for(n=[],r=[],e=0,p=-1;++p<i;){for(l=0,d=-1;++d<i;)l+=o[p][d];y.push(l),v.push(ra.range(i)),e+=l}for(a&&m.sort(function(e,t){return a(y[e],y[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(o[t][e],o[t][n])})}),e=(Aa-c*i)/e,l=0,p=-1;++p<i;){for(f=l,d=-1;++d<i;){var g=m[p],b=v[g][d],_=o[g][b],w=l,S=l+=_*e;h[g+"-"+b]={index:g,subindex:b,startAngle:w,endAngle:S,value:_}}r[g]={index:g,startAngle:f,endAngle:l,value:(l-f)/e},l+=c}for(p=-1;++p<i;)for(d=p-1;++d<i;){var T=h[p+"-"+d],x=h[d+"-"+p];(T.value||x.value)&&n.push(T.value<x.value?{source:x,target:T}:{source:T,target:x})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,o,i,a,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(i=(o=e)&&o.length,n=r=null,l):o},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,n=r=null,l):a},l.sortSubgroups=function(e){return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},ra.layout.force=function(){function e(e){return function(t,n,r,o){if(t.point!==e){var i=t.cx-e.x,a=t.cy-e.y,s=o-n,u=i*i+a*a;if(s*s/m<u){if(u<h){var l=t.charge/u;e.px-=i*l,e.py-=a*l}return!0}if(t.point&&u&&u<h){var l=t.pointCharge/u;e.px-=i*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=ra.event.x,e.py=ra.event.y,s.resume()}var n,r,o,i,a,s={},u=ra.dispatch("start","tick","end"),l=[1,1],c=.9,f=du,p=hu,d=-30,h=yu,y=.1,m=.64,v=[],g=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var t,n,s,f,p,h,m,b,_,w=v.length,S=g.length;for(n=0;n<S;++n)s=g[n],f=s.source,p=s.target,b=p.x-f.x,_=p.y-f.y,(h=b*b+_*_)&&(h=r*i[n]*((h=Math.sqrt(h))-o[n])/h,b*=h,_*=h,p.x-=b*(m=f.weight/(p.weight+f.weight)),p.y-=_*m,f.x+=b*(m=1-m),f.y+=_*m);if((m=r*y)&&(b=l[0]/2,_=l[1]/2,n=-1,m))for(;++n<w;)s=v[n],s.x+=(b-s.x)*m,s.y+=(_-s.y)*m;if(d)for(Xr(t=ra.geom.quadtree(v),r,a),n=-1;++n<w;)(s=v[n]).fixed||t.visit(e(s));for(n=-1;++n<w;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(g=e,s):g},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.chargeDistance=function(e){return arguments.length?(h=e*e,s):Math.sqrt(h)},s.gravity=function(e){return arguments.length?(y=+e,s):y},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(u.start({type:"start",alpha:r=e}),ra.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(u),s=0;s<u;++s)n[s]=[];for(s=0;s<c;++s){var o=g[s];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var i,a=n[t],s=-1,l=a.length;++s<l;)if(!isNaN(i=a[s][e]))return i;return Math.random()*r}var t,n,r,u=v.length,c=g.length,h=l[0],y=l[1];for(t=0;t<u;++t)(r=v[t]).index=t,r.weight=0;for(t=0;t<c;++t)r=g[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<u;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",h)),isNaN(r.y)&&(r.y=e("y",y)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof f)for(t=0;t<c;++t)o[t]=+f.call(this,g[t],t);else for(t=0;t<c;++t)o[t]=f;if(i=[],"function"==typeof p)for(t=0;t<c;++t)i[t]=+p.call(this,g[t],t);else for(t=0;t<c;++t)i[t]=p;if(a=[],"function"==typeof d)for(t=0;t<u;++t)a[t]=+d.call(this,v[t],t);else for(t=0;t<u;++t)a[t]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ra.behavior.drag().origin(b).on("dragstart.force",Gr).on("drag.force",t).on("dragend.force",Kr)),arguments.length?void this.on("mouseover.force",Qr).on("mouseout.force",Jr).call(n):n},ra.rebind(s,u,"on")};var du=20,hu=1,yu=1/0;ra.layout.hierarchy=function(){function e(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(l=n.call(e,i,i.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(e,i,i.depth)||0),delete i.children;return to(o,function(e){var n,o;t&&(n=e.children)&&n.sort(t),r&&(o=e.parent)&&(o.value+=e.value)}),s}var t=oo,n=no,r=ro;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(eo(t,function(e){e.children&&(e.value=0)}),to(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ra.layout.partition=function(){function e(t,n,r,o){var i=t.children;if(t.x=n,t.y=t.depth*o,t.dx=r,t.dy=o,i&&(a=i.length)){var a,s,u,l=-1;for(r=t.value?r/t.value:0;++l<a;)e(s=i[l],n,u=s.value*r,o),n+=u}}function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return e(a[0],0,o[0],o[1]/t(a[0])),a}var r=ra.layout.hierarchy(),o=[1,1];return n.size=function(e){return arguments.length?(o=e,n):o},Zr(n,r)},ra.layout.pie=function(){function e(a){var s,u=a.length,l=a.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-c,p=Math.min(Math.abs(f)/u,+("function"==typeof i?i.apply(this,arguments):i)),d=p*(f<0?-1:1),h=(f-u*d)/ra.sum(l),y=ra.range(u),m=[];return null!=n&&y.sort(n===mu?function(e,t){return l[t]-l[e]}:function(e,t){return n(a[e],a[t])}),y.forEach(function(e){m[e]={data:a[e],value:s=l[e],startAngle:c,endAngle:c+=s*h+d,padAngle:p}}),m}var t=Number,n=mu,r=0,o=Aa,i=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(o=t,e):o},e.padAngle=function(t){return arguments.length?(i=t,e):i},e};var mu={};ra.layout.stack=function(){function e(s,u){if(!(p=s.length))return s;var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[i.call(e,t,n),a.call(e,t,n)]})}),f=n.call(e,c,u);l=ra.permute(l,f),c=ra.permute(c,f);var p,d,h,y,m=r.call(e,c,u),v=l[0].length;for(h=0;h<v;++h)for(o.call(e,l[0][h],y=m[h],c[0][h][1]),d=1;d<p;++d)o.call(e,l[d][h],y+=c[d-1][h][1],c[d][h][1]);return s}var t=b,n=lo,r=co,o=uo,i=ao,a=so;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:vu.get(t)||lo,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:gu.get(t)||co,e):r},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(o=t,e):o},e};var vu=ra.map({"inside-out":function(e){var t,n,r=e.length,o=e.map(fo),i=e.map(po),a=ra.range(r).sort(function(e,t){return o[e]-o[t]}),s=0,u=0,l=[],c=[];for(t=0;t<r;++t)n=a[t],s<u?(s+=i[n],l.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return ra.range(e.length).reverse()},"default":lo}),gu=ra.map({silhouette:function(e){var t,n,r,o=e.length,i=e[0].length,a=[],s=0,u=[];for(n=0;n<i;++n){for(t=0,r=0;t<o;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<i;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,o,i,a,s,u,l,c=e.length,f=e[0],p=f.length,d=[];for(d[0]=u=l=0,n=1;n<p;++n){for(t=0,o=0;t<c;++t)o+=e[t][n][1];for(t=0,i=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;i+=a*e[t][n][1]}d[n]=u-=o?i/o*s:0,u<l&&(l=u)}for(n=0;n<p;++n)d[n]-=l;return d},expand:function(e){var t,n,r,o=e.length,i=e[0].length,a=1/o,s=[];for(n=0;n<i;++n){for(t=0,r=0;t<o;t++)r+=e[t][n][1];if(r)for(t=0;t<o;t++)e[t][n][1]/=r;else for(t=0;t<o;t++)e[t][n][1]=a}for(n=0;n<i;++n)s[n]=0;return s},zero:co});ra.layout.histogram=function(){function e(e,i){for(var a,s,u=[],l=e.map(n,this),c=r.call(this,l,i),f=o.call(this,c,l,i),i=-1,p=l.length,d=f.length-1,h=t?1:1/p;++i<d;)a=u[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(d>0)for(i=-1;++i<p;)s=l[i],s>=c[0]&&s<=c[1]&&(a=u[ra.bisect(f,s,1,d)-1],a.y+=h,a.push(e[i]));return u}var t=!0,n=Number,r=vo,o=yo;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ce(t),e):r},e.bins=function(t){return arguments.length?(o="number"==typeof t?function(e){return mo(e,t)}:Ce(t),e):o},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ra.layout.pack=function(){function e(e,i){var a=n.call(this,e,i),s=a[0],u=o[0],l=o[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,to(s,function(e){e.r=+c(e.value)}),to(s,So),r){var f=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;to(s,function(e){e.r+=f}),to(s,So),to(s,function(e){e.r-=f})}return Po(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var t,n=ra.layout.hierarchy().sort(go),r=0,o=[1,1];return e.size=function(t){return arguments.length?(o=t,e):o},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Zr(e,n)},ra.layout.tree=function(){function e(e,o){var c=a.call(this,e,o),f=c[0],p=t(f);if(to(p,n),p.parent.m=-p.z,eo(p,r),l)eo(f,i);else{var d=f,h=f,y=f;eo(f,function(e){e.x<d.x&&(d=e),e.x>h.x&&(h=e),e.depth>y.depth&&(y=e)});var m=s(d,h)/2-d.x,v=u[0]/(h.x+s(h,d)/2+m),g=u[1]/(y.depth||1);eo(f,function(e){e.x=(e.x+m)*v,e.y=e.depth*g})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var o,i=t.children,a=0,s=i.length;a<s;++a)r.push((i[a]=o={_:i[a],parent:t,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){jo(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+s(e._,r._));e.parent.A=o(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e,t,n){if(t){for(var r,o=e,i=e,a=t,u=o.parent.children[0],l=o.m,c=i.m,f=a.m,p=u.m;a=Ro(a),o=Oo(o),a&&o;)u=Oo(u),i=Ro(i),i.a=e,r=a.z+f-o.z-l+s(a._,o._),r>0&&(ko(Io(a,e,n),e,r),l+=r,c+=r),f+=a.m,l+=o.m,p+=u.m,c+=i.m;a&&!Ro(i)&&(i.t=a,i.m+=f-c),o&&!Oo(u)&&(u.t=o,u.m+=l-p,n=e)}return n}function i(e){e.x*=u[0],e.y=e.depth*u[1]}var a=ra.layout.hierarchy().sort(null).value(null),s=Co,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?i:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:i,e):l?u:null},Zr(e,a)},ra.layout.cluster=function(){function e(e,i){var a,s=t.call(this,e,i),u=s[0],l=0;to(u,function(e){var t=e.children;t&&t.length?(e.x=Ao(t),e.y=Mo(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var c=No(u),f=Do(u),p=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return to(u,o?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(d-p)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=ra.layout.hierarchy().sort(null).value(null),n=Co,r=[1,1],o=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(o=null==(r=t),e):o?null:r},e.nodeSize=function(t){return arguments.length?(o=null!=(r=t),e):o?r:null},Zr(e,t)},ra.layout.treemap=function(){function e(e,t){for(var n,r,o=-1,i=e.length;++o<i;)r=(n=e[o]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var i=n.children;if(i&&i.length){var a,s,u,l=f(n),c=[],p=i.slice(),h=1/0,y="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(p,l.dx*l.dy/n.value),c.area=0;(u=p.length)>0;)c.push(a=p[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,y))<=h?(p.pop(),h=s):(c.area-=c.pop().area,o(c,y,l,!1),y=Math.min(l.dx,l.dy),c.length=c.area=0,h=1/0);c.length&&(o(c,y,l,!0),c.length=c.area=0),i.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var i,a=f(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;i=s.pop();)u.push(i),u.area+=i.area,null!=i.z&&(o(u,i.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,o=0,i=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<i&&(i=n),n>o&&(o=n));return r*=r,t*=t,r?Math.max(t*o*h/r,r/(t*i*h)):1/0}function o(e,t,n,r){var o,i=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)o=e[i],o.x=s,o.y=l,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?u(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)o=e[i],o.x=s,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?u(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],a&&s.revalue(i),e([i],i.dx*i.dy/i.value),(a?n:t)(i),p&&(a=o),o}var a,s=ra.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Lo,p=!1,d="squarify",h=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(l=e,i):l},i.padding=function(e){function t(t){var n=e.call(i,t,t.depth);return null==n?Lo(t):qo(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return qo(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?Lo:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,i},i.round=function(e){return arguments.length?(u=e?Math.round:Number,i):u!=Number},i.sticky=function(e){return arguments.length?(p=e,a=null,i):p},i.ratio=function(e){return arguments.length?(h=e,i):h},i.mode=function(e){return arguments.length?(d=e+"",i):d},Zr(i,s)},ra.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,o;do n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r;while(!o||o>1);return e+t*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var e=ra.random.normal.apply(ra,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ra.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},ra.scale={};var bu={floor:b,ceil:b};ra.scale.linear=function(){return $o([0,1],[0,1],br,!1)};var _u={s:1,g:1,p:1,r:1,e:1};ra.scale.log=function(){return Zo(ra.scale.linear().domain([0,1]),10,!0,[1,10])};var wu=ra.format(".0e"),Su={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ra.scale.pow=function(){return ei(ra.scale.linear(),1,[0,1])},ra.scale.sqrt=function(){return ra.scale.pow().exponent(.5)},ra.scale.ordinal=function(){return ni([],{t:"range",a:[[]]})},ra.scale.category10=function(){return ra.scale.ordinal().range(Tu)},ra.scale.category20=function(){return ra.scale.ordinal().range(xu)},ra.scale.category20b=function(){return ra.scale.ordinal().range(Pu)},ra.scale.category20c=function(){return ra.scale.ordinal().range(Eu)};var Tu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_e),xu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_e),Pu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_e),Eu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_e);ra.scale.quantile=function(){return ri([],[])},ra.scale.quantize=function(){return oi(0,1,[0,1])},ra.scale.threshold=function(){return ii([.5],[0,1])},ra.scale.identity=function(){return ai([0,1])},ra.svg={},ra.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Da,f=s.apply(this,arguments)-Da,p=Math.abs(f-c),d=c>f?0:1;if(l<e&&(h=l,l=e,e=h),p>=Na)return t(l,d)+(e?t(e,1-d):"")+"Z";var h,y,m,v,g,b,_,w,S,T,x,P,E=0,C=0,O=[];if((v=(+u.apply(this,arguments)||0)/2)&&(m=i===Cu?Math.sqrt(e*e+l*l):+i.apply(this,arguments),d||(C*=-1),l&&(C=ne(m/l*Math.sin(v))),
e&&(E=ne(m/e*Math.sin(v)))),l){g=l*Math.cos(c+C),b=l*Math.sin(c+C),_=l*Math.cos(f-C),w=l*Math.sin(f-C);var R=Math.abs(f-c-2*C)<=Ma?0:1;if(C&&di(g,b,_,w)===d^R){var k=(c+f)/2;g=l*Math.cos(k),b=l*Math.sin(k),_=w=null}}else g=b=0;if(e){S=e*Math.cos(f-E),T=e*Math.sin(f-E),x=e*Math.cos(c+E),P=e*Math.sin(c+E);var j=Math.abs(c-f+2*E)<=Ma?0:1;if(E&&di(S,T,x,P)===1-d^j){var I=(c+f)/2;S=e*Math.cos(I),T=e*Math.sin(I),x=P=null}}else S=T=0;if((h=Math.min(Math.abs(l-e)/2,+o.apply(this,arguments)))>.001){y=e<l^d?0:1;var M=null==x?[S,T]:null==_?[g,b]:An([g,b],[x,P],[_,w],[S,T]),A=g-M[0],N=b-M[1],D=_-M[0],L=w-M[1],q=1/Math.sin(Math.acos((A*D+N*L)/(Math.sqrt(A*A+N*N)*Math.sqrt(D*D+L*L)))/2),F=Math.sqrt(M[0]*M[0]+M[1]*M[1]);if(null!=_){var U=Math.min(h,(l-F)/(q+1)),H=hi(null==x?[S,T]:[x,P],[g,b],l,U,d),B=hi([_,w],[S,T],l,U,d);h===U?O.push("M",H[0],"A",U,",",U," 0 0,",y," ",H[1],"A",l,",",l," 0 ",1-d^di(H[1][0],H[1][1],B[1][0],B[1][1]),",",d," ",B[1],"A",U,",",U," 0 0,",y," ",B[0]):O.push("M",H[0],"A",U,",",U," 0 1,",y," ",B[0])}else O.push("M",g,",",b);if(null!=x){var V=Math.min(h,(e-F)/(q-1)),z=hi([g,b],[x,P],e,-V,d),$=hi([S,T],null==_?[g,b]:[_,w],e,-V,d);h===V?O.push("L",$[0],"A",V,",",V," 0 0,",y," ",$[1],"A",e,",",e," 0 ",d^di($[1][0],$[1][1],z[1][0],z[1][1]),",",1-d," ",z[1],"A",V,",",V," 0 0,",y," ",z[0]):O.push("L",$[0],"A",V,",",V," 0 0,",y," ",z[0])}else O.push("L",S,",",T)}else O.push("M",g,",",b),null!=_&&O.push("A",l,",",l," 0 ",R,",",d," ",_,",",w),O.push("L",S,",",T),null!=x&&O.push("A",e,",",e," 0 ",j,",",1-d," ",x,",",P);return O.push("Z"),O.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=ui,r=li,o=si,i=Cu,a=ci,s=fi,u=pi;return e.innerRadius=function(t){return arguments.length?(n=Ce(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ce(t),e):r},e.cornerRadius=function(t){return arguments.length?(o=Ce(t),e):o},e.padRadius=function(t){return arguments.length?(i=t==Cu?Cu:Ce(t),e):i},e.startAngle=function(t){return arguments.length?(a=Ce(t),e):a},e.endAngle=function(t){return arguments.length?(s=Ce(t),e):s},e.padAngle=function(t){return arguments.length?(u=Ce(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Da;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Cu="auto";ra.svg.line=function(){return yi(b)};var Ou=ra.map({linear:mi,"linear-closed":vi,step:gi,"step-before":bi,"step-after":_i,basis:Ei,"basis-open":Ci,"basis-closed":Oi,bundle:Ri,cardinal:Ti,"cardinal-open":wi,"cardinal-closed":Si,monotone:Ni});Ou.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ru=[0,2/3,1/3,0],ku=[0,1/3,2/3,0],ju=[0,1/6,2/3,1/6];ra.svg.line.radial=function(){var e=yi(Di);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},bi.reverse=_i,_i.reverse=bi,ra.svg.area=function(){return Li(b)},ra.svg.area.radial=function(){var e=Li(Di);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ra.svg.chord=function(){function e(e,s){var u=t(this,i,e,s),l=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?o(u.r,u.p1,u.r,u.p0):o(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+o(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var o=t.call(e,n,r),i=s.call(e,o,r),a=u.call(e,o,r)-Da,c=l.call(e,o,r)-Da;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ma)+",1 "+t}function o(e,t,n,r){return"Q 0,0 "+r}var i=bn,a=_n,s=qi,u=ci,l=fi;return e.radius=function(t){return arguments.length?(s=Ce(t),e):s},e.source=function(t){return arguments.length?(i=Ce(t),e):i},e.target=function(t){return arguments.length?(a=Ce(t),e):a},e.startAngle=function(t){return arguments.length?(u=Ce(t),e):u},e.endAngle=function(t){return arguments.length?(l=Ce(t),e):l},e},ra.svg.diagonal=function(){function e(e,o){var i=t.call(this,e,o),a=n.call(this,e,o),s=(i.y+a.y)/2,u=[i,{x:i.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=bn,n=_n,r=Fi;return e.source=function(n){return arguments.length?(t=Ce(n),e):t},e.target=function(t){return arguments.length?(n=Ce(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},ra.svg.diagonal.radial=function(){var e=ra.svg.diagonal(),t=Fi,n=e.projection;return e.projection=function(e){return arguments.length?n(Ui(t=e)):t},e},ra.svg.symbol=function(){function e(e,r){return(Iu.get(t.call(this,e,r))||Vi)(n.call(this,e,r))}var t=Bi,n=Hi;return e.type=function(n){return arguments.length?(t=Ce(n),e):t},e.size=function(t){return arguments.length?(n=Ce(t),e):n},e};var Iu=ra.map({circle:Vi,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Au)),n=t*Au;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Mu),n=t*Mu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Mu),n=t*Mu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ra.svg.symbolTypes=Iu.keys();var Mu=Math.sqrt(3),Au=Math.tan(30*La);xa.transition=function(e){for(var t,n,r=Nu||++Fu,o=Gi(e),i=[],a=Du||{time:Date.now(),ease:Er,delay:0,duration:250},s=-1,u=this.length;++s<u;){i.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Ki(n,c,o,r,a),t.push(n)}return $i(i,o,r)},xa.interrupt=function(e){return this.each(null==e?Lu:zi(Gi(e)))};var Nu,Du,Lu=zi(Gi()),qu=[],Fu=0;qu.call=xa.call,qu.empty=xa.empty,qu.node=xa.node,qu.size=xa.size,ra.transition=function(e,t){return e&&e.transition?Nu?e.transition(t):e:ra.selection().transition(e)},ra.transition.prototype=qu,qu.select=function(e){var t,n,r,o=this.id,i=this.namespace,a=[];e=R(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ki(n,c,i,o,r[i][o]),t.push(n)):t.push(null)}return $i(a,i,o)},qu.selectAll=function(e){var t,n,r,o,i,a=this.id,s=this.namespace,u=[];e=k(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],p=-1,d=f.length;++p<d;)if(r=f[p]){i=r[s][a],n=e.call(r,r.__data__,p,l),u.push(t=[]);for(var h=-1,y=n.length;++h<y;)(o=n[h])&&Ki(o,h,s,a,i),t.push(o)}return $i(u,s,a)},qu.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=B(e));for(var i=0,a=this.length;i<a;i++){o.push(t=[]);for(var n=this[i],s=0,u=n.length;s<u;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return $i(o,this.namespace,this.id)},qu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):z(this,null==t?function(t){t[r][n].tween.remove(e)}:function(o){o[r][n].tween.set(e,t)})},qu.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function i(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?Br:br,s=ra.ns.qualify(e);return Wi(this,"attr."+e,t,s.local?i:o)},qu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(o));return r&&function(e){this.setAttribute(o,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(o.space,o.local));return r&&function(e){this.setAttributeNS(o.space,o.local,r(e))}}var o=ra.ns.qualify(e);return this.tween("attr."+e,o.local?r:n)},qu.style=function(e,t,r){function o(){this.style.removeProperty(e)}function i(t){return null==t?o:(t+="",function(){var o,i=n(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(o=br(i,t),function(t){this.style.setProperty(e,o(t),r)})})}var a=arguments.length;if(a<3){if("string"!=typeof e){a<2&&(t="");for(r in e)this.style(r,e[r],t);return this}r=""}return Wi(this,"style."+e,t,i)},qu.styleTween=function(e,t,r){function o(o,i){var a=t.call(this,o,i,n(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,o)},qu.text=function(e){return Wi(this,"text",e,Yi)},qu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},qu.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ra.ease.apply(ra,arguments)),z(this,function(r){r[n][t].ease=e}))},qu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:z(this,"function"==typeof e?function(r,o,i){r[n][t].delay=+e.call(r,r.__data__,o,i)}:(e=+e,function(r){r[n][t].delay=e}))},qu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:z(this,"function"==typeof e?function(r,o,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,o,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},qu.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var o=Du,i=Nu;try{Nu=n,z(this,function(t,o,i){Du=t[r][n],e.call(t,t.__data__,o,i)})}finally{Du=o,Nu=i}}else z(this,function(o){var i=o[r][n];(i.event||(i.event=ra.dispatch("start","end","interrupt"))).on(e,t)});return this},qu.transition=function(){for(var e,t,n,r,o=this.id,i=++Fu,a=this.namespace,s=[],u=0,l=this.length;u<l;u++){s.push(e=[]);for(var t=this[u],c=0,f=t.length;c<f;c++)(n=t[c])&&(r=n[a][o],Ki(n,c,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return $i(s,a,i)},ra.svg.axis=function(){function e(e){e.each(function(){var e,l=ra.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),p=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,d=null==t?f.tickFormat?f.tickFormat.apply(f,s):b:t,h=l.selectAll(".tick").data(p,f),y=h.enter().insert("g",".domain").attr("class","tick").style("opacity",ja),m=ra.transition(h.exit()).style("opacity",ja).remove(),v=ra.transition(h.order()).style("opacity",1),g=Math.max(o,0)+a,_=Uo(f),w=l.selectAll(".domain").data([0]),S=(w.enter().append("path").attr("class","domain"),ra.transition(w));y.append("line"),y.append("text");var T,x,P,E,C=y.select("line"),O=v.select("line"),R=h.select("text").text(d),k=y.select("text"),j=v.select("text"),I="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=Qi,T="x",P="y",x="x2",E="y2",R.attr("dy",I<0?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+_[0]+","+I*i+"V0H"+_[1]+"V"+I*i)):(e=Ji,T="y",P="x",x="y2",E="x2",R.attr("dy",".32em").style("text-anchor",I<0?"end":"start"),S.attr("d","M"+I*i+","+_[0]+"H0V"+_[1]+"H"+I*i)),C.attr(E,I*o),k.attr(P,I*g),O.attr(x,0).attr(E,I*o),j.attr(T,0).attr(P,I*g),f.rangeBand){var M=f,A=M.rangeBand()/2;c=f=function(e){return M(e)+A}}else c.rangeBand?c=f:m.call(e,f,c);y.call(e,c,f),v.call(e,f,f)})}var t,n=ra.scale.linear(),r=Uu,o=6,i=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Hu?t+"":Uu,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(o=+t,i=+arguments[n-1],e):o},e.innerTickSize=function(t){return arguments.length?(o=+t,e):o},e.outerTickSize=function(t){return arguments.length?(i=+t,e):i},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Uu="bottom",Hu={top:1,right:1,bottom:1,left:1};ra.svg.brush=function(){function e(n){n.each(function(){var n=ra.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=n.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=n.selectAll(".resize").data(y,b);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Bu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,f=ra.transition(n),p=ra.transition(a);l&&(u=Uo(l),p.attr("x",u[0]).attr("width",u[1]-u[0]),r(f)),c&&(u=Uo(c),p.attr("y",u[0]).attr("height",u[1]-u[0]),o(f)),t(f)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)]+","+p[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",f[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function o(e){e.select(".extent").attr("y",p[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function i(){function i(){32==ra.event.keyCode&&(R||(b=null,j[0]-=f[1],j[1]-=p[1],R=2),P())}function y(){32==ra.event.keyCode&&2==R&&(j[0]+=f[1],j[1]+=p[1],R=0,P())}function m(){var e=ra.mouse(w),n=!1;_&&(e[0]+=_[0],e[1]+=_[1]),R||(ra.event.altKey?(b||(b=[(f[0]+f[1])/2,(p[0]+p[1])/2]),j[0]=f[+(e[0]<b[0])],j[1]=p[+(e[1]<b[1])]):b=null),C&&v(e,l,0)&&(r(x),n=!0),O&&v(e,c,1)&&(o(x),n=!0),n&&(t(x),T({type:"brush",mode:R?"move":"resize"}))}function v(e,t,n){var r,o,i=Uo(t),u=i[0],l=i[1],c=j[n],y=n?p:f,m=y[1]-y[0];if(R&&(u-=c,l-=m+c),r=(n?h:d)?Math.max(u,Math.min(l,e[n])):e[n],R?o=(r+=c)+m:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),c<r?(o=r,r=c):o=c),y[0]!=r||y[1]!=o)return n?s=null:a=null,y[0]=r,y[1]=o,!0}function g(){m(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ra.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),T({type:"brushend"})}var b,_,w=this,S=ra.select(ra.event.target),T=u.of(w,arguments),x=ra.select(w),E=S.datum(),C=!/^(n|s)$/.test(E)&&l,O=!/^(e|w)$/.test(E)&&c,R=S.classed("extent"),k=Q(w),j=ra.mouse(w),I=ra.select(n(w)).on("keydown.brush",i).on("keyup.brush",y);if(ra.event.changedTouches?I.on("touchmove.brush",m).on("touchend.brush",g):I.on("mousemove.brush",m).on("mouseup.brush",g),x.interrupt().selectAll("*").interrupt(),R)j[0]=f[0]-j[0],j[1]=p[0]-j[1];else if(E){var M=+/w$/.test(E),A=+/^n/.test(E);_=[f[1-M]-j[0],p[1-A]-j[1]],j[0]=f[M],j[1]=p[A]}else ra.event.altKey&&(b=j.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),ra.select("body").style("cursor",S.style("cursor")),T({type:"brushstart"}),m()}var a,s,u=C(e,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],p=[0,0],d=!0,h=!0,y=Vu[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:f,y:p,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Nu?ra.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,p=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=_r(f,t.x),r=_r(p,t.y);return a=s=null,function(o){f=t.x=n(o),p=t.y=r(o),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,y=Vu[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,y=Vu[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(d=!!t[0],h=!!t[1]):l?d=!!t:c&&(h=!!t),e):l&&c?[d,h]:l?d:c?h:null},e.extent=function(t){var n,r,o,i,u;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),r<n&&(u=n,n=r,r=u),n==f[0]&&r==f[1]||(f=[n,r])),c&&(o=t[0],i=t[1],l&&(o=o[1],i=i[1]),s=[o,i],c.invert&&(o=c(o),i=c(i)),i<o&&(u=o,o=i,i=u),o==p[0]&&i==p[1]||(p=[o,i])),e):(l&&(a?(n=a[0],r=a[1]):(n=f[0],r=f[1],l.invert&&(n=l.invert(n),r=l.invert(r)),r<n&&(u=n,n=r,r=u))),c&&(s?(o=s[0],i=s[1]):(o=p[0],i=p[1],c.invert&&(o=c.invert(o),i=c.invert(i)),i<o&&(u=o,o=i,i=u))),l&&c?[[n,o],[r,i]]:l?[n,r]:c&&[o,i])},e.clear=function(){return e.empty()||(f=[0,0],p=[0,0],a=s=null),e},e.empty=function(){return!!l&&f[0]==f[1]||!!c&&p[0]==p[1]},ra.rebind(e,u,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],zu=ls.format=ys.timeFormat,$u=zu.utc,Wu=$u("%Y-%m-%dT%H:%M:%S.%LZ");zu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Xi:Wu,Xi.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Xi.toString=Wu.toString,ls.second=Ue(function(e){return new cs(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ls.seconds=ls.second.range,ls.seconds.utc=ls.second.utc.range,ls.minute=Ue(function(e){return new cs(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ls.minutes=ls.minute.range,ls.minutes.utc=ls.minute.utc.range,ls.hour=Ue(function(e){var t=e.getTimezoneOffset()/60;return new cs(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ls.hours=ls.hour.range,ls.hours.utc=ls.hour.utc.range,ls.month=Ue(function(e){return e=ls.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ls.months=ls.month.range,ls.months.utc=ls.month.utc.range;var Yu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gu=[[ls.second,1],[ls.second,5],[ls.second,15],[ls.second,30],[ls.minute,1],[ls.minute,5],[ls.minute,15],[ls.minute,30],[ls.hour,1],[ls.hour,3],[ls.hour,6],[ls.hour,12],[ls.day,1],[ls.day,2],[ls.week,1],[ls.month,1],[ls.month,3],[ls.year,1]],Ku=zu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Rt]]),Qu={range:function(e,t,n){return ra.range(Math.ceil(e/n)*n,+t,n).map(ea)},floor:b,ceil:b};Gu.year=ls.year,ls.scale=function(){return Zi(ra.scale.linear(),Gu,Ku)};var Ju=Gu.map(function(e){return[e[0].utc,e[1]]}),Xu=$u.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Rt]]);Ju.year=ls.year.utc,ls.scale.utc=function(){return Zi(ra.scale.linear(),Ju,Xu)},ra.text=Oe(function(e){return e.responseText}),ra.json=function(e,t){return Re(e,"application/json",ta,t)},ra.html=function(e,t){return Re(e,"text/html",na,t)},ra.xml=Oe(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(ra):"object"==typeof t&&t.exports&&(t.exports=ra),this.d3=ra}()},{}],243:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,u=0;u<r;u++)l[u].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],244:[function(e,t,n){"use strict";var r=e("./emptyFunction"),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{"./emptyFunction":251}],245:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],246:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],247:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e("./camelize"),i=/^-ms-/;t.exports=r},{"./camelize":246}],248:[function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,i=t;if(n=!1,r&&i){if(r===i)return!0;if(o(r))return!1;if(o(i)){e=r,t=i.parentNode,n=!0;continue e}return r.contains?r.contains(i):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(i))}return!1}}var o=e("./isTextNode");t.exports=r},{"./isTextNode":261}],249:[function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():i(e):[e]}var i=e("./toArray");t.exports=o},{"./toArray":269}],250:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t?void 0:u(!1),a(f).forEach(t));for(var p=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var i=e("./ExecutionEnvironment"),a=e("./createArrayFromMixed"),s=e("./getMarkupWrap"),u=e("./invariant"),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{"./ExecutionEnvironment":245,"./createArrayFromMixed":249,"./getMarkupWrap":255,"./invariant":259}],251:[function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],252:[function(e,t,n){"use strict";var r={};t.exports=r},{}],253:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],254:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],255:[function(e,t,n){"use strict";function r(e){return a?void 0:i(!1),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var o=e("./ExecutionEnvironment"),i=e("./invariant"),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){p[e]=f,s[e]=!0}),t.exports=r},{"./ExecutionEnvironment":245,"./invariant":259}],256:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],257:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],258:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e("./hyphenate"),i=/^ms-/;t.exports=r},{"./hyphenate":257}],259:[function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}};t.exports=r},{}],260:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],261:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e("./isNode");t.exports=r},{"./isNode":260}],262:[function(e,t,n){"use strict";var r=e("./invariant"),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{"./invariant":259}],263:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],264:[function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],265:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],266:[function(e,t,n){"use strict";var r,o=e("./ExecutionEnvironment");o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},{"./ExecutionEnvironment":245}],267:[function(e,t,n){"use strict";var r=e("./performance"),o=r;o&&o.now||(o=Date);var i=o.now.bind(o);t.exports=i},{"./performance":266}],268:[function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=o.bind(t),a=0;a<n.length;a++)if(!i(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],269:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1):void 0,"number"!=typeof t?o(!1):void 0,0===t||t-1 in e?void 0:o(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r}var o=e("./invariant");t.exports=r},{"./invariant":259}],270:[function(e,t,n){"use strict";var r=e("./emptyFunction"),o=r;t.exports=o},{"./emptyFunction":251}],271:[function(e,t,n){t.exports.Dispatcher=e("./lib/Dispatcher")},{"./lib/Dispatcher":272}],272:[function(e,t,n){"use strict";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var o=e("./invariant"),i=1,a="ID_";r.prototype.register=function(e){var t=a+i++;return this.$Dispatcher_callbacks[t]=e,t},r.prototype.unregister=function(e){o(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},r.prototype.waitFor=function(e){o(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this.$Dispatcher_isPending[n]?o(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(o(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},r.prototype.dispatch=function(e){o(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching;
},r.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},r.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=r},{"./invariant":273}],273:[function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}};t.exports=r},{}],274:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,p=n?-1:1,d=e[t+f];for(f+=p,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,r),i-=l}return(d?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?p/u:p*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+d]=255&a,d+=h,a/=256,l-=8);e[n+d-h]|=128*y}},{}],275:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.Immutable=r()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return e.value=!1,e}function n(e){e&&(e.value=!0)}function r(){}function o(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function i(e){return void 0===e.size&&(e.size=e.__iterate(s)),e.size}function a(e,t){return t>=0?+t:i(e)+ +t}function s(){return!0}function u(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function l(e,t){return f(e,t,0)}function c(e,t){return f(e,t,t)}function f(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function p(e){return m(e)?e:R(e)}function d(e){return v(e)?e:k(e)}function h(e){return g(e)?e:j(e)}function y(e){return m(e)&&!b(e)?e:I(e)}function m(e){return!(!e||!e[yn])}function v(e){return!(!e||!e[mn])}function g(e){return!(!e||!e[vn])}function b(e){return v(e)||g(e)}function _(e){return!(!e||!e[gn])}function w(e){this.next=e}function S(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function T(){return{value:void 0,done:!0}}function x(e){return!!C(e)}function P(e){return e&&"function"==typeof e.next}function E(e){var t=C(e);return t&&t.call(e)}function C(e){var t=e&&(Sn&&e[Sn]||e[Tn]);if("function"==typeof t)return t}function O(e){return e&&"number"==typeof e.length}function R(e){return null===e||void 0===e?q():m(e)?e.toSeq():H(e)}function k(e){return null===e||void 0===e?q().toKeyedSeq():m(e)?v(e)?e.toSeq():e.fromEntrySeq():F(e)}function j(e){return null===e||void 0===e?q():m(e)?v(e)?e.entrySeq():e.toIndexedSeq():U(e)}function I(e){return(null===e||void 0===e?q():m(e)?v(e)?e.entrySeq():e:U(e)).toSetSeq()}function M(e){this._array=e,this.size=e.length}function A(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function N(e){this._iterable=e,this.size=e.length||e.size}function D(e){this._iterator=e,this._iteratorCache=[]}function L(e){return!(!e||!e[Pn])}function q(){return En||(En=new M([]))}function F(e){var t=Array.isArray(e)?new M(e).fromEntrySeq():P(e)?new D(e).fromEntrySeq():x(e)?new N(e).fromEntrySeq():"object"==typeof e?new A(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function U(e){var t=B(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function H(e){var t=B(e)||"object"==typeof e&&new A(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function B(e){return O(e)?new M(e):P(e)?new D(e):x(e)?new N(e):void 0}function V(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(t(s[1],r?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function z(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new w(function(){var e=o[n?i-a:a];return a++>i?T():S(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function $(){throw TypeError("Abstract")}function W(){}function Y(){}function G(){}function K(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Q(e,t){return t?J(t,e,"",{"":e}):X(e)}function J(e,t,n,r){return Array.isArray(t)?e.call(r,n,j(t).map(function(n,r){return J(e,n,r,t)})):Z(t)?e.call(r,n,k(t).map(function(n,r){return J(e,n,r,t)})):t}function X(e){return Array.isArray(e)?j(e).map(X).toList():Z(e)?k(e).map(X).toMap():e}function Z(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ee(e){return e>>>1&1073741824|3221225471&e}function te(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return ee(n)}return"string"===t?e.length>An?ne(e):re(e):"function"==typeof e.hashCode?e.hashCode():oe(e)}function ne(e){var t=Ln[e];return void 0===t&&(t=re(e),Dn===Nn&&(Dn=0,Ln={}),Dn++,Ln[e]=t),t}function re(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ee(t)}function oe(e){var t;if(jn&&(t=Cn.get(e),void 0!==t))return t;if(t=e[Mn],void 0!==t)return t;if(!kn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Mn],void 0!==t)return t;if(t=ie(e),void 0!==t)return t}if(t=++In,1073741824&In&&(In=0),jn)Cn.set(e,t);else{if(void 0!==Rn&&Rn(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(kn)Object.defineProperty(e,Mn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Mn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Mn]=t}}return t}function ie(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ae(e,t){if(!e)throw new Error(t)}function se(e){ae(e!==1/0,"Cannot perform this action with an infinite size.")}function ue(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function le(e){this._iter=e,this.size=e.size}function ce(e){this._iter=e,this.size=e.size}function fe(e){this._iter=e,this.size=e.size}function pe(e){var t=Me(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ae,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===wn){var r=e.__iterator(t,n);return new w(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===_n?bn:_n,n)},t}function de(e,t,n){var r=Me(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,pn);return i===pn?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return r(t.call(n,e,o,a),o,i)!==!1},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(wn,o);return new w(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return S(r,s,t.call(n,a[1],s,e),o)})},r}function he(e,t){var n=Me(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=pe(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Ae,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ye(e,t,n,r){var o=Me(e);return r&&(o.has=function(r){var o=e.get(r,pn);return o!==pn&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,pn);return i!==pn&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(wn,i),s=0;return new w(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,l=u[0],c=u[1];if(t.call(n,c,l,e))return S(o,r?l:s++,c,i)}})},o}function me(e,t,n){var r=Le().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}function ve(e,t,n){var r=v(e),o=(_(e)?Tt():Le()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return e=e||[],e.push(r?[a,i]:i),e})});var i=Ie(e);return o.map(function(t){return Re(e,i(t))})}function ge(e,t,n,r){var o=e.size;if(u(t,n,o))return e;var i=l(t,o),s=c(n,o);if(i!==i||s!==s)return ge(e.toSeq().cacheResult(),t,n,r);var f=s-i;f<0&&(f=0);var p=Me(e);return p.size=0===f?f:e.size&&f||void 0,!r&&L(e)&&f>=0&&(p.get=function(t,n){return t=a(this,t),t>=0&&t<f?e.get(t+i,n):n}),p.__iterateUncached=function(t,n){var o=this;if(0===f)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,s=!0,u=0;return e.__iterate(function(e,n){if(!s||!(s=a++<i))return u++,t(e,r?n:u-1,o)!==!1&&u!==f}),u},p.__iteratorUncached=function(t,n){if(f&&n)return this.cacheResult().__iterator(t,n);var o=f&&e.__iterator(t,n),a=0,s=0;return new w(function(){for(;a++<i;)o.next();if(++s>f)return T();var e=o.next();return r||t===_n?e:t===bn?S(t,s-1,void 0,e):S(t,s-1,e.value[1],e)})},p}function be(e,t,n){var r=Me(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(wn,o),s=!0;return new w(function(){if(!s)return T();var e=a.next();if(e.done)return e;var o=e.value,u=o[0],l=o[1];return t.call(n,l,u,i)?r===wn?e:S(r,u,l,e):(s=!1,T())})},r}function _e(e,t,n,r){var o=Me(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate(function(e,i,l){if(!s||!(s=t.call(n,e,i,l)))return u++,o(e,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(wn,i),u=!0,l=0;return new w(function(){var e,i,c;do{if(e=s.next(),e.done)return r||o===_n?e:o===bn?S(o,l++,void 0,e):S(o,l++,e.value[1],e);var f=e.value;i=f[0],c=f[1],u&&(u=t.call(n,c,i,a))}while(u);return o===wn?e:S(o,i,c,e)})},o}function we(e,t){var n=v(e),r=[e].concat(t).map(function(e){return m(e)?n&&(e=d(e)):e=n?F(e):U(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&v(o)||g(e)&&g(o))return o}var i=new M(r);return n?i=i.toKeyedSeq():g(e)||(i=i.toSetSeq()),i=i.flatten(!0),i.size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),i}function Se(e,t,n){var r=Me(e);return r.__iterateUncached=function(r,o){function i(e,u){var l=this;e.__iterate(function(e,o){return(!t||u<t)&&m(e)?i(e,u+1):r(e,n?o:a++,l)===!1&&(s=!0),!s},o)}var a=0,s=!1;return i(e,0),a},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),a=[],s=0;return new w(function(){for(;i;){var e=i.next();if(e.done===!1){var u=e.value;if(r===wn&&(u=u[1]),t&&!(a.length<t)||!m(u))return n?e:S(r,s++,u,e);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return T()})},r}function Te(e,t,n){var r=Ie(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}function xe(e,t){var n=Me(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||n(t,i++,o)!==!1)&&n(e,i++,o)!==!1},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(_n,r),a=0;return new w(function(){return(!o||a%2)&&(o=i.next(),o.done)?o:a%2?S(n,a++,t):S(n,a++,o.value,o)})},n}function Pe(e,t,n){t||(t=Ne);var r=v(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?k(i):g(e)?j(i):I(i)}function Ee(e,t,n){if(t||(t=Ne),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Ce(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Ce(t,e,n)?n:e})}function Ce(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function Oe(e,t,n){var r=Me(e);return r.size=new M(n).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n,r=this.__iterator(_n,t),o=0;!(n=r.next()).done&&e(n.value,o++,this)!==!1;);return o},r.__iteratorUncached=function(e,r){var o=n.map(function(e){return e=p(e),E(r?e.reverse():e)}),i=0,a=!1;return new w(function(){var n;return a||(n=o.map(function(e){return e.next()}),a=n.some(function(e){return e.done})),a?T():S(e,i++,t.apply(null,n.map(function(e){return e.value})))})},r}function Re(e,t){return L(e)?t:e.constructor(t)}function ke(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function je(e){return se(e.size),i(e)}function Ie(e){return v(e)?d:g(e)?h:y}function Me(e){return Object.create((v(e)?k:g(e)?j:I).prototype)}function Ae(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):R.prototype.cacheResult.call(this)}function Ne(e,t){return e>t?1:e<t?-1:0}function De(e){var t=E(e);if(!t){if(!O(e))throw new TypeError("Expected iterable or array-like: "+e);t=E(p(e))}return t}function Le(e){return null===e||void 0===e?Ge():qe(e)?e:Ge().withMutations(function(t){var n=d(e);se(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function qe(e){return!(!e||!e[qn])}function Fe(e,t){this.ownerID=e,this.entries=t}function Ue(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function He(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Be(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ze(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&We(e._root)}function $e(e,t){return S(e,t[0],t[1])}function We(e,t){return{node:e,index:0,__prev:t}}function Ye(e,t,n,r){var o=Object.create(Fn);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Ge(){return Un||(Un=Ye(0))}function Ke(e,n,r){var o,i;if(e._root){var a=t(dn),s=t(hn);if(o=Qe(e._root,e.__ownerID,0,void 0,n,r,a,s),!s.value)return e;i=e.size+(a.value?r===pn?-1:1:0)}else{if(r===pn)return e;i=1,o=new Fe(e.__ownerID,[[n,r]])}return e.__ownerID?(e.size=i,e._root=o,e.__hash=void 0,e.__altered=!0,e):o?Ye(i,o):Ge()}function Qe(e,t,r,o,i,a,s,u){return e?e.update(t,r,o,i,a,s,u):a===pn?e:(n(u),n(s),new Ve(t,o,[i,a]))}function Je(e){return e.constructor===Ve||e.constructor===Be}function Xe(e,t,n,r,o){if(e.keyHash===r)return new Be(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&fn,s=(0===n?r:r>>>n)&fn,u=a===s?[Xe(e,t,n+ln,r,o)]:(i=new Ve(t,r,o),a<s?[e,i]:[i,e]);return new Ue(t,1<<a|1<<s,u)}function Ze(e,t,n,o){e||(e=new r);for(var i=new Ve(e,te(n),[n,o]),a=0;a<t.length;a++){var s=t[a];i=i.update(e,0,void 0,s[0],s[1])}return i}function et(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,l=t.length;s<l;s++,u<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=u,a[i++]=c)}return new Ue(e,o,a)}function tt(e,t,n,r,o){for(var i=0,a=new Array(cn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new He(e,i+1,a)}function nt(e,t,n){for(var r=[],o=0;o<n.length;o++){var i=n[o],a=d(i);m(i)||(a=a.map(function(e){return Q(e)})),r.push(a)}return ot(e,t,r)}function rt(e){return function(t,n,r){return t&&t.mergeDeepWith&&m(n)?t.mergeDeepWith(e,n):e?e(t,n,r):n}}function ot(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,pn,function(e){return e===pn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function it(e,t,n,r){var o=e===pn,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}ae(o||e&&e.set,"invalid keyPath");var u=i.value,l=o?pn:e.get(u,pn),c=it(l,t,n,r);return c===l?e:c===pn?e.remove(u):(o?Ge():e).set(u,c)}function at(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function st(e,t,n,r){var i=r?e:o(e);return i[t]=n,i}function ut(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function lt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}function ct(e){var t=yt();if(null===e||void 0===e)return t;if(ft(e))return e;var n=h(e),r=n.size;return 0===r?t:(se(r),r>0&&r<cn?ht(0,r,ln,null,new pt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function ft(e){return!(!e||!e[zn])}function pt(e,t){this.array=e,this.ownerID=t}function dt(e,t){function n(e,t,n){return 0===t?r(e,n):o(e,t,n)}function r(e,n){var r=n===s?u&&u.array:e&&e.array,o=n>i?0:i-n,l=a-n;return l>cn&&(l=cn),function(){if(o===l)return Yn;var e=t?--l:o++;return r&&r[e]}}function o(e,r,o){var s,u=e&&e.array,l=o>i?0:i-o>>r,c=(a-o>>r)+1;return c>cn&&(c=cn),function(){for(;;){if(s){var e=s();if(e!==Yn)return e;s=null}if(l===c)return Yn;var i=t?--c:l++;s=n(u&&u[i],r-ln,o+(i<<r))}}}var i=e._origin,a=e._capacity,s=St(a),u=e._tail;return n(e._root,e._level,0)}function ht(e,t,n,r,o,i,a){var s=Object.create($n);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function yt(){return Wn||(Wn=ht(0,0,ln))}function mt(e,n,r){if(n=a(e,n),n>=e.size||n<0)return e.withMutations(function(e){n<0?_t(e,n).set(0,r):_t(e,0,n+1).set(n,r)});n+=e._origin;var o=e._tail,i=e._root,s=t(hn);return n>=St(e._capacity)?o=vt(o,e.__ownerID,0,n,r,s):i=vt(i,e.__ownerID,e._level,n,r,s),s.value?e.__ownerID?(e._root=i,e._tail=o,e.__hash=void 0,e.__altered=!0,e):ht(e._origin,e._capacity,e._level,i,o):e}function vt(e,t,r,o,i,a){var s=o>>>r&fn,u=e&&s<e.array.length;if(!u&&void 0===i)return e;var l;if(r>0){var c=e&&e.array[s],f=vt(c,t,r-ln,o,i,a);return f===c?e:(l=gt(e,t),l.array[s]=f,l)}return u&&e.array[s]===i?e:(n(a),l=gt(e,t),void 0===i&&s===l.array.length-1?l.array.pop():l.array[s]=i,l)}function gt(e,t){return t&&e&&t===e.ownerID?e:new pt(e?e.array.slice():[],t)}function bt(e,t){if(t>=St(e._capacity))return e._tail;if(t<1<<e._level+ln){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&fn],r-=ln;return n}}function _t(e,t,n){var o=e.__ownerID||new r,i=e._origin,a=e._capacity,s=i+t,u=void 0===n?a:n<0?a+n:i+n;if(s===i&&u===a)return e;if(s>=u)return e.clear();for(var l=e._level,c=e._root,f=0;s+f<0;)c=new pt(c&&c.array.length?[void 0,c]:[],o),l+=ln,f+=1<<l;f&&(s+=f,i+=f,u+=f,a+=f);for(var p=St(a),d=St(u);d>=1<<l+ln;)c=new pt(c&&c.array.length?[c]:[],o),l+=ln;var h=e._tail,y=d<p?bt(e,u-1):d>p?new pt([],o):h;if(h&&d>p&&s<a&&h.array.length){c=gt(c,o);for(var m=c,v=l;v>ln;v-=ln){var g=p>>>v&fn;m=m.array[g]=gt(m.array[g],o)}m.array[p>>>ln&fn]=h}if(u<a&&(y=y&&y.removeAfter(o,0,u)),s>=d)s-=d,u-=d,l=ln,c=null,y=y&&y.removeBefore(o,0,s);else if(s>i||d<p){for(f=0;c;){var b=s>>>l&fn;if(b!==d>>>l&fn)break;b&&(f+=(1<<l)*b),l-=ln,c=c.array[b]}c&&s>i&&(c=c.removeBefore(o,l,s-f)),c&&d<p&&(c=c.removeAfter(o,l,d-f)),f&&(s-=f,u-=f)}return e.__ownerID?(e.size=u-s,e._origin=s,e._capacity=u,e._level=l,e._root=c,e._tail=y,e.__hash=void 0,e.__altered=!0,e):ht(s,u,l,c,y)}function wt(e,t,n){for(var r=[],o=0,i=0;i<n.length;i++){var a=n[i],s=h(a);s.size>o&&(o=s.size),m(a)||(s=s.map(function(e){return Q(e)})),r.push(s)}return o>e.size&&(e=e.setSize(o)),ot(e,t,r)}function St(e){return e<cn?0:e-1>>>ln<<ln}function Tt(e){return null===e||void 0===e?Et():xt(e)?e:Et().withMutations(function(t){var n=d(e);se(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function xt(e){return qe(e)&&_(e)}function Pt(e,t,n,r){var o=Object.create(Tt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Et(){return Gn||(Gn=Pt(Ge(),yt()))}function Ct(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(n===pn){if(!u)return e;a.size>=cn&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Pt(r,o)}function Ot(e){return null===e||void 0===e?jt():Rt(e)?e:jt().unshiftAll(e)}function Rt(e){return!(!e||!e[Kn])}function kt(e,t,n,r){var o=Object.create(Qn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function jt(){return Jn||(Jn=kt(0))}function It(e){return null===e||void 0===e?Dt():Mt(e)?e:Dt().withMutations(function(t){var n=y(e);se(n.size),n.forEach(function(e){return t.add(e)})})}function Mt(e){return!(!e||!e[Xn])}function At(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Nt(e,t){var n=Object.create(Zn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Dt(){return er||(er=Nt(Ge()))}function Lt(e){return null===e||void 0===e?Ut():qt(e)?e:Ut().withMutations(function(t){var n=y(e);se(n.size),n.forEach(function(e){return t.add(e)})})}function qt(e){return Mt(e)&&_(e)}function Ft(e,t){var n=Object.create(tr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Ut(){return nr||(nr=Ft(Et()))}function Ht(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);zt(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Le(i)},o=r.prototype=Object.create(rr);return o.constructor=r,r}function Bt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Vt(e){return e._name||e.constructor.name||"Record"}function zt(e,t){try{t.forEach($t.bind(void 0,e))}catch(n){}}function $t(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ae(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Wt(e,t){if(e===t)return!0;if(!m(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||v(e)!==v(t)||g(e)!==g(t)||_(e)!==_(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!b(e);if(_(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&K(o[1],e)&&(n||K(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!K(t,e.get(r,pn)):!K(e.get(r,pn),t))return a=!1,!1});return a&&e.size===s}function Yt(e,t,n){if(!(this instanceof Yt))return new Yt(e,t,n);if(ae(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(or)return or;or=this}}function Gt(e,t){if(!(this instanceof Gt))return new Gt(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(ir)return ir;ir=this}}function Kt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Qt(e,t){return t}function Jt(e,t){return[t,e]}function Xt(e){return function(){return!e.apply(this,arguments)}}function Zt(e){return function(){return-e.apply(this,arguments)}}function en(e){return"string"==typeof e?JSON.stringify(e):e}function tn(){return o(arguments)}function nn(e,t){return e<t?1:e>t?-1:0}function rn(e){if(e.size===1/0)return 0;var t=_(e),n=v(e),r=t?1:0,o=e.__iterate(n?t?function(e,t){r=31*r+an(te(e),te(t))|0}:function(e,t){r=r+an(te(e),te(t))|0}:t?function(e){r=31*r+te(e)|0}:function(e){r=r+te(e)|0});return on(o,r)}function on(e,t){return t=On(t,3432918353),t=On(t<<15|t>>>-15,461845907),t=On(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=On(t^t>>>16,2246822507),t=On(t^t>>>13,3266489909),t=ee(t^t>>>16)}function an(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sn=Array.prototype.slice,un="delete",ln=5,cn=1<<ln,fn=cn-1,pn={},dn={value:!1},hn={value:!1};e(d,p),e(h,p),e(y,p),p.isIterable=m,p.isKeyed=v,p.isIndexed=g,p.isAssociative=b,p.isOrdered=_,p.Keyed=d,p.Indexed=h,p.Set=y;var yn="@@__IMMUTABLE_ITERABLE__@@",mn="@@__IMMUTABLE_KEYED__@@",vn="@@__IMMUTABLE_INDEXED__@@",gn="@@__IMMUTABLE_ORDERED__@@",bn=0,_n=1,wn=2,Sn="function"==typeof Symbol&&Symbol.iterator,Tn="@@iterator",xn=Sn||Tn;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=bn,w.VALUES=_n,w.ENTRIES=wn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[xn]=function(){return this},e(R,p),R.of=function(){return R(arguments)},R.prototype.toSeq=function(){return this},R.prototype.toString=function(){return this.__toString("Seq {","}")},R.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},R.prototype.__iterate=function(e,t){return V(this,e,t,!0)},R.prototype.__iterator=function(e,t){return z(this,e,t,!0)},e(k,R),k.prototype.toKeyedSeq=function(){return this},e(j,R),j.of=function(){return j(arguments)},j.prototype.toIndexedSeq=function(){return this},j.prototype.toString=function(){return this.__toString("Seq [","]")},j.prototype.__iterate=function(e,t){return V(this,e,t,!1)},j.prototype.__iterator=function(e,t){return z(this,e,t,!1)},e(I,R),I.of=function(){return I(arguments)},I.prototype.toSetSeq=function(){return this},R.isSeq=L,R.Keyed=k,R.Set=I,R.Indexed=j;var Pn="@@__IMMUTABLE_SEQ__@@";R.prototype[Pn]=!0,e(M,j),M.prototype.get=function(e,t){return this.has(e)?this._array[a(this,e)]:t},M.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(e(n[t?r-o:o],o,this)===!1)return o+1;return o},M.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new w(function(){return o>r?T():S(e,o,n[t?r-o++:o++])})},e(A,k),A.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},A.prototype.has=function(e){return this._object.hasOwnProperty(e)},A.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(e(n[a],a,this)===!1)return i+1}return i},A.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new w(function(){var a=r[t?o-i:i];return i++>o?T():S(e,a,n[a])})},A.prototype[gn]=!0,e(N,j),N.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=E(n),o=0;if(P(r))for(var i;!(i=r.next()).done&&e(i.value,o++,this)!==!1;);return o},N.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=E(n);if(!P(r))return new w(T);var o=0;return new w(function(){var t=r.next();return t.done?t:S(e,o++,t.value)})},e(D,j),D.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(e(r[o],o++,this)===!1)return o;for(var i;!(i=n.next()).done;){var a=i.value;if(r[o]=a,e(a,o++,this)===!1)break}return o},D.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new w(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return S(e,o,r[o++])})};var En;e($,p),e(W,$),e(Y,$),e(G,$),$.Keyed=W,$.Indexed=Y,$.Set=G;var Cn,On="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e=0|e,t=0|t;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},Rn=Object.isExtensible,kn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),jn="function"==typeof WeakMap;jn&&(Cn=new WeakMap);var In=0,Mn="__immutablehash__";"function"==typeof Symbol&&(Mn=Symbol(Mn));var An=16,Nn=255,Dn=0,Ln={};e(ue,k),ue.prototype.get=function(e,t){return this._iter.get(e,t)},ue.prototype.has=function(e){return this._iter.has(e)},ue.prototype.valueSeq=function(){return this._iter.valueSeq()},ue.prototype.reverse=function(){var e=this,t=he(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},ue.prototype.map=function(e,t){var n=this,r=de(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},ue.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?je(this):0,function(o){return e(o,t?--n:n++,r)}),t)},ue.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(_n,t),r=t?je(this):0;return new w(function(){var o=n.next();return o.done?o:S(e,t?--r:r++,o.value,o)})},ue.prototype[gn]=!0,e(le,j),le.prototype.includes=function(e){return this._iter.includes(e)},le.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},le.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_n,t),r=0;return new w(function(){var t=n.next();return t.done?t:S(e,r++,t.value,t)})},e(ce,I),ce.prototype.has=function(e){return this._iter.includes(e)},ce.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ce.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_n,t);return new w(function(){var t=n.next();return t.done?t:S(e,t.value,t.value,t)})},e(fe,k),fe.prototype.entrySeq=function(){return this._iter.toSeq()},fe.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){ke(t);var r=m(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},fe.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_n,t);return new w(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){ke(r);var o=m(r);return S(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},le.prototype.cacheResult=ue.prototype.cacheResult=ce.prototype.cacheResult=fe.prototype.cacheResult=Ae,e(Le,W),Le.prototype.toString=function(){return this.__toString("Map {","}")},Le.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Le.prototype.set=function(e,t){return Ke(this,e,t)},Le.prototype.setIn=function(e,t){
return this.updateIn(e,pn,function(){return t})},Le.prototype.remove=function(e){return Ke(this,e,pn)},Le.prototype.deleteIn=function(e){return this.updateIn(e,function(){return pn})},Le.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Le.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=it(this,De(e),t,n);return r===pn?void 0:r},Le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ge()},Le.prototype.merge=function(){return nt(this,void 0,arguments)},Le.prototype.mergeWith=function(e){var t=sn.call(arguments,1);return nt(this,e,t)},Le.prototype.mergeIn=function(e){var t=sn.call(arguments,1);return this.updateIn(e,Ge(),function(e){return e.merge.apply(e,t)})},Le.prototype.mergeDeep=function(){return nt(this,rt(void 0),arguments)},Le.prototype.mergeDeepWith=function(e){var t=sn.call(arguments,1);return nt(this,rt(e),t)},Le.prototype.mergeDeepIn=function(e){var t=sn.call(arguments,1);return this.updateIn(e,Ge(),function(e){return e.mergeDeep.apply(e,t)})},Le.prototype.sort=function(e){return Tt(Pe(this,e))},Le.prototype.sortBy=function(e,t){return Tt(Pe(this,t,e))},Le.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Le.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new r)},Le.prototype.asImmutable=function(){return this.__ensureOwner()},Le.prototype.wasAltered=function(){return this.__altered},Le.prototype.__iterator=function(e,t){return new ze(this,e,t)},Le.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Le.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ye(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Le.isMap=qe;var qn="@@__IMMUTABLE_MAP__@@",Fn=Le.prototype;Fn[qn]=!0,Fn[un]=Fn.remove,Fn.removeIn=Fn.deleteIn,Fe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(K(n,o[i][0]))return o[i][1];return r},Fe.prototype.update=function(e,t,r,i,a,s,u){for(var l=a===pn,c=this.entries,f=0,p=c.length;f<p&&!K(i,c[f][0]);f++);var d=f<p;if(d?c[f][1]===a:l)return this;if(n(u),(l||!d)&&n(s),!l||1!==c.length){if(!d&&!l&&c.length>=Hn)return Ze(e,c,i,a);var h=e&&e===this.ownerID,y=h?c:o(c);return d?l?f===p-1?y.pop():y[f]=y.pop():y[f]=[i,a]:y.push([i,a]),h?(this.entries=y,this):new Fe(e,y)}},Ue.prototype.get=function(e,t,n,r){void 0===t&&(t=te(n));var o=1<<((0===e?t:t>>>e)&fn),i=this.bitmap;return 0===(i&o)?r:this.nodes[at(i&o-1)].get(e+ln,t,n,r)},Ue.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=te(r));var s=(0===t?n:n>>>t)&fn,u=1<<s,l=this.bitmap,c=0!==(l&u);if(!c&&o===pn)return this;var f=at(l&u-1),p=this.nodes,d=c?p[f]:void 0,h=Qe(d,e,t+ln,n,r,o,i,a);if(h===d)return this;if(!c&&h&&p.length>=Bn)return tt(e,p,l,s,h);if(c&&!h&&2===p.length&&Je(p[1^f]))return p[1^f];if(c&&h&&1===p.length&&Je(h))return h;var y=e&&e===this.ownerID,m=c?h?l:l^u:l|u,v=c?h?st(p,f,h,y):lt(p,f,y):ut(p,f,h,y);return y?(this.bitmap=m,this.nodes=v,this):new Ue(e,m,v)},He.prototype.get=function(e,t,n,r){void 0===t&&(t=te(n));var o=(0===e?t:t>>>e)&fn,i=this.nodes[o];return i?i.get(e+ln,t,n,r):r},He.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=te(r));var s=(0===t?n:n>>>t)&fn,u=o===pn,l=this.nodes,c=l[s];if(u&&!c)return this;var f=Qe(c,e,t+ln,n,r,o,i,a);if(f===c)return this;var p=this.count;if(c){if(!f&&(p--,p<Vn))return et(e,l,p,s)}else p++;var d=e&&e===this.ownerID,h=st(l,s,f,d);return d?(this.count=p,this.nodes=h,this):new He(e,p,h)},Be.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(K(n,o[i][0]))return o[i][1];return r},Be.prototype.update=function(e,t,r,i,a,s,u){void 0===r&&(r=te(i));var l=a===pn;if(r!==this.keyHash)return l?this:(n(u),n(s),Xe(this,e,t,r,[i,a]));for(var c=this.entries,f=0,p=c.length;f<p&&!K(i,c[f][0]);f++);var d=f<p;if(d?c[f][1]===a:l)return this;if(n(u),(l||!d)&&n(s),l&&2===p)return new Ve(e,this.keyHash,c[1^f]);var h=e&&e===this.ownerID,y=h?c:o(c);return d?l?f===p-1?y.pop():y[f]=y.pop():y[f]=[i,a]:y.push([i,a]),h?(this.entries=y,this):new Be(e,this.keyHash,y)},Ve.prototype.get=function(e,t,n,r){return K(n,this.entry[0])?this.entry[1]:r},Ve.prototype.update=function(e,t,r,o,i,a,s){var u=i===pn,l=K(o,this.entry[0]);return(l?i===this.entry[1]:u)?this:(n(s),u?void n(a):l?e&&e===this.ownerID?(this.entry[1]=i,this):new Ve(e,this.keyHash,[o,i]):(n(a),Xe(this,e,t,te(o),[o,i])))},Fe.prototype.iterate=Be.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},Ue.prototype.iterate=He.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&i.iterate(e,t)===!1)return!1}},Ve.prototype.iterate=function(e,t){return e(this.entry)},e(ze,w),ze.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return $e(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return $e(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return $e(e,i.entry);t=this._stack=We(i,t)}continue}t=this._stack=this._stack.__prev}return T()};var Un,Hn=cn/4,Bn=cn/2,Vn=cn/4;e(ct,Y),ct.of=function(){return this(arguments)},ct.prototype.toString=function(){return this.__toString("List [","]")},ct.prototype.get=function(e,t){if(e=a(this,e),e<0||e>=this.size)return t;e+=this._origin;var n=bt(this,e);return n&&n.array[e&fn]},ct.prototype.set=function(e,t){return mt(this,e,t)},ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ln,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):yt()},ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){_t(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},ct.prototype.pop=function(){return _t(this,0,-1)},ct.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){_t(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},ct.prototype.shift=function(){return _t(this,1)},ct.prototype.merge=function(){return wt(this,void 0,arguments)},ct.prototype.mergeWith=function(e){var t=sn.call(arguments,1);return wt(this,e,t)},ct.prototype.mergeDeep=function(){return wt(this,rt(void 0),arguments)},ct.prototype.mergeDeepWith=function(e){var t=sn.call(arguments,1);return wt(this,rt(e),t)},ct.prototype.setSize=function(e){return _t(this,0,e)},ct.prototype.slice=function(e,t){var n=this.size;return u(e,t,n)?this:_t(this,l(e,n),c(t,n))},ct.prototype.__iterator=function(e,t){var n=0,r=dt(this,t);return new w(function(){var t=r();return t===Yn?T():S(e,n++,t)})},ct.prototype.__iterate=function(e,t){for(var n,r=0,o=dt(this,t);(n=o())!==Yn&&e(n,r++,this)!==!1;);return r},ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ht(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ct.isList=ft;var zn="@@__IMMUTABLE_LIST__@@",$n=ct.prototype;$n[zn]=!0,$n[un]=$n.remove,$n.setIn=Fn.setIn,$n.deleteIn=$n.removeIn=Fn.removeIn,$n.update=Fn.update,$n.updateIn=Fn.updateIn,$n.mergeIn=Fn.mergeIn,$n.mergeDeepIn=Fn.mergeDeepIn,$n.withMutations=Fn.withMutations,$n.asMutable=Fn.asMutable,$n.asImmutable=Fn.asImmutable,$n.wasAltered=Fn.wasAltered,pt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&fn;if(r>=this.array.length)return new pt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if(o=a&&a.removeBefore(e,t-ln,n),o===a&&i)return this}if(i&&!o)return this;var s=gt(this,e);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},pt.prototype.removeAfter=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n-1>>>t&fn;if(r>=this.array.length)return this;var o,i=r===this.array.length-1;if(t>0){var a=this.array[r];if(o=a&&a.removeAfter(e,t-ln,n),o===a&&i)return this}if(i&&!o)return this;var s=gt(this,e);return i||s.array.pop(),o&&(s.array[r]=o),s};var Wn,Yn={};e(Tt,Le),Tt.of=function(){return this(arguments)},Tt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Tt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Et()},Tt.prototype.set=function(e,t){return Ct(this,e,t)},Tt.prototype.remove=function(e){return Ct(this,e,pn)},Tt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Tt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Tt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Tt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Pt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Tt.isOrderedMap=xt,Tt.prototype[gn]=!0,Tt.prototype[un]=Tt.prototype.remove;var Gn;e(Ot,Y),Ot.of=function(){return this(arguments)},Ot.prototype.toString=function(){return this.__toString("Stack [","]")},Ot.prototype.get=function(e,t){var n=this._head;for(e=a(this,e);n&&e--;)n=n.next;return n?n.value:t},Ot.prototype.peek=function(){return this._head&&this._head.value},Ot.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):kt(e,t)},Ot.prototype.pushAll=function(e){if(e=h(e),0===e.size)return this;se(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):kt(t,n)},Ot.prototype.pop=function(){return this.slice(1)},Ot.prototype.unshift=function(){return this.push.apply(this,arguments)},Ot.prototype.unshiftAll=function(e){return this.pushAll(e)},Ot.prototype.shift=function(){return this.pop.apply(this,arguments)},Ot.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):jt()},Ot.prototype.slice=function(e,t){if(u(e,t,this.size))return this;var n=l(e,this.size),r=c(t,this.size);if(r!==this.size)return Y.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):kt(o,i)},Ot.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ot.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},Ot.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new w(function(){if(r){var t=r.value;return r=r.next,S(e,n++,t)}return T()})},Ot.isStack=Rt;var Kn="@@__IMMUTABLE_STACK__@@",Qn=Ot.prototype;Qn[Kn]=!0,Qn.withMutations=Fn.withMutations,Qn.asMutable=Fn.asMutable,Qn.asImmutable=Fn.asImmutable,Qn.wasAltered=Fn.wasAltered;var Jn;e(It,G),It.of=function(){return this(arguments)},It.fromKeys=function(e){return this(d(e).keySeq())},It.prototype.toString=function(){return this.__toString("Set {","}")},It.prototype.has=function(e){return this._map.has(e)},It.prototype.add=function(e){return At(this,this._map.set(e,!0))},It.prototype.remove=function(e){return At(this,this._map.remove(e))},It.prototype.clear=function(){return At(this,this._map.clear())},It.prototype.union=function(){var e=sn.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)y(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},It.prototype.intersect=function(){var e=sn.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return y(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},It.prototype.subtract=function(){var e=sn.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return y(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},It.prototype.merge=function(){return this.union.apply(this,arguments)},It.prototype.mergeWith=function(e){var t=sn.call(arguments,1);return this.union.apply(this,t)},It.prototype.sort=function(e){return Lt(Pe(this,e))},It.prototype.sortBy=function(e,t){return Lt(Pe(this,t,e))},It.prototype.wasAltered=function(){return this._map.wasAltered()},It.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},It.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},It.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},It.isSet=Mt;var Xn="@@__IMMUTABLE_SET__@@",Zn=It.prototype;Zn[Xn]=!0,Zn[un]=Zn.remove,Zn.mergeDeep=Zn.merge,Zn.mergeDeepWith=Zn.mergeWith,Zn.withMutations=Fn.withMutations,Zn.asMutable=Fn.asMutable,Zn.asImmutable=Fn.asImmutable,Zn.__empty=Dt,Zn.__make=Nt;var er;e(Lt,It),Lt.of=function(){return this(arguments)},Lt.fromKeys=function(e){return this(d(e).keySeq())},Lt.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Lt.isOrderedSet=qt;var tr=Lt.prototype;tr[gn]=!0,tr.__empty=Ut,tr.__make=Ft;var nr;e(Ht,W),Ht.prototype.toString=function(){return this.__toString(Vt(this)+" {","}")},Ht.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Ht.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Ht.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Bt(this,Ge()))},Ht.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Vt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Bt(this,n)},Ht.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Bt(this,t)},Ht.prototype.wasAltered=function(){return this._map.wasAltered()},Ht.prototype.__iterator=function(e,t){var n=this;return d(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},Ht.prototype.__iterate=function(e,t){var n=this;return d(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},Ht.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Bt(this,t,e):(this.__ownerID=e,this._map=t,this)};var rr=Ht.prototype;rr[un]=rr.remove,rr.deleteIn=rr.removeIn=Fn.removeIn,rr.merge=Fn.merge,rr.mergeWith=Fn.mergeWith,rr.mergeIn=Fn.mergeIn,rr.mergeDeep=Fn.mergeDeep,rr.mergeDeepWith=Fn.mergeDeepWith,rr.mergeDeepIn=Fn.mergeDeepIn,rr.setIn=Fn.setIn,rr.update=Fn.update,rr.updateIn=Fn.updateIn,rr.withMutations=Fn.withMutations,rr.asMutable=Fn.asMutable,rr.asImmutable=Fn.asImmutable,e(Yt,j),Yt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Yt.prototype.get=function(e,t){return this.has(e)?this._start+a(this,e)*this._step:t},Yt.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Yt.prototype.slice=function(e,t){return u(e,t,this.size)?this:(e=l(e,this.size),t=c(t,this.size),t<=e?new Yt(0,0):new Yt(this.get(e,this._end),this.get(t,this._end),this._step))},Yt.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Yt.prototype.lastIndexOf=function(e){return this.indexOf(e)},Yt.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(e(o,i,this)===!1)return i+1;o+=t?-r:r}return i},Yt.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new w(function(){var a=o;return o+=t?-r:r,i>n?T():S(e,i++,a)})},Yt.prototype.equals=function(e){return e instanceof Yt?this._start===e._start&&this._end===e._end&&this._step===e._step:Wt(this,e)};var or;e(Gt,j),Gt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Gt.prototype.get=function(e,t){return this.has(e)?this._value:t},Gt.prototype.includes=function(e){return K(this._value,e)},Gt.prototype.slice=function(e,t){var n=this.size;return u(e,t,n)?this:new Gt(this._value,c(t,n)-l(e,n))},Gt.prototype.reverse=function(){return this},Gt.prototype.indexOf=function(e){return K(this._value,e)?0:-1},Gt.prototype.lastIndexOf=function(e){return K(this._value,e)?this.size:-1},Gt.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},Gt.prototype.__iterator=function(e,t){var n=this,r=0;return new w(function(){return r<n.size?S(e,r++,n._value):T()})},Gt.prototype.equals=function(e){return e instanceof Gt?K(this._value,e._value):Wt(e)};var ir;p.Iterator=w,Kt(p,{toArray:function(){se(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new le(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new ue(this,(!0))},toMap:function(){return Le(this.toKeyedSeq())},toObject:function(){se(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Tt(this.toKeyedSeq())},toOrderedSet:function(){return Lt(v(this)?this.valueSeq():this)},toSet:function(){return It(v(this)?this.valueSeq():this)},toSetSeq:function(){return new ce(this)},toSeq:function(){return g(this)?this.toIndexedSeq():v(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ot(v(this)?this.valueSeq():this)},toList:function(){return ct(v(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=sn.call(arguments,0);return Re(this,we(this,e))},contains:function(e){return this.includes(e)},includes:function(e){return this.some(function(t){return K(t,e)})},entries:function(){return this.__iterator(wn)},every:function(e,t){se(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Re(this,ye(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return se(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){se(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(bn)},map:function(e,t){return Re(this,de(this,e,t))},reduce:function(e,t,n){se(this.size);var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Re(this,he(this,!0))},slice:function(e,t){return Re(this,ge(this,e,t,!0))},some:function(e,t){return!this.every(Xt(e),t)},sort:function(e){return Re(this,Pe(this,e))},values:function(){return this.__iterator(_n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return i(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return me(this,e,t)},equals:function(e){return Wt(this,e)},entrySeq:function(){var e=this;if(e._cache)return new M(e._cache);var t=e.toSeq().map(Jt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Xt(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(s)},flatMap:function(e,t){return Re(this,Te(this,e,t))},flatten:function(e){return Re(this,Se(this,e,!0))},fromEntrySeq:function(){return new fe(this)},get:function(e,t){return this.find(function(t,n){return K(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=De(e);!(n=o.next()).done;){var i=n.value;if(r=r&&r.get?r.get(i,pn):pn,r===pn)return t}return r},groupBy:function(e,t){return ve(this,e,t)},has:function(e){return this.get(e,pn)!==pn},hasIn:function(e){return this.getIn(e,pn)!==pn},isSubset:function(e){return e="function"==typeof e.includes?e:p(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e.isSubset(this)},keySeq:function(){return this.toSeq().map(Qt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Ee(this,e)},maxBy:function(e,t){return Ee(this,t,e)},min:function(e){return Ee(this,e?Zt(e):nn)},minBy:function(e,t){return Ee(this,t?Zt(t):nn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Re(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Re(this,_e(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Xt(e),t)},sortBy:function(e,t){return Re(this,Pe(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Re(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Re(this,be(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Xt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=rn(this))}});var ar=p.prototype;ar[yn]=!0,ar[xn]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=en,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,function(){try{Object.defineProperty(ar,"length",{get:function(){if(!p.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Kt(d,{flip:function(){return Re(this,pe(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return K(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return K(t,e)})},mapEntries:function(e,t){var n=this,r=0;return Re(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Re(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var sr=d.prototype;sr[mn]=!0,sr[xn]=ar.entries,sr.__toJS=ar.toObject,sr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+en(e)},Kt(h,{toKeyedSeq:function(){return new ue(this,(!1))},filter:function(e,t){return Re(this,ye(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){return this.toSeq().reverse().indexOf(e)},reverse:function(){return Re(this,he(this,!1))},slice:function(e,t){return Re(this,ge(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=l(e,this.size);var r=this.slice(0,e);return Re(this,1===n?r:r.concat(o(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Re(this,Se(this,e,!1))},get:function(e,t){return e=a(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=a(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Re(this,xe(this,e))},interleave:function(){var e=[this].concat(o(arguments)),t=Oe(this.toSeq(),j.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Re(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Re(this,_e(this,e,t,!1))},zip:function(){var e=[this].concat(o(arguments));return Re(this,Oe(this,tn,e))},zipWith:function(e){var t=o(arguments);return t[0]=this,Re(this,Oe(this,e,t))}}),h.prototype[vn]=!0,h.prototype[gn]=!0,Kt(y,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),y.prototype.has=ar.includes,Kt(k,d.prototype),Kt(j,h.prototype),Kt(I,y.prototype),Kt(W,d.prototype),Kt(Y,h.prototype),Kt(G,y.prototype);var ur={Iterable:p,Seq:R,Collection:$,Map:Le,OrderedMap:Tt,List:ct,Stack:Ot,Set:It,OrderedSet:Lt,Record:Ht,Range:Yt,Repeat:Gt,is:K,fromJS:Q};return ur})},{}],276:[function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},{}],277:[function(e,t,n){!function(e){function n(e,t){if("object"!==o(e))return t;for(var r in t)"object"===o(e[r])&&"object"===o(t[r])?e[r]=n(e[r],t[r]):e[r]=t[r];return e}function r(e,t,r){var a=r[0],s=r.length;(e||"object"!==o(a))&&(a={});for(var u=0;u<s;++u){var l=r[u],c=o(l);if("object"===c)for(var f in l){var p=e?i.clone(l[f]):l[f];t?a[f]=n(a[f],p):a[f]=p}}return a}function o(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var i=function(e){return r(e===!0,!1,arguments)},a="merge";i.recursive=function(e){return r(e===!0,!0,arguments)},i.clone=function(e){var t,n,r=e,a=o(e);if("array"===a)for(r=[],n=e.length,t=0;t<n;++t)r[t]=i.clone(e[t]);else if("object"===a){r={};for(t in e)r[t]=i.clone(e[t])}return r},e?t.exports=i:window[a]=i}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)},{}],278:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return Kn.apply(null,arguments)}function r(e){Kn=e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return je(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function f(e){return null==e._pf&&(e._pf=c()),e._pf}function p(e){if(null==e._isValid){var t=f(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=l(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}function h(e){return void 0===e}function y(e,t){var n,r,o;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=f(t)),h(t._locale)||(e._locale=t._locale),Jn.length>0)for(n in Jn)r=Jn[n],o=t[r],h(o)||(e[r]=o);return e}function m(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Xn===!1&&(Xn=!0,n.updateOffset(this),Xn=!1)}function v(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function g(e){return e<0?Math.ceil(e):Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function _(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&a++;return a+i}function w(){}function S(e){return e?e.toLowerCase().replace("_","-"):e}function T(e){for(var t,n,r,o,i=0;i<e.length;){for(o=S(e[i]).split("-"),t=o.length,n=S(e[i+1]),n=n?n.split("-"):null;t>0;){if(r=x(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(o,n,!0)>=t-1)break;t--}i++}return null}function x(n){var r=null;if(!Zn[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=Qn._abbr,e("./locale/"+n),P(r)}catch(o){}return Zn[n]}function P(e,t){var n;return e&&(n=h(t)?C(e):E(e,t),n&&(Qn=n)),Qn._abbr}function E(e,t){return null!==t?(t.abbr=e,Zn[e]=Zn[e]||new w,Zn[e].set(t),P(e),Zn[e]):(delete Zn[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qn;if(!o(e)){if(t=x(e))return t;e=[e]}return T(e)}function O(e,t){var n=e.toLowerCase();er[n]=er[n+"s"]=er[t]=e}function R(e){return"string"==typeof e?er[e]||er[e.toLowerCase()]:void 0}function k(e){var t,n,r={};for(n in e)s(e,n)&&(t=R(n),t&&(r[t]=e[n]));return r}function j(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e,t){return function(r){return null!=r?(A(this,e,r),n.updateOffset(this,t),this):M(this,e)}}function M(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function A(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function N(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=R(e),j(this[e]))return this[e](t);return this}function D(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}function L(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(or[e]=o),t&&(or[t[0]]=function(){return D(o.apply(this,arguments),t[1],t[2])}),n&&(or[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,r=e.match(tr);for(t=0,n=r.length;t<n;t++)or[r[t]]?r[t]=or[r[t]]:r[t]=q(r[t]);return function(o){var i="";for(t=0;t<n;t++)i+=r[t]instanceof Function?r[t].call(o,e):r[t];return i}}function U(e,t){return e.isValid()?(t=H(t,e.localeData()),rr[t]=rr[t]||F(t),rr[t](e)):e.localeData().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(nr.lastIndex=0;r>=0&&nr.test(e);)e=e.replace(nr,n),nr.lastIndex=0,r-=1;return e}function B(e,t,n){Sr[e]=j(t)?t:function(e,r){return e&&n?n:t}}function V(e,t){return s(Sr,e)?Sr[e](t._strict,t._locale):new RegExp(z(e))}function z(e){return $(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){
return t||n||r||o}))}function $(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)Tr[e[n]]=r}function Y(e,t){W(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)})}function G(e,t,n){null!=t&&s(Tr,e)&&Tr[e](t,n._a,n,e)}function K(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Q(e,t){return o(this._months)?this._months[e.month()]:this._months[Mr.test(t)?"format":"standalone"][e.month()]}function J(e,t){return o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mr.test(t)?"format":"standalone"][e.month()]}function X(e,t,n){var r,o,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Z(e,t){var n;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),K(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e):e}function ee(e){return null!=e?(Z(this,e),n.updateOffset(this,!0),this):M(this,"Month")}function te(){return K(this.year(),this.month())}function ne(e){return this._monthsParseExact?(s(this,"_monthsRegex")||oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function re(e){return this._monthsParseExact?(s(this,"_monthsRegex")||oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function oe(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=l([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=$(r[t]),o[t]=$(o[t]),i[t]=$(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")$","i")}function ie(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[Pr]<0||n[Pr]>11?Pr:n[Er]<1||n[Er]>K(n[xr],n[Pr])?Er:n[Cr]<0||n[Cr]>24||24===n[Cr]&&(0!==n[Or]||0!==n[Rr]||0!==n[kr])?Cr:n[Or]<0||n[Or]>59?Or:n[Rr]<0||n[Rr]>59?Rr:n[kr]<0||n[kr]>999?kr:-1,f(e)._overflowDayOfYear&&(t<xr||t>Er)&&(t=Er),f(e)._overflowWeeks&&t===-1&&(t=jr),f(e)._overflowWeekday&&t===-1&&(t=Ir),f(e).overflow=t),e}function ae(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function se(e,t){var n=!0;return u(function(){return n&&(ae(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ue(e,t){qr[e]||(ae(t),qr[e]=!0)}function le(e){var t,n,r,o,i,a,s=e._i,u=Fr.exec(s)||Ur.exec(s);if(u){for(f(e).iso=!0,t=0,n=Br.length;t<n;t++)if(Br[t][1].exec(u[1])){o=Br[t][0],r=Br[t][2]!==!1;break}if(null==o)return void(e._isValid=!1);if(u[3]){for(t=0,n=Vr.length;t<n;t++)if(Vr[t][1].exec(u[3])){i=(u[2]||" ")+Vr[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(u[4]){if(!Hr.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),xe(e)}else e._isValid=!1}function ce(e){var t=zr.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(le(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function fe(e,t,n,r,o,i,a){var s=new Date(e,t,n,r,o,i,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function pe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function de(e){return he(e)?366:365}function he(e){return e%4===0&&e%100!==0||e%400===0}function ye(){return he(this.year())}function me(e,t,n){var r=7+t-n,o=(7+pe(e,0,r).getUTCDay()-t)%7;return-o+r-1}function ve(e,t,n,r,o){var i,a,s=(7+n-r)%7,u=me(e,r,o),l=1+7*(t-1)+s+u;return l<=0?(i=e-1,a=de(i)+l):l>de(e)?(i=e+1,a=l-de(e)):(i=e,a=l),{year:i,dayOfYear:a}}function ge(e,t,n){var r,o,i=me(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?(o=e.year()-1,r=a+be(o,t,n)):a>be(e.year(),t,n)?(r=a-be(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function be(e,t,n){var r=me(e,t,n),o=me(e+1,t,n);return(de(e)-r+o)/7}function _e(e,t,n){return null!=e?e:null!=t?t:n}function we(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Se(e){var t,n,r,o,i=[];if(!e._d){for(r=we(e),e._w&&null==e._a[Er]&&null==e._a[Pr]&&Te(e),e._dayOfYear&&(o=_e(e._a[xr],r[xr]),e._dayOfYear>de(o)&&(f(e)._overflowDayOfYear=!0),n=pe(o,0,e._dayOfYear),e._a[Pr]=n.getUTCMonth(),e._a[Er]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Cr]&&0===e._a[Or]&&0===e._a[Rr]&&0===e._a[kr]&&(e._nextDay=!0,e._a[Cr]=0),e._d=(e._useUTC?pe:fe).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Cr]=24)}}function Te(e){var t,n,r,o,i,a,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,a=4,n=_e(t.GG,e._a[xr],ge(Ie(),1,4).year),r=_e(t.W,1),o=_e(t.E,1),(o<1||o>7)&&(u=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,n=_e(t.gg,e._a[xr],ge(Ie(),i,a).year),r=_e(t.w,1),null!=t.d?(o=t.d,(o<0||o>6)&&(u=!0)):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(u=!0)):o=i),r<1||r>be(n,i,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(s=ve(n,r,o,i,a),e._a[xr]=s.year,e._dayOfYear=s.dayOfYear)}function xe(e){if(e._f===n.ISO_8601)return void le(e);e._a=[],f(e).empty=!0;var t,r,o,i,a,s=""+e._i,u=s.length,l=0;for(o=H(e._f,e._locale).match(tr)||[],t=0;t<o.length;t++)i=o[t],r=(s.match(V(i,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&f(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),or[i]?(r?f(e).empty=!1:f(e).unusedTokens.push(i),G(i,r,e)):e._strict&&!r&&f(e).unusedTokens.push(i);f(e).charsLeftOver=u-l,s.length>0&&f(e).unusedInput.push(s),f(e).bigHour===!0&&e._a[Cr]<=12&&e._a[Cr]>0&&(f(e).bigHour=void 0),e._a[Cr]=Pe(e._locale,e._a[Cr],e._meridiem),Se(e),ie(e)}function Pe(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Ee(e){var t,n,r,o,i;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],xe(t),p(t)&&(i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,(null==r||i<r)&&(r=i,n=t));u(e,n||t)}function Ce(e){if(!e._d){var t=k(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Se(e)}}function Oe(e){var t=new m(ie(Re(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Re(e){var t=e._i,n=e._f;return e._locale=e._locale||C(e._l),null===t||void 0===n&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new m(ie(t)):(o(n)?Ee(e):n?xe(e):i(t)?e._d=t:ke(e),p(e)||(e._d=null),e))}function ke(e){var t=e._i;void 0===t?e._d=new Date(n.now()):i(t)?e._d=new Date((+t)):"string"==typeof t?ce(e):o(t)?(e._a=a(t.slice(0),function(e){return parseInt(e,10)}),Se(e)):"object"==typeof t?Ce(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function je(e,t,n,r,o){var i={};return"boolean"==typeof n&&(r=n,n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,Oe(i)}function Ie(e,t,n,r){return je(e,t,n,r,!1)}function Me(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ie();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Ae(){var e=[].slice.call(arguments,0);return Me("isBefore",e)}function Ne(){var e=[].slice.call(arguments,0);return Me("isAfter",e)}function De(e){var t=k(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=C(),this._bubble()}function Le(e){return e instanceof De}function qe(e,t){L(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)})}function Fe(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],o=(r+"").match(Kr)||["-",0,0],i=+(60*o[1])+b(o[2]);return"+"===o[0]?i:-i}function Ue(e,t){var r,o;return t._isUTC?(r=t.clone(),o=(v(e)||i(e)?+e:+Ie(e))-+r,r._d.setTime(+r._d+o),n.updateOffset(r,!1),r):Ie(e).local()}function He(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Be(e,t){var r,o=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Fe(br,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(r=He(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?ot(this,Ze(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:He(this):null!=e?this:NaN}function Ve(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ze(e){return this.utcOffset(0,e)}function $e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(He(this),"m")),this}function We(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Fe(gr,this._i)),this}function Ye(e){return!!this.isValid()&&(e=e?Ie(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ke(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=Re(e),e._a){var t=e._isUTC?l(e._a):Ie(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Qe(){return!!this.isValid()&&!this._isUTC}function Je(){return!!this.isValid()&&this._isUTC}function Xe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ze(e,t){var n,r,o,i=e,a=null;return Le(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(a=Qr.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:b(a[Er])*n,h:b(a[Cr])*n,m:b(a[Or])*n,s:b(a[Rr])*n,ms:b(a[kr])*n}):(a=Jr.exec(e))?(n="-"===a[1]?-1:1,i={y:et(a[2],n),M:et(a[3],n),d:et(a[4],n),h:et(a[5],n),m:et(a[6],n),s:et(a[7],n),w:et(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=nt(Ie(i.from),Ie(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),r=new De(i),Le(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function et(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ue(t,e),e.isBefore(t)?n=tt(e,t):(n=tt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function rt(e,t){return function(n,r){var o,i;return null===r||isNaN(+r)||(ue(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,o=Ze(n,r),ot(this,o,e),this}}function ot(e,t,r,o){var i=t._milliseconds,a=t._days,s=t._months;e.isValid()&&(o=null==o||o,i&&e._d.setTime(+e._d+i*r),a&&A(e,"Date",M(e,"Date")+a*r),s&&Z(e,M(e,"Month")+s*r),o&&n.updateOffset(e,a||s))}function it(e,t){var n=e||Ie(),r=Ue(n,this).startOf("day"),o=this.diff(r,"days",!0),i=o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse",a=t&&(j(t[i])?t[i]():t[i]);return this.format(a||this.localeData().calendar(i,this,Ie(n)))}function at(){return new m(this)}function st(e,t){var n=v(e)?e:Ie(e);return!(!this.isValid()||!n.isValid())&&(t=R(h(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t))}function ut(e,t){var n=v(e)?e:Ie(e);return!(!this.isValid()||!n.isValid())&&(t=R(h(t)?"millisecond":t),"millisecond"===t?+this<+n:+this.clone().endOf(t)<+n)}function lt(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ct(e,t){var n,r=v(e)?e:Ie(e);return!(!this.isValid()||!r.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?+this===+r:(n=+r,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t)))}function ft(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dt(e,t,n){var r,o,i,a;return this.isValid()?(r=Ue(e,this),r.isValid()?(o=6e4*(r.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(a=ht(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(i=this-r,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?a:g(a)):NaN):NaN}function ht(e,t){var n,r,o=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(o,"months");return t-i<0?(n=e.clone().add(o-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(o+1,"months"),r=(t-i)/(n-i)),-(o+r)}function yt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?j(Date.prototype.toISOString)?this.toDate().toISOString():U(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function vt(e){var t=U(this,e||n.defaultFormat);return this.localeData().postformat(t)}function gt(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ie(e).isValid())?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bt(e){return this.from(Ie(),e)}function _t(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ie(e).isValid())?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wt(e){return this.to(Ie(),e)}function St(e){var t;return void 0===e?this._locale._abbr:(t=C(e),null!=t&&(this._locale=t),this)}function Tt(){return this._locale}function xt(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Pt(e){return e=R(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Et(){return+this._d-6e4*(this._offset||0)}function Ct(){return Math.floor(+this/1e3)}function Ot(){return this._offset?new Date((+this)):this._d}function Rt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function jt(){return this.isValid()?this.toISOString():"null"}function It(){return p(this)}function Mt(){return u({},f(this))}function At(){return f(this).overflow}function Nt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dt(e,t){L(0,[e,e.length],0,t)}function Lt(e){return Ht.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qt(e){return Ht.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ft(){return be(this.year(),1,4)}function Ut(){var e=this.localeData()._week;return be(this.year(),e.dow,e.doy)}function Ht(e,t,n,r,o){var i;return null==e?ge(this,r,o).year:(i=be(e,r,o),t>i&&(t=i),Bt.call(this,e,t,n,r,o))}function Bt(e,t,n,r,o){var i=ve(e,t,n,r,o),a=pe(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Vt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zt(e){return ge(e,this._week.dow,this._week.doy).week}function $t(){return this._week.dow}function Wt(){return this._week.doy}function Yt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Gt(e){var t=ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Kt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Qt(e,t){return o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Jt(e){return this._weekdaysShort[e.day()]}function Xt(e){return this._weekdaysMin[e.day()]}function Zt(e,t,n){var r,o,i;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Ie([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function en(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Kt(e,this.localeData()),this.add(e-t,"d")):t}function tn(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function nn(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function rn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function on(){return this.hours()%12||12}function an(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function sn(e,t){return t._meridiemParse}function un(e){return"p"===(e+"").toLowerCase().charAt(0)}function ln(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function cn(e,t){t[kr]=b(1e3*("0."+e))}function fn(){return this._isUTC?"UTC":""}function pn(){return this._isUTC?"Coordinated Universal Time":""}function dn(e){return Ie(1e3*e)}function hn(){return Ie.apply(null,arguments).parseZone()}function yn(e,t,n){var r=this._calendar[e];return j(r)?r.call(t,n):r}function mn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function vn(){return this._invalidDate}function gn(e){return this._ordinal.replace("%d",e)}function bn(e){return e}function _n(e,t,n,r){var o=this._relativeTime[n];return j(o)?o(e,t,n,r):o.replace(/%d/i,e)}function wn(e,t){var n=this._relativeTime[e>0?"future":"past"];return j(n)?n(t):n.replace(/%s/i,t)}function Sn(e){var t,n;for(n in e)t=e[n],j(t)?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function Tn(e,t,n,r){var o=C(),i=l().set(r,t);return o[n](i,e)}function xn(e,t,n,r,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Tn(e,t,n,o);var i,a=[];for(i=0;i<r;i++)a[i]=Tn(e,i,n,o);return a}function Pn(e,t){return xn(e,t,"months",12,"month")}function En(e,t){return xn(e,t,"monthsShort",12,"month")}function Cn(e,t){return xn(e,t,"weekdays",7,"day")}function On(e,t){return xn(e,t,"weekdaysShort",7,"day")}function Rn(e,t){return xn(e,t,"weekdaysMin",7,"day")}function kn(){var e=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),e.milliseconds=So(e.milliseconds),e.seconds=So(e.seconds),e.minutes=So(e.minutes),e.hours=So(e.hours),e.months=So(e.months),e.years=So(e.years),this}function jn(e,t,n,r){var o=Ze(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function In(e,t){return jn(this,e,t,1)}function Mn(e,t){return jn(this,e,t,-1)}function An(e){return e<0?Math.floor(e):Math.ceil(e)}function Nn(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,u=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*An(Ln(s)+a),a=0,s=0),u.milliseconds=i%1e3,e=g(i/1e3),u.seconds=e%60,t=g(e/60),u.minutes=t%60,n=g(t/60),u.hours=n%24,a+=g(n/24),o=g(Dn(a)),s+=o,a-=An(Ln(o)),r=g(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Dn(e){return 4800*e/146097}function Ln(e){return 146097*e/4800}function qn(e){var t,n,r=this._milliseconds;if(e=R(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Dn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ln(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Fn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function Un(e){return function(){return this.as(e)}}function Hn(e){return e=R(e),this[e+"s"]()}function Bn(e){return function(){return this._data[e]}}function Vn(){return g(this.days()/7)}function zn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function $n(e,t,n){var r=Ze(e).abs(),o=qo(r.as("s")),i=qo(r.as("m")),a=qo(r.as("h")),s=qo(r.as("d")),u=qo(r.as("M")),l=qo(r.as("y")),c=o<Fo.s&&["s",o]||i<=1&&["m"]||i<Fo.m&&["mm",i]||a<=1&&["h"]||a<Fo.h&&["hh",a]||s<=1&&["d"]||s<Fo.d&&["dd",s]||u<=1&&["M"]||u<Fo.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,zn.apply(null,c)}function Wn(e,t){return void 0!==Fo[e]&&(void 0===t?Fo[e]:(Fo[e]=t,!0))}function Yn(e){var t=this.localeData(),n=$n(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Gn(){var e,t,n,r=Uo(this._milliseconds)/1e3,o=Uo(this._days),i=Uo(this._months);e=g(r/60),t=g(e/60),r%=60,e%=60,n=g(i/12),i%=12;var a=n,s=i,u=o,l=t,c=e,f=r,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||f?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(f?f+"S":""):"P0D"}var Kn,Qn,Jn=n.momentProperties=[],Xn=!1,Zn={},er={},tr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rr={},or={},ir=/\d/,ar=/\d\d/,sr=/\d{3}/,ur=/\d{4}/,lr=/[+-]?\d{6}/,cr=/\d\d?/,fr=/\d\d\d\d?/,pr=/\d\d\d\d\d\d?/,dr=/\d{1,3}/,hr=/\d{1,4}/,yr=/[+-]?\d{1,6}/,mr=/\d+/,vr=/[+-]?\d+/,gr=/Z|[+-]\d\d:?\d\d/gi,br=/Z|[+-]\d\d(?::?\d\d)?/gi,_r=/[+-]?\d+(\.\d{1,3})?/,wr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Sr={},Tr={},xr=0,Pr=1,Er=2,Cr=3,Or=4,Rr=5,kr=6,jr=7,Ir=8;L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),B("M",cr),B("MM",cr,ar),B("MMM",function(e,t){return t.monthsShortRegex(e)}),B("MMMM",function(e,t){return t.monthsRegex(e)}),W(["M","MM"],function(e,t){t[Pr]=b(e)-1}),W(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[Pr]=o:f(n).invalidMonth=e});var Mr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ar="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Nr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Dr=wr,Lr=wr,qr={};n.suppressDeprecationWarnings=!1;var Fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ur=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Hr=/Z|[+-]\d\d(?::?\d\d)?/,Br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Vr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zr=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=se("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),L("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),O("year","y"),B("Y",vr),B("YY",cr,ar),B("YYYY",hr,ur),B("YYYYY",yr,lr),B("YYYYYY",yr,lr),W(["YYYYY","YYYYYY"],xr),W("YYYY",function(e,t){t[xr]=2===e.length?n.parseTwoDigitYear(e):b(e)}),W("YY",function(e,t){t[xr]=n.parseTwoDigitYear(e)}),W("Y",function(e,t){t[xr]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var $r=I("FullYear",!1);n.ISO_8601=function(){};var Wr=se("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),Yr=se("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),Gr=function(){return Date.now?Date.now():+new Date};qe("Z",":"),qe("ZZ",""),B("Z",br),B("ZZ",br),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Fe(br,e)});var Kr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Qr=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Jr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ze.fn=De.prototype;var Xr=rt(1,"add"),Zr=rt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var eo=se("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dt("gggg","weekYear"),Dt("ggggg","weekYear"),Dt("GGGG","isoWeekYear"),Dt("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),B("G",vr),B("g",vr),B("GG",cr,ar),B("gg",cr,ar),B("GGGG",hr,ur),B("gggg",hr,ur),B("GGGGG",yr,lr),B("ggggg",yr,lr),Y(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),Y(["gg","GG"],function(e,t,r,o){t[o]=n.parseTwoDigitYear(e)}),L("Q",0,"Qo","quarter"),O("quarter","Q"),B("Q",ir),W("Q",function(e,t){t[Pr]=3*(b(e)-1)}),L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),B("w",cr),B("ww",cr,ar),B("W",cr),B("WW",cr,ar),Y(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var to={dow:0,doy:6};L("D",["DD",2],"Do","date"),O("date","D"),B("D",cr),B("DD",cr,ar),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],Er),W("Do",function(e,t){t[Er]=b(e.match(cr)[0],10)});var no=I("Date",!0);L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),B("d",cr),B("e",cr),B("E",cr),B("dd",wr),B("ddd",wr),B("dddd",wr),Y(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:f(n).invalidWeekday=e}),Y(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var ro="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),io="Su_Mo_Tu_We_Th_Fr_Sa".split("_");L("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),B("DDD",dr),B("DDDD",sr),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),L("H",["HH",2],0,"hour"),L("h",["hh",2],0,on),L("hmm",0,0,function(){return""+on.apply(this)+D(this.minutes(),2)}),L("hmmss",0,0,function(){return""+on.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),an("a",!0),an("A",!1),O("hour","h"),B("a",sn),B("A",sn),B("H",cr),B("h",cr),B("HH",cr,ar),B("hh",cr,ar),B("hmm",fr),B("hmmss",pr),B("Hmm",fr),B("Hmmss",pr),W(["H","HH"],Cr),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[Cr]=b(e),f(n).bigHour=!0}),W("hmm",function(e,t,n){var r=e.length-2;t[Cr]=b(e.substr(0,r)),t[Or]=b(e.substr(r)),f(n).bigHour=!0}),W("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Cr]=b(e.substr(0,r)),t[Or]=b(e.substr(r,2)),t[Rr]=b(e.substr(o)),f(n).bigHour=!0}),W("Hmm",function(e,t,n){var r=e.length-2;t[Cr]=b(e.substr(0,r)),t[Or]=b(e.substr(r))}),W("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Cr]=b(e.substr(0,r)),t[Or]=b(e.substr(r,2)),t[Rr]=b(e.substr(o))});var ao=/[ap]\.?m?\.?/i,so=I("Hours",!0);L("m",["mm",2],0,"minute"),O("minute","m"),B("m",cr),B("mm",cr,ar),W(["m","mm"],Or);var uo=I("Minutes",!1);L("s",["ss",2],0,"second"),O("second","s"),B("s",cr),B("ss",cr,ar),W(["s","ss"],Rr);var lo=I("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),B("S",dr,ir),B("SS",dr,ar),B("SSS",dr,sr);var co;for(co="SSSS";co.length<=9;co+="S")B(co,mr);for(co="S";co.length<=9;co+="S")W(co,cn);var fo=I("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var po=m.prototype;po.add=Xr,po.calendar=it,po.clone=at,po.diff=dt,po.endOf=Pt,po.format=vt,po.from=gt,po.fromNow=bt,po.to=_t,po.toNow=wt,po.get=N,po.invalidAt=At,po.isAfter=st,po.isBefore=ut,po.isBetween=lt,po.isSame=ct,po.isSameOrAfter=ft,po.isSameOrBefore=pt,po.isValid=It,po.lang=eo,po.locale=St,po.localeData=Tt,po.max=Yr,po.min=Wr,po.parsingFlags=Mt,po.set=N,po.startOf=xt,po.subtract=Zr,po.toArray=Rt,po.toObject=kt,po.toDate=Ot,po.toISOString=mt,po.toJSON=jt,po.toString=yt,po.unix=Ct,po.valueOf=Et,po.creationData=Nt,
po.year=$r,po.isLeapYear=ye,po.weekYear=Lt,po.isoWeekYear=qt,po.quarter=po.quarters=Vt,po.month=ee,po.daysInMonth=te,po.week=po.weeks=Yt,po.isoWeek=po.isoWeeks=Gt,po.weeksInYear=Ut,po.isoWeeksInYear=Ft,po.date=no,po.day=po.days=en,po.weekday=tn,po.isoWeekday=nn,po.dayOfYear=rn,po.hour=po.hours=so,po.minute=po.minutes=uo,po.second=po.seconds=lo,po.millisecond=po.milliseconds=fo,po.utcOffset=Be,po.utc=ze,po.local=$e,po.parseZone=We,po.hasAlignedHourOffset=Ye,po.isDST=Ge,po.isDSTShifted=Ke,po.isLocal=Qe,po.isUtcOffset=Je,po.isUtc=Xe,po.isUTC=Xe,po.zoneAbbr=fn,po.zoneName=pn,po.dates=se("dates accessor is deprecated. Use date instead.",no),po.months=se("months accessor is deprecated. Use month instead",ee),po.years=se("years accessor is deprecated. Use year instead",$r),po.zone=se("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ve);var ho=po,yo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},mo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},vo="Invalid date",go="%d",bo=/\d{1,2}/,_o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},wo=w.prototype;wo._calendar=yo,wo.calendar=yn,wo._longDateFormat=mo,wo.longDateFormat=mn,wo._invalidDate=vo,wo.invalidDate=vn,wo._ordinal=go,wo.ordinal=gn,wo._ordinalParse=bo,wo.preparse=bn,wo.postformat=bn,wo._relativeTime=_o,wo.relativeTime=_n,wo.pastFuture=wn,wo.set=Sn,wo.months=Q,wo._months=Ar,wo.monthsShort=J,wo._monthsShort=Nr,wo.monthsParse=X,wo._monthsRegex=Lr,wo.monthsRegex=re,wo._monthsShortRegex=Dr,wo.monthsShortRegex=ne,wo.week=zt,wo._week=to,wo.firstDayOfYear=Wt,wo.firstDayOfWeek=$t,wo.weekdays=Qt,wo._weekdays=ro,wo.weekdaysMin=Xt,wo._weekdaysMin=io,wo.weekdaysShort=Jt,wo._weekdaysShort=oo,wo.weekdaysParse=Zt,wo.isPM=un,wo._meridiemParse=ao,wo.meridiem=ln,P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=se("moment.lang is deprecated. Use moment.locale instead.",P),n.langData=se("moment.langData is deprecated. Use moment.localeData instead.",C);var So=Math.abs,To=Un("ms"),xo=Un("s"),Po=Un("m"),Eo=Un("h"),Co=Un("d"),Oo=Un("w"),Ro=Un("M"),ko=Un("y"),jo=Bn("milliseconds"),Io=Bn("seconds"),Mo=Bn("minutes"),Ao=Bn("hours"),No=Bn("days"),Do=Bn("months"),Lo=Bn("years"),qo=Math.round,Fo={s:45,m:45,h:22,d:26,M:11},Uo=Math.abs,Ho=De.prototype;Ho.abs=kn,Ho.add=In,Ho.subtract=Mn,Ho.as=qn,Ho.asMilliseconds=To,Ho.asSeconds=xo,Ho.asMinutes=Po,Ho.asHours=Eo,Ho.asDays=Co,Ho.asWeeks=Oo,Ho.asMonths=Ro,Ho.asYears=ko,Ho.valueOf=Fn,Ho._bubble=Nn,Ho.get=Hn,Ho.milliseconds=jo,Ho.seconds=Io,Ho.minutes=Mo,Ho.hours=Ao,Ho.days=No,Ho.weeks=Vn,Ho.months=Do,Ho.years=Lo,Ho.humanize=Yn,Ho.toISOString=Gn,Ho.toString=Gn,Ho.toJSON=Gn,Ho.locale=St,Ho.localeData=Tt,Ho.toIsoString=se("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),Ho.lang=eo,L("X",0,0,"unix"),L("x",0,0,"valueOf"),B("x",vr),B("X",_r),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(b(e))}),n.version="2.11.1",r(Ie),n.fn=ho,n.min=Ae,n.max=Ne,n.now=Gr,n.utc=l,n.unix=dn,n.months=Pn,n.isDate=i,n.locale=P,n.invalid=d,n.duration=Ze,n.isMoment=v,n.weekdays=Cn,n.parseZone=hn,n.localeData=C,n.isDuration=Le,n.monthsShort=En,n.weekdaysMin=Rn,n.defineLocale=E,n.weekdaysShort=On,n.normalizeUnits=R,n.relativeTimeThreshold=Wn,n.prototype=ho;var Bo=n;return Bo})},{}],279:[function(e,t,n){function r(e,t,n,r){for(i=0;i<t.length;i++){var o=new RegExp(t[i][n],"g");e=e.replace(o,t[i][r])}return e}function o(e,t){return r(e,s.concat(t),0,1)}function a(e,t){return r(e,t.concat(s),1,0)}var s=[["&","&amp;"]],u=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]],l=u.concat([["©","&copy;"],["®","&reg;"],["™","&trade;"],["¢","&cent;"],["£","&pound;"],["¤","&curren;"],["¥","&yen;"],["€","&euro;"]]),c=[["−","&minus;"],["×","&times;"],["÷","&divide;"],["√","&radic;"],["∝","&prop;"],["∞","&infin;"],["∗","&lowast;"],["∠","&ang;"],["°","&deg;"],["±","&plusmn;"],["¬","&not;"],["<","&lt;"],[">","&gt;"],["≤","&le;"],["≥","&ge;"],["∫","&int;"],["∴","&there4;"],["∼","&sim;"],["≅","&cong;"],["≈","&asymp;"],["≠","&ne;"],["≡","&equiv;"],["∩","&cap;"],["∪","&cup;"],["⊂","&sub;"],["⊃","&sup;"],["⊄","&nsub;"],["⊆","&sube;"],["⊇","&supe;"],["⊕","&oplus;"],["⊗","&otimes;"],["⊥","&perp;"],["ƒ","&fnof;"],["¹","&sup1;"],["²","&sup2;"],["³","&sup3;"],["¼","&frac14;"],["½","&frac12;"],["¾","&frac34;"],["⋅","&sdot;"],["‰","&permil;"],["∧","&and;"],["∨","&or;"],["∀","&forall;"],["∂","&part;"],["∃","&exist;"],["∅","&empty;"],["∇","&nabla;"],["∈","&isin;"],["∉","&notin;"],["∋","&ni;"],["∏","&prod;"],["∑","&sum;"]],f=l.concat(c);t.exports={unicode:{escape:function(e){return o(e,u)},unescape:function(e){return a(e,u)}},popular:{escape:function(e){return o(e,l)},unescape:function(e){return a(e,l)}},math:{escape:function(e){return o(e,c)},unescape:function(e){return a(e,c)}},escape:function(e){return o(e,f)},unescape:function(e){return a(e,f)}}},{}],280:[function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=Object.assign||function(e,t){for(var n,o,i=r(e),a=1;a<arguments.length;a++){n=arguments[a],o=Object.keys(Object(n));for(var s=0;s<o.length;s++)i[o[s]]=n[o[s]]}return i}},{}],281:[function(e,t,n){function r(){p&&c&&(p=!1,c.length?f=c.concat(f):d=-1,f.length&&o())}function o(){if(!p){var e=s(r);p=!0;for(var t=f.length;t;){for(c=f,f=[];++d<t;)c&&c[d].run();d=-1,t=f.length}c=null,p=!1,u(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var s,u,l=t.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var c,f=[],p=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new i(e,t)),1!==f.length||p||s(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],282:[function(e,t,n){"use strict";t.exports=e("./lib")},{"./lib":287}],283:[function(e,t,n){"use strict";function r(){}function o(e){try{return e.then}catch(t){return v=t,g}}function i(e,t){try{return e(t)}catch(n){return v=n,g}}function a(e,t,n){try{e(t,n)}catch(r){return v=r,g}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&y(e,this)}function u(e,t,n){return new e.constructor(function(o,i){var a=new s(r);a.then(o,i),l(e,new h(t,n,a))})}function l(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void c(e,t)}function c(e,t){m(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):p(t.promise,e._65));var r=i(n,e._65);r===g?p(t.promise,v):f(t.promise,r)})}function f(e,t){if(t===e)return p(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=o(t);if(n===g)return p(e,v);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"==typeof n)return void y(n.bind(t),e)}e._81=1,e._65=t,d(e)}function p(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(l(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)l(e,e._54[t]);e._54=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function y(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,p(t,e))});n||r!==g||(n=!0,p(t,v))}var m=e("asap/raw"),v=null,g={};t.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return l(this,new h(e,t,n)),n}},{"asap/raw":229}],284:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})}},{"./core.js":283}],285:[function(e,t,n){"use strict";function r(e){var t=new o(o._61);return t._81=1,t._65=e,t}var o=e("./core.js");t.exports=o;var i=r(!0),a=r(!1),s=r(null),u=r(void 0),l=r(0),c=r("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return i;if(e===!1)return a;if(0===e)return l;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(n){return new o(function(e,t){t(n)})}return r(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"==typeof u){var l=new o(u.bind(s));return void l.then(function(e){r(a,e)},n)}}t[a]=s,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)r(a,t[a])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":283}],286:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype["finally"]=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},{"./core.js":283}],287:[function(e,t,n){"use strict";t.exports=e("./core.js"),e("./done.js"),e("./finally.js"),e("./es6-extensions.js"),e("./node-extensions.js"),e("./synchronous.js")},{"./core.js":283,"./done.js":284,"./es6-extensions.js":285,"./finally.js":286,"./node-extensions.js":288,"./synchronous.js":290}],288:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<t;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([s]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(i,e)}function o(e){for(var t=Math.max(e.length-1,3),n=[],r=0;r<t;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+s+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(i,e)}var i=e("./core.js"),a=e("asap");t.exports=i,i.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?r(e,t):o(e)};var s="function (err, res) {if (err) { rj(err); } else { rs(res); }}";i.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(o){if(null===n||"undefined"==typeof n)return new i(function(e,t){t(o)});a(function(){n.call(r,o)})}}},i.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){a(function(){e.call(t,null,n)})},function(n){a(function(){e.call(t,n)})})}},{"./core.js":283,asap:228}],289:[function(e,t,n){"use strict";function r(){l=!1,s._10=null,s._97=null}function o(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,i(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},l&&r(),l=!0;var o=0,c=0,f={};s._10=function(e){2===e._81&&f[e._72]&&(f[e._72].logged?n(e._72):clearTimeout(f[e._72].timeout),delete f[e._72])},s._97=function(e,n){0===e._45&&(e._72=o++,f[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),a(n,u)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=e("./core"),u=[ReferenceError,TypeError,RangeError],l=!1;n.disable=r,n.enable=o},{"./core":283}],290:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._81)return this._65.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._65},r.prototype.getReason=function(){if(3===this._81)return this._65.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._65},r.prototype.getState=function(){return 3===this._81?this._65.getState():this._81===-1||this._81===-2?0:this._81}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},{"./core.js":283}],291:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,p,d,h,y=e[c].replace(s,"%20"),m=y.indexOf(n);m>=0?(f=y.substr(0,m),p=y.substr(m+1)):(f=y,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],292:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[a]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],293:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":291,"./encode":292}],294:[function(e,t,n){"use strict";t.exports=e("react/lib/ReactDOM")},{"react/lib/ReactDOM":371}],295:[function(e,t,n){"use strict";t.exports=e("react/lib/ReactDOMServer")},{"react/lib/ReactDOMServer":381}],296:[function(e,t,n){"use strict";var r=e("./shallowEqualImmutable"),o={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};t.exports=o},{"./shallowEqualImmutable":297}],297:[function(e,t,n){function r(e,t){if(e===t||i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),a=0;a<n.length;a++)if(!o(n[a])||!i(e[n[a]],t[n[a]]))return!1;return!0}var o=e("immutable"),i=o.is.bind(o);t.exports=r},{immutable:275}],298:[function(e,t,n){"use strict";function r(){}t.exports=r},{}],299:[function(e,t,n){"use strict";var r=e("invariant"),o=e("can-use-dom"),i={length:1,back:function(){r(o,"Cannot use History.back without a DOM"),i.length-=1,window.history.back()}};t.exports=i},{"can-use-dom":233,invariant:276}],300:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var r=e.childRoutes;if(r)for(var i,u,l=0,c=r.length;l<c;++l)if(u=r[l],!u.isDefault&&!u.isNotFound&&(i=o(u,t,n)))return i.routes.unshift(e),i;var f=e.defaultRoute;if(f&&(d=a.extractParams(f.path,t)))return new s(t,d,n,[e,f]);var p=e.notFoundRoute;if(p&&(d=a.extractParams(p.path,t)))return new s(t,d,n,[e,p]);var d=a.extractParams(e.path,t);return d?new s(t,d,n,[e]):null}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./PathUtils"),s=function(){function e(t,n,o,i){r(this,e),this.pathname=t,this.params=n,this.query=o,this.routes=i}return i(e,null,[{key:"findMatch",value:function(e,t){for(var n=a.withoutQuery(t),r=a.extractQuery(t),i=null,s=0,u=e.length;null==i&&s<u;++s)i=o(e[s],n,r);return i}}]),e}();t.exports=s},{"./PathUtils":302}],301:[function(e,t,n){"use strict";var r=e("./PropTypes"),o={contextTypes:{router:r.router.isRequired},makePath:function(e,t,n){return this.context.router.makePath(e,t,n)},makeHref:function(e,t,n){return this.context.router.makeHref(e,t,n)},transitionTo:function(e,t,n){this.context.router.transitionTo(e,t,n)},replaceWith:function(e,t,n){this.context.router.replaceWith(e,t,n)},goBack:function(){return this.context.router.goBack()}};t.exports=o},{"./PropTypes":303}],302:[function(e,t,n){"use strict";function r(e){if(!(e in f)){var t=[],n=e.replace(s,function(e,n){return n?(t.push(n),"([^/?#]+)"):"*"===e?(t.push("splat"),"(.*?)"):"\\"+e});f[e]={matcher:new RegExp("^"+n+"$","i"),paramNames:t}}return f[e]}var o=e("invariant"),i=e("object-assign"),a=e("qs"),s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|[*.()\[\]\\+|{}^$]/g,u=/:([a-zA-Z_$][a-zA-Z0-9_$?]*[?]?)|[*]/g,l=/\/\/\?|\/\?\/|\/\?(?![^\/=]+=.*$)/g,c=/\?(.*)$/,f={},p={isAbsolute:function(e){return"/"===e.charAt(0)},join:function(e,t){return e.replace(/\/*$/,"/")+t},extractParamNames:function(e){return r(e).paramNames},extractParams:function(e,t){var n=r(e),o=n.matcher,i=n.paramNames,a=t.match(o);if(!a)return null;var s={};return i.forEach(function(e,t){s[e]=a[t+1]}),s},injectParams:function(e,t){t=t||{};var n=0;return e.replace(u,function(r,i){if(i=i||"splat","?"===i.slice(-1)){if(i=i.slice(0,-1),null==t[i])return""}else o(null!=t[i],'Missing "%s" parameter for path "%s"',i,e);var a;return"splat"===i&&Array.isArray(t[i])?(a=t[i][n++],o(null!=a,'Missing splat # %s for path "%s"',n,e)):a=t[i],a}).replace(l,"/")},extractQuery:function(e){var t=e.match(c);return t&&a.parse(t[1])},withoutQuery:function(e){return e.replace(c,"")},withQuery:function(e,t){var n=p.extractQuery(e);n&&(t=t?i(n,t):n);var r=a.stringify(t,{arrayFormat:"brackets"});return r?p.withoutQuery(e)+"?"+r:p.withoutQuery(e)}};t.exports=p},{invariant:276,"object-assign":280,qs:332}],303:[function(e,t,n){"use strict";var r=e("react/lib/Object.assign"),o=e("react").PropTypes,i=e("./Route"),a=r({},o,{falsy:function(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')},route:o.instanceOf(i),router:o.func});t.exports=a},{"./Route":305,react:465,"react/lib/Object.assign":358}],304:[function(e,t,n){"use strict";function r(e,t,n){this.to=e,this.params=t,this.query=n}t.exports=r},{}],305:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("react/lib/Object.assign"),s=e("invariant"),u=e("./warning"),l=e("./PathUtils"),c=function(){function e(t,n,o,i,a,s,u,c){r(this,e),this.name=t,this.path=n,this.paramNames=l.extractParamNames(this.path),this.ignoreScrollBehavior=!!o,this.isDefault=!!i,this.isNotFound=!!a,this.onEnter=s,this.onLeave=u,this.handler=c}return i(e,null,[{key:"createRoute",value:function(t,n){t=t||{},"string"==typeof t&&(t={path:t});var r=o;r?u(null==t.parentRoute||t.parentRoute===r,"You should not use parentRoute with createRoute inside another route's child callback; it is ignored"):r=t.parentRoute;var i=t.name,a=t.path||i;!a||t.isDefault||t.isNotFound?a=r?r.path:"/":l.isAbsolute(a)?r&&s(a===r.path||0===r.paramNames.length,'You cannot nest path "%s" inside "%s"; the parent requires URL parameters',a,r.path):a=r?l.join(r.path,a):"/"+a,t.isNotFound&&!/\*$/.test(a)&&(a+="*");var c=new e(i,a,t.ignoreScrollBehavior,t.isDefault,t.isNotFound,t.onEnter,t.onLeave,t.handler);if(r&&(c.isDefault?(s(null==r.defaultRoute,"%s may not have more than one default route",r),r.defaultRoute=c):c.isNotFound&&(s(null==r.notFoundRoute,"%s may not have more than one not found route",r),r.notFoundRoute=c),r.appendChild(c)),"function"==typeof n){var f=o;o=c,n.call(c,c),o=f}return c}},{key:"createDefaultRoute",value:function(t){return e.createRoute(a({},t,{isDefault:!0}))}},{key:"createNotFoundRoute",value:function(t){return e.createRoute(a({},t,{isNotFound:!0}))}},{key:"createRedirect",value:function(t){return e.createRoute(a({},t,{path:t.path||t.from||"*",onEnter:function(e,n,r){e.redirect(t.to,t.params||n,t.query||r)}}))}}]),i(e,[{key:"appendChild",value:function(t){s(t instanceof e,"route.appendChild must use a valid Route"),this.childRoutes||(this.childRoutes=[]),this.childRoutes.push(t)}},{key:"toString",value:function(){var e="<Route";return this.name&&(e+=' name="'+this.name+'"'),e+=' path="'+this.path+'">'}}]),e}();t.exports=c},{"./PathUtils":302,"./warning":331,invariant:276,"react/lib/Object.assign":358}],306:[function(e,t,n){"use strict";function r(e,t){if(!t)return!0;if(e.pathname===t.pathname)return!1;var n=e.routes,r=t.routes,o=n.filter(function(e){return r.indexOf(e)!==-1});return!o.some(function(e){return e.ignoreScrollBehavior})}var o=e("invariant"),i=e("can-use-dom"),a=e("./getWindowScrollPosition"),s={statics:{recordScrollPosition:function(e){this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[e]=a()},getScrollPosition:function(e){return this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[e]||null}},componentWillMount:function(){o(null==this.constructor.getScrollBehavior()||i,"Cannot use scroll behavior without a DOM")},componentDidMount:function(){this._updateScroll()},componentDidUpdate:function(e,t){this._updateScroll(t)},_updateScroll:function(e){if(r(this.state,e)){var t=this.constructor.getScrollBehavior();t&&t.updateScrollPosition(this.constructor.getScrollPosition(this.state.path),this.state.action)}}};t.exports=s},{"./getWindowScrollPosition":321,"can-use-dom":233,invariant:276}],307:[function(e,t,n){"use strict";var r=e("./PropTypes"),o={contextTypes:{router:r.router.isRequired},getPath:function(){return this.context.router.getCurrentPath()},getPathname:function(){return this.context.router.getCurrentPathname()},getParams:function(){return this.context.router.getCurrentParams()},getQuery:function(){return this.context.router.getCurrentQuery()},getRoutes:function(){return this.context.router.getCurrentRoutes()},isActive:function(e,t,n){return this.context.router.isActive(e,t,n)}};t.exports=o},{"./PropTypes":303}],308:[function(e,t,n){"use strict";function r(e,t){this.path=e,this.abortReason=null,this.retry=t.bind(this)}var o=e("./Cancellation"),i=e("./Redirect");r.prototype.abort=function(e){null==this.abortReason&&(this.abortReason=e||"ABORT")},r.prototype.redirect=function(e,t,n){this.abort(new i(e,t,n))},r.prototype.cancel=function(){this.abort(new o)},r.from=function(e,t,n,r){t.reduce(function(t,r,o){return function(i){if(i||e.abortReason)t(i);else if(r.onLeave)try{r.onLeave(e,n[o],t),r.onLeave.length<3&&t()}catch(a){t(a)}else t()}},r)()},r.to=function(e,t,n,r,o){t.reduceRight(function(t,o){return function(i){if(i||e.abortReason)t(i);else if(o.onEnter)try{o.onEnter(e,n,r,t),o.onEnter.length<4&&t()}catch(a){t(a)}else t()}},o)()},t.exports=r},{"./Cancellation":298,"./Redirect":304}],309:[function(e,t,n){"use strict";var r={PUSH:"push",REPLACE:"replace",POP:"pop"};t.exports=r},{}],310:[function(e,t,n){"use strict";var r=e("../actions/LocationActions"),o={updateScrollPosition:function(e,t){switch(t){case r.PUSH:case r.REPLACE:window.scrollTo(0,0);break;case r.POP:e?window.scrollTo(e.x,e.y):window.scrollTo(0,0)}}};t.exports=o},{"../actions/LocationActions":309}],311:[function(e,t,n){"use strict";var r={updateScrollPosition:function(){window.scrollTo(0,0)}};t.exports=r},{}],312:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},s=e("react"),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){return this.props.children}}]),t}(s.Component);t.exports=u},{react:465}],313:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},a=e("../PropTypes"),s=e("./RouteHandler"),u=e("./Route"),l=function(e){function t(){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),t}(u);l.propTypes={name:a.string,path:a.falsy,children:a.falsy,handler:a.func.isRequired},l.defaultProps={handler:s},t.exports=l},{"../PropTypes":303,"./Route":317,"./RouteHandler":318}],314:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},l=e("react"),c=e("react/lib/Object.assign"),f=e("../PropTypes"),p=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"handleClick",value:function(e){var t,n=!0;this.props.onClick&&(t=this.props.onClick(e)),!a(e)&&i(e)&&(t!==!1&&e.defaultPrevented!==!0||(n=!1),e.preventDefault(),n&&this.context.router.transitionTo(this.props.to,this.props.params,this.props.query))}},{key:"getHref",value:function(){return this.context.router.makeHref(this.props.to,this.props.params,this.props.query)}},{key:"getClassName",value:function(){var e=this.props.className;return this.getActiveState()&&(e+=" "+this.props.activeClassName),e}},{key:"getActiveState",value:function(){return this.context.router.isActive(this.props.to,this.props.params,this.props.query)}},{key:"render",value:function(){var e=c({},this.props,{href:this.getHref(),className:this.getClassName(),onClick:this.handleClick.bind(this)});return e.activeStyle&&this.getActiveState()&&(e.style=e.activeStyle),l.DOM.a(e,this.props.children)}}]),t}(l.Component);p.contextTypes={router:f.router.isRequired},p.propTypes={activeClassName:f.string.isRequired,to:f.oneOfType([f.string,f.route]).isRequired,params:f.object,query:f.object,activeStyle:f.object,onClick:f.func},p.defaultProps={activeClassName:"active",className:""},t.exports=p},{"../PropTypes":303,react:465,"react/lib/Object.assign":358}],315:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},a=e("../PropTypes"),s=e("./RouteHandler"),u=e("./Route"),l=function(e){
function t(){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),t}(u);l.propTypes={name:a.string,path:a.falsy,children:a.falsy,handler:a.func.isRequired},l.defaultProps={handler:s},t.exports=l},{"../PropTypes":303,"./Route":317,"./RouteHandler":318}],316:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},a=e("../PropTypes"),s=e("./Route"),u=function(e){function t(){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),t}(s);u.propTypes={path:a.string,from:a.string,to:a.string,handler:a.falsy},u.defaultProps={},t.exports=u},{"../PropTypes":303,"./Route":317}],317:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},s=e("react"),u=e("invariant"),l=e("../PropTypes"),c=e("./RouteHandler"),f=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){u(!1,"%s elements are for router configuration only and should not be rendered",this.constructor.name)}}]),t}(s.Component);f.propTypes={name:l.string,path:l.string,handler:l.func,ignoreScrollBehavior:l.bool},f.defaultProps={handler:c},t.exports=f},{"../PropTypes":303,"./RouteHandler":318,invariant:276,react:465}],318:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,n=a,r=!0,s=l=void 0}},s=e("react"),u=e("./ContextWrapper"),l=e("react/lib/Object.assign"),c=e("../PropTypes"),f="__routeHandler__",p=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"getChildContext",value:function(){return{routeDepth:this.context.routeDepth+1}}},{key:"componentDidMount",value:function(){this._updateRouteComponent(this.refs[f])}},{key:"componentDidUpdate",value:function(){this._updateRouteComponent(this.refs[f])}},{key:"componentWillUnmount",value:function(){this._updateRouteComponent(null)}},{key:"_updateRouteComponent",value:function(e){this.context.router.setRouteComponentAtDepth(this.getRouteDepth(),e)}},{key:"getRouteDepth",value:function(){return this.context.routeDepth}},{key:"createChildRouteHandler",value:function(e){var t=this.context.router.getRouteAtDepth(this.getRouteDepth());if(null==t)return null;var n=l({},e||this.props,{ref:f,params:this.context.router.getCurrentParams(),query:this.context.router.getCurrentQuery()});return s.createElement(t.handler,n)}},{key:"render",value:function(){var e=this.createChildRouteHandler();return e?s.createElement(u,null,e):s.createElement("script",null)}}]),t}(s.Component);p.contextTypes={routeDepth:c.number.isRequired,router:c.router.isRequired},p.childContextTypes={routeDepth:c.number.isRequired},t.exports=p},{"../PropTypes":303,"./ContextWrapper":312,react:465,"react/lib/Object.assign":358}],319:[function(e,t,n){(function(n){"use strict";function r(e,t){for(var n in t)if(t.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}function o(e,t,n,o,i,a){return e.some(function(e){if(e!==t)return!1;for(var s,u=t.paramNames,l=0,c=u.length;l<c;++l)if(s=u[l],o[s]!==n[s])return!1;return r(i,a)&&r(a,i)})}function i(e,t){for(var n,r=0,o=e.length;r<o;++r)n=e[r],n.name&&(p(null==t[n.name],'You may not have more than one route named "%s"',n.name),t[n.name]=n),n.childRoutes&&i(n.childRoutes,t)}function a(e,t){return e.some(function(e){return e.name===t})}function s(e,t){for(var n in t)if(String(e[n])!==String(t[n]))return!1;return!0}function u(e,t){for(var n in t)if(String(e[n])!==String(t[n]))return!1;return!0}function l(e){e=e||{},S(e)&&(e={routes:e});var t=[],r=e.location||I,l=e.scrollBehavior||M,y={},A={},N=null,D=null;"string"==typeof r&&(r=new b(r)),r instanceof b?f(!d||"test"===n.env.NODE_ENV,"You should not use a static location in a DOM environment because the router will not be kept in sync with the current URL"):p(d||r.needsDOM===!1,"You cannot use %s without a DOM",r),r!==v||k()||(r=g);var L=c.createClass({displayName:"Router",statics:{isRunning:!1,cancelPendingTransition:function(){N&&(N.cancel(),N=null)},clearAllRoutes:function(){L.cancelPendingTransition(),L.namedRoutes={},L.routes=[]},addRoutes:function(e){S(e)&&(e=w(e)),i(e,L.namedRoutes),L.routes.push.apply(L.routes,e)},replaceRoutes:function(e){L.clearAllRoutes(),L.addRoutes(e),L.refresh()},match:function(e){return O.findMatch(L.routes,e)},makePath:function(e,t,n){var r;if(j.isAbsolute(e))r=e;else{var o=e instanceof R?e:L.namedRoutes[e];p(o instanceof R,'Cannot find a route named "%s"',e),r=o.path}return j.withQuery(j.injectParams(r,t),n)},makeHref:function(e,t,n){var o=L.makePath(e,t,n);return r===m?"#"+o:o},transitionTo:function(e,t,n){var o=L.makePath(e,t,n);N?r.replace(o):r.push(o)},replaceWith:function(e,t,n){r.replace(L.makePath(e,t,n))},goBack:function(){return E.length>1||r===g?(r.pop(),!0):(f(!1,"goBack() was ignored because there is no router history"),!1)},handleAbort:e.onAbort||function(e){if(r instanceof b)throw new Error("Unhandled aborted transition! Reason: "+e);e instanceof C||(e instanceof P?r.replace(L.makePath(e.to,e.params,e.query)):r.pop())},handleError:e.onError||function(e){throw e},handleLocationChange:function(e){L.dispatch(e.path,e.type)},dispatch:function(e,n){L.cancelPendingTransition();var r=y.path,i=null==n;if(r!==e||i){r&&n===h.PUSH&&L.recordScrollPosition(r);var a=L.match(e);f(null!=a,'No route matches path "%s". Make sure you have <Route path="%s"> somewhere in your routes',e,e),null==a&&(a={});var s,u,l=y.routes||[],c=y.params||{},p=y.query||{},d=a.routes||[],m=a.params||{},v=a.query||{};l.length?(s=l.filter(function(e){return!o(d,e,c,m,p,v)}),u=d.filter(function(e){return!o(l,e,c,m,p,v)})):(s=[],u=d);var g=new T(e,L.replaceWith.bind(L,e));N=g;var b=t.slice(l.length-s.length);T.from(g,s,b,function(t){return t||g.abortReason?D.call(L,t,g):void T.to(g,u,m,v,function(t){D.call(L,t,g,{path:e,action:n,pathname:a.pathname,routes:d,params:m,query:v})})})}},run:function(e){p(!L.isRunning,"Router is already running"),D=function(t,n,r){t&&L.handleError(t),N===n&&(N=null,n.abortReason?L.handleAbort(n.abortReason):e.call(L,L,A=r))},r instanceof b||(r.addChangeListener&&r.addChangeListener(L.handleLocationChange),L.isRunning=!0),L.refresh()},refresh:function(){L.dispatch(r.getCurrentPath(),null)},stop:function(){L.cancelPendingTransition(),r.removeChangeListener&&r.removeChangeListener(L.handleLocationChange),L.isRunning=!1},getLocation:function(){return r},getScrollBehavior:function(){return l},getRouteAtDepth:function(e){var t=y.routes;return t&&t[e]},setRouteComponentAtDepth:function(e,n){t[e]=n},getCurrentPath:function(){return y.path},getCurrentPathname:function(){return y.pathname},getCurrentParams:function(){return y.params},getCurrentQuery:function(){return y.query},getCurrentRoutes:function(){return y.routes},isActive:function(e,t,n){return j.isAbsolute(e)?e===y.path:a(y.routes,e)&&s(y.params,t)&&(null==n||u(y.query,n))}},mixins:[_],propTypes:{children:x.falsy},childContextTypes:{routeDepth:x.number.isRequired,router:x.router.isRequired},getChildContext:function(){return{routeDepth:1,router:L}},getInitialState:function(){return y=A},componentWillReceiveProps:function(){this.setState(y=A)},componentWillUnmount:function(){L.stop()},render:function(){var e=L.getRouteAtDepth(0);return e?c.createElement(e.handler,this.props):null}});return L.clearAllRoutes(),e.routes&&L.addRoutes(e.routes),L}var c=e("react"),f=e("./warning"),p=e("invariant"),d=e("can-use-dom"),h=e("./actions/LocationActions"),y=e("./behaviors/ImitateBrowserBehavior"),m=e("./locations/HashLocation"),v=e("./locations/HistoryLocation"),g=e("./locations/RefreshLocation"),b=e("./locations/StaticLocation"),_=e("./ScrollHistory"),w=e("./createRoutesFromReactChildren"),S=e("./isReactChildren"),T=e("./Transition"),x=e("./PropTypes"),P=e("./Redirect"),E=e("./History"),C=e("./Cancellation"),O=e("./Match"),R=e("./Route"),k=e("./supportsHistory"),j=e("./PathUtils"),I=d?m:"/",M=d?y:null;t.exports=l}).call(this,e("_process"))},{"./Cancellation":298,"./History":299,"./Match":300,"./PathUtils":302,"./PropTypes":303,"./Redirect":304,"./Route":305,"./ScrollHistory":306,"./Transition":308,"./actions/LocationActions":309,"./behaviors/ImitateBrowserBehavior":310,"./createRoutesFromReactChildren":320,"./isReactChildren":323,"./locations/HashLocation":324,"./locations/HistoryLocation":325,"./locations/RefreshLocation":326,"./locations/StaticLocation":327,"./supportsHistory":330,"./warning":331,_process:281,"can-use-dom":233,invariant:276,react:465}],320:[function(e,t,n){"use strict";function r(e,t,n){e=e||"UnknownComponent";for(var r in t)if(t.hasOwnProperty(r)){var o=t[r](n,r,e);o instanceof Error&&l(!1,o.message)}}function o(e){var t=u({},e),n=t.handler;return n&&(t.onEnter=n.willTransitionTo,t.onLeave=n.willTransitionFrom),t}function i(e){if(s.isValidElement(e)){var t=e.type,n=u({},t.defaultProps,e.props);return t.propTypes&&r(t.displayName,t.propTypes,n),t===c?d.createDefaultRoute(o(n)):t===f?d.createNotFoundRoute(o(n)):t===p?d.createRedirect(o(n)):d.createRoute(o(n),function(){n.children&&a(n.children)})}}function a(e){var t=[];return s.Children.forEach(e,function(e){(e=i(e))&&t.push(e)}),t}var s=e("react"),u=e("react/lib/Object.assign"),l=e("./warning"),c=e("./components/DefaultRoute"),f=e("./components/NotFoundRoute"),p=e("./components/Redirect"),d=e("./Route");t.exports=a},{"./Route":305,"./components/DefaultRoute":313,"./components/NotFoundRoute":315,"./components/Redirect":316,"./warning":331,react:465,"react/lib/Object.assign":358}],321:[function(e,t,n){"use strict";function r(){return o(i,"Cannot get current scroll position without a DOM"),{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}var o=e("invariant"),i=e("can-use-dom");t.exports=r},{"can-use-dom":233,invariant:276}],322:[function(e,t,n){"use strict";n.DefaultRoute=e("./components/DefaultRoute"),n.Link=e("./components/Link"),n.NotFoundRoute=e("./components/NotFoundRoute"),n.Redirect=e("./components/Redirect"),n.Route=e("./components/Route"),n.ActiveHandler=e("./components/RouteHandler"),n.RouteHandler=n.ActiveHandler,n.HashLocation=e("./locations/HashLocation"),n.HistoryLocation=e("./locations/HistoryLocation"),n.RefreshLocation=e("./locations/RefreshLocation"),n.StaticLocation=e("./locations/StaticLocation"),n.TestLocation=e("./locations/TestLocation"),n.ImitateBrowserBehavior=e("./behaviors/ImitateBrowserBehavior"),n.ScrollToTopBehavior=e("./behaviors/ScrollToTopBehavior"),n.History=e("./History"),n.Navigation=e("./Navigation"),n.State=e("./State"),n.createRoute=e("./Route").createRoute,n.createDefaultRoute=e("./Route").createDefaultRoute,n.createNotFoundRoute=e("./Route").createNotFoundRoute,n.createRedirect=e("./Route").createRedirect,n.createRoutesFromReactChildren=e("./createRoutesFromReactChildren"),n.create=e("./createRouter"),n.run=e("./runRouter")},{"./History":299,"./Navigation":301,"./Route":305,"./State":307,"./behaviors/ImitateBrowserBehavior":310,"./behaviors/ScrollToTopBehavior":311,"./components/DefaultRoute":313,"./components/Link":314,"./components/NotFoundRoute":315,"./components/Redirect":316,"./components/Route":317,"./components/RouteHandler":318,"./createRouter":319,"./createRoutesFromReactChildren":320,"./locations/HashLocation":324,"./locations/HistoryLocation":325,"./locations/RefreshLocation":326,"./locations/StaticLocation":327,"./locations/TestLocation":328,"./runRouter":329}],323:[function(e,t,n){"use strict";function r(e){return null==e||i.isValidElement(e)}function o(e){return r(e)||Array.isArray(e)&&e.every(r)}var i=e("react");t.exports=o},{react:465}],324:[function(e,t,n){"use strict";function r(e){e===s.PUSH&&(u.length+=1);var t={path:f.getCurrentPath(),type:e};l.forEach(function(e){e.call(f,t)})}function o(){var e=f.getCurrentPath();return"/"===e.charAt(0)||(f.replace("/"+e),!1)}function i(){if(o()){var e=a;a=null,r(e||s.POP)}}var a,s=e("../actions/LocationActions"),u=e("../History"),l=[],c=!1,f={addChangeListener:function(e){l.push(e),o(),c||(window.addEventListener?window.addEventListener("hashchange",i,!1):window.attachEvent("onhashchange",i),c=!0)},removeChangeListener:function(e){l=l.filter(function(t){return t!==e}),0===l.length&&(window.removeEventListener?window.removeEventListener("hashchange",i,!1):window.removeEvent("onhashchange",i),c=!1)},push:function(e){a=s.PUSH,window.location.hash=e},replace:function(e){a=s.REPLACE,window.location.replace(window.location.pathname+window.location.search+"#"+e)},pop:function(){a=s.POP,u.back()},getCurrentPath:function(){return decodeURI(window.location.href.split("#")[1]||"")},toString:function(){return"<HashLocation>"}};t.exports=f},{"../History":299,"../actions/LocationActions":309}],325:[function(e,t,n){"use strict";function r(e){var t={path:l.getCurrentPath(),type:e};s.forEach(function(e){e.call(l,t)})}function o(e){void 0!==e.state&&r(i.POP)}var i=e("../actions/LocationActions"),a=e("../History"),s=[],u=!1,l={addChangeListener:function(e){s.push(e),u||(window.addEventListener?window.addEventListener("popstate",o,!1):window.attachEvent("onpopstate",o),u=!0)},removeChangeListener:function(e){s=s.filter(function(t){return t!==e}),0===s.length&&(window.addEventListener?window.removeEventListener("popstate",o,!1):window.removeEvent("onpopstate",o),u=!1)},push:function(e){window.history.pushState({path:e},"",e),a.length+=1,r(i.PUSH)},replace:function(e){window.history.replaceState({path:e},"",e),r(i.REPLACE)},pop:a.back,getCurrentPath:function(){return decodeURI(window.location.pathname+window.location.search)},toString:function(){return"<HistoryLocation>"}};t.exports=l},{"../History":299,"../actions/LocationActions":309}],326:[function(e,t,n){"use strict";var r=e("./HistoryLocation"),o=e("../History"),i={push:function(e){window.location=e},replace:function(e){window.location.replace(e)},pop:o.back,getCurrentPath:r.getCurrentPath,toString:function(){return"<RefreshLocation>"}};t.exports=i},{"../History":299,"./HistoryLocation":325}],327:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){a(!1,"You cannot modify a static location")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("invariant"),s=function(){function e(t){r(this,e),this.path=t}return i(e,[{key:"getCurrentPath",value:function(){return this.path}},{key:"toString",value:function(){return'<StaticLocation path="'+this.path+'">'}}]),e}();s.prototype.push=o,s.prototype.replace=o,s.prototype.pop=o,t.exports=s},{invariant:276}],328:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("invariant"),a=e("../actions/LocationActions"),s=e("../History"),u=function(){function e(t){r(this,e),this.history=t||[],this.listeners=[],this.needsDOM=!1,this._updateHistoryLength()}return o(e,[{key:"_updateHistoryLength",value:function(){s.length=this.history.length}},{key:"_notifyChange",value:function(e){for(var t={path:this.getCurrentPath(),type:e},n=0,r=this.listeners.length;n<r;++n)this.listeners[n].call(this,t)}},{key:"addChangeListener",value:function(e){this.listeners.push(e)}},{key:"removeChangeListener",value:function(e){this.listeners=this.listeners.filter(function(t){return t!==e})}},{key:"push",value:function(e){this.history.push(e),this._updateHistoryLength(),this._notifyChange(a.PUSH)}},{key:"replace",value:function(e){i(this.history.length,"You cannot replace the current path with no history"),this.history[this.history.length-1]=e,this._notifyChange(a.REPLACE)}},{key:"pop",value:function(){this.history.pop(),this._updateHistoryLength(),this._notifyChange(a.POP)}},{key:"getCurrentPath",value:function(){return this.history[this.history.length-1]}},{key:"toString",value:function(){return"<TestLocation>"}}]),e}();t.exports=u},{"../History":299,"../actions/LocationActions":309,invariant:276}],329:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof t&&(n=t,t=null);var r=o({routes:e,location:t});return r.run(n),r}var o=e("./createRouter");t.exports=r},{"./createRouter":319}],330:[function(e,t,n){"use strict";function r(){var e=navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}t.exports=r},{}],331:[function(e,t,n){(function(e){"use strict";var n="production"!==e.env.NODE_ENV,r=function(){};n&&(r=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(0!==t.indexOf("Failed Composite propType: ")&&!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return r[i++]});console.warn(a);try{throw new Error(a)}catch(s){}}}),t.exports=r}).call(this,e("_process"))},{_process:281}],332:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":333}],333:[function(e,t,n){var r=e("./stringify"),o=e("./parse");t.exports={stringify:r,parse:o}},{"./parse":334,"./stringify":335}],334:[function(e,t,n){var r=e("./utils"),o={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};o.parseValues=function(e,t){for(var n={},o=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),i=0,a=o.length;i<a;++i){var s=o[i],u=s.indexOf("]=")===-1?s.indexOf("="):s.indexOf("]=")+1;if(u===-1)n[r.decode(s)]="";else{var l=r.decode(s.slice(0,u)),c=r.decode(s.slice(u+1));if(Object.prototype.hasOwnProperty(l))continue;n.hasOwnProperty(l)?n[l]=[].concat(n[l]).concat(c):n[l]=c}}return n},o.parseObject=function(e,t,n){if(!e.length)return t;var r=e.shift(),i={};if("[]"===r)i=[],i=i.concat(o.parseObject(e,t,n));else{var a="["===r[0]&&"]"===r[r.length-1]?r.slice(1,r.length-1):r,s=parseInt(a,10),u=""+s;!isNaN(s)&&r!==a&&u===a&&s>=0&&s<=n.arrayLimit?(i=[],i[s]=o.parseObject(e,t,n)):i[a]=o.parseObject(e,t,n)}return i},o.parseKeys=function(e,t,n){if(e){var r=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,a=r.exec(e);if(!Object.prototype.hasOwnProperty(a[1])){var s=[];a[1]&&s.push(a[1]);for(var u=0;null!==(a=i.exec(e))&&u<n.depth;)++u,Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||s.push(a[1]);return a&&s.push("["+e.slice(a.index)+"]"),o.parseObject(s,t,n)}}},t.exports=function(e,t){if(""===e||null===e||"undefined"==typeof e)return{};t=t||{},t.delimiter="string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,t.depth="number"==typeof t.depth?t.depth:o.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit;for(var n="string"==typeof e?o.parseValues(e,t):e,i={},a=Object.keys(n),s=0,u=a.length;s<u;++s){var l=a[s],c=o.parseKeys(l,n[l],t);i=r.merge(i,c)}return r.compact(i)}},{"./utils":336}],335:[function(e,t,n){var r=e("./utils"),o={delimiter:"&",arrayPrefixGenerators:{brackets:function(e,t){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e,t){return e}}};o.stringify=function(e,t,n){if(r.isBuffer(e)?e=e.toString():e instanceof Date?e=e.toISOString():null===e&&(e=""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return[encodeURIComponent(t)+"="+encodeURIComponent(e)];var i=[];if("undefined"==typeof e)return i;for(var a=Object.keys(e),s=0,u=a.length;s<u;++s){var l=a[s];i=Array.isArray(e)?i.concat(o.stringify(e[l],n(t,l),n)):i.concat(o.stringify(e[l],t+"["+l+"]",n))}return i},t.exports=function(e,t){t=t||{};var n="undefined"==typeof t.delimiter?o.delimiter:t.delimiter,r=[];if("object"!=typeof e||null===e)return"";var i;i=t.arrayFormat in o.arrayPrefixGenerators?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":"indices";for(var a=o.arrayPrefixGenerators[i],s=Object.keys(e),u=0,l=s.length;u<l;++u){var c=s[u];r=r.concat(o.stringify(e[c],c,a))}return r.join(n)}},{"./utils":336}],336:[function(e,t,n){n.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;++n)"undefined"!=typeof e[n]&&(t[n]=e[n]);return t},n.merge=function(e,t){if(!t)return e;if("object"!=typeof t)return Array.isArray(e)?e.push(t):e[t]=!0,e;if("object"!=typeof e)return e=[e].concat(t);Array.isArray(e)&&!Array.isArray(t)&&(e=n.arrayToObject(e));for(var r=Object.keys(t),o=0,i=r.length;o<i;++o){var a=r[o],s=t[a];e[a]?e[a]=n.merge(e[a],s):e[a]=s}return e},n.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},n.compact=function(e,t){if("object"!=typeof e||null===e)return e;t=t||[];var r=t.indexOf(e);if(r!==-1)return t[r];if(t.push(e),Array.isArray(e)){for(var o=[],i=0,a=e.length;i<a;++i)"undefined"!=typeof e[i]&&o.push(e[i]);return o}var s=Object.keys(e);for(i=0,a=s.length;i<a;++i){var u=s[i];e[u]=n.compact(e[u],t)}return e},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},{}],337:[function(e,t,n){"use strict";var r=e("./ReactMount"),o=e("./findDOMNode"),i=e("fbjs/lib/focusNode"),a={componentDidMount:function(){this.props.autoFocus&&i(o(this))}},s={Mixin:a,focusDOMComponent:function(){i(r.getNode(this._rootNodeID))}};t.exports=s},{"./ReactMount":401,"./findDOMNode":444,"fbjs/lib/focusNode":253}],338:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case O.topCompositionStart:return R.compositionStart;case O.topCompositionEnd:return R.compositionEnd;case O.topCompositionUpdate:return R.compositionUpdate}}function a(e,t){return e===O.topKeyDown&&t.keyCode===w}function s(e,t){switch(e){case O.topKeyUp:return _.indexOf(t.keyCode)!==-1;case O.topKeyDown:return t.keyCode!==w;case O.topKeyPress:case O.topMouseDown:case O.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r,o){var l,c;if(S?l=i(e):j?s(e,r)&&(l=R.compositionEnd):a(e,r)&&(l=R.compositionStart),!l)return null;P&&(j||l!==R.compositionStart?l===R.compositionEnd&&j&&(c=j.getData()):j=m.getPooled(t));var f=v.getPooled(l,n,r,o);if(c)f.data=c;else{var p=u(r);null!==p&&(f.data=p)}return h.accumulateTwoPhaseDispatches(f),f}function c(e,t){switch(e){case O.topCompositionEnd:return u(t);case O.topKeyPress:var n=t.which;return n!==E?null:(k=!0,C);case O.topTextInput:var r=t.data;return r===C&&k?null:r;default:return null}}function f(e,t){if(j){if(e===O.topCompositionEnd||s(e,t)){var n=j.getData();return m.release(j),j=null,n}return null}switch(e){case O.topPaste:return null;case O.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case O.topCompositionEnd:return P?null:t.data;default:return null}}function p(e,t,n,r,o){var i;if(i=x?c(e,r):f(e,r),!i)return null;var a=g.getPooled(R.beforeInput,n,r,o);return a.data=i,h.accumulateTwoPhaseDispatches(a),a}var d=e("./EventConstants"),h=e("./EventPropagators"),y=e("fbjs/lib/ExecutionEnvironment"),m=e("./FallbackCompositionState"),v=e("./SyntheticCompositionEvent"),g=e("./SyntheticInputEvent"),b=e("fbjs/lib/keyOf"),_=[9,13,27,32],w=229,S=y.canUseDOM&&"CompositionEvent"in window,T=null;y.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var x=y.canUseDOM&&"TextEvent"in window&&!T&&!r(),P=y.canUseDOM&&(!S||T&&T>8&&T<=11),E=32,C=String.fromCharCode(E),O=d.topLevelTypes,R={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[O.topCompositionEnd,O.topKeyPress,O.topTextInput,O.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[O.topBlur,O.topCompositionEnd,O.topKeyDown,O.topKeyPress,O.topKeyUp,O.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[O.topBlur,O.topCompositionStart,O.topKeyDown,O.topKeyPress,O.topKeyUp,O.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[O.topBlur,O.topCompositionUpdate,O.topKeyDown,O.topKeyPress,O.topKeyUp,O.topMouseDown]}},k=!1,j=null,I={eventTypes:R,extractEvents:function(e,t,n,r,o){return[l(e,t,n,r,o),p(e,t,n,r,o)]}};t.exports=I},{"./EventConstants":350,"./EventPropagators":354,"./FallbackCompositionState":355,"./SyntheticCompositionEvent":426,"./SyntheticInputEvent":430,"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/keyOf":263}],339:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],340:[function(e,t,n){"use strict";var r=e("./CSSProperty"),o=e("fbjs/lib/ExecutionEnvironment"),i=e("./ReactPerf"),a=(e("fbjs/lib/camelizeStyleName"),e("./dangerousStyleValue")),s=e("fbjs/lib/hyphenateStyleName"),u=e("fbjs/lib/memoizeStringOnly"),l=(e("fbjs/lib/warning"),u(function(e){return s(e)})),c=!1,f="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(d){c=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var h={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=l(n)+":",t+=a(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){var i=a(o,t[o]);if("float"===o&&(o=f),i)n[o]=i;else{var s=c&&r.shorthandPropertyExpansions[o];if(s)for(var u in s)n[u]="";else n[o]=""}}}};i.measureMethods(h,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=h},{"./CSSProperty":339,"./ReactPerf":407,"./dangerousStyleValue":441,"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/camelizeStyleName":247,"fbjs/lib/hyphenateStyleName":258,"fbjs/lib/memoizeStringOnly":265,"fbjs/lib/warning":270}],341:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e("./PooledClass"),i=e("./Object.assign"),a=e("fbjs/lib/invariant");i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r},{"./Object.assign":358,"./PooledClass":359,"fbjs/lib/invariant":259}],342:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=T.getPooled(R.change,j,e,x(e));_.accumulateTwoPhaseDispatches(t),S.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){k=e,j=t,k.attachEvent("onchange",o)}function s(){k&&(k.detachEvent("onchange",o),k=null,j=null)}function u(e,t,n){if(e===O.topChange)return n}function l(e,t,n){e===O.topFocus?(s(),a(t,n)):e===O.topBlur&&s()}function c(e,t){k=e,j=t,I=e.value,M=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",D),k.attachEvent("onpropertychange",p)}function f(){k&&(delete k.value,k.detachEvent("onpropertychange",p),k=null,j=null,I=null,M=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,
o(e))}}function d(e,t,n){if(e===O.topInput)return n}function h(e,t,n){e===O.topFocus?(f(),c(t,n)):e===O.topBlur&&f()}function y(e,t,n){if((e===O.topSelectionChange||e===O.topKeyUp||e===O.topKeyDown)&&k&&k.value!==I)return I=k.value,j}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if(e===O.topClick)return n}var g=e("./EventConstants"),b=e("./EventPluginHub"),_=e("./EventPropagators"),w=e("fbjs/lib/ExecutionEnvironment"),S=e("./ReactUpdates"),T=e("./SyntheticEvent"),x=e("./getEventTarget"),P=e("./isEventSupported"),E=e("./isTextInputElement"),C=e("fbjs/lib/keyOf"),O=g.topLevelTypes,R={change:{phasedRegistrationNames:{bubbled:C({onChange:null}),captured:C({onChangeCapture:null})},dependencies:[O.topBlur,O.topChange,O.topClick,O.topFocus,O.topInput,O.topKeyDown,O.topKeyUp,O.topSelectionChange]}},k=null,j=null,I=null,M=null,A=!1;w.canUseDOM&&(A=P("change")&&(!("documentMode"in document)||document.documentMode>8));var N=!1;w.canUseDOM&&(N=P("input")&&(!("documentMode"in document)||document.documentMode>9));var D={get:function(){return M.get.call(this)},set:function(e){I=""+e,M.set.call(this,e)}},L={eventTypes:R,extractEvents:function(e,t,n,o,i){var a,s;if(r(t)?A?a=u:s=l:E(t)?N?a=d:(a=y,s=h):m(t)&&(a=v),a){var c=a(e,t,n);if(c){var f=T.getPooled(R.change,c,o,i);return f.type="change",_.accumulateTwoPhaseDispatches(f),f}}s&&s(e,t,n)}};t.exports=L},{"./EventConstants":350,"./EventPluginHub":351,"./EventPropagators":354,"./ReactUpdates":419,"./SyntheticEvent":428,"./getEventTarget":450,"./isEventSupported":455,"./isTextInputElement":456,"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/keyOf":263}],343:[function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};t.exports=o},{}],344:[function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var o=e("./Danger"),i=e("./ReactMultiChildUpdateTypes"),a=e("./ReactPerf"),s=e("./setInnerHTML"),u=e("./setTextContent"),l=e("fbjs/lib/invariant"),c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(e,t){for(var n,a=null,c=null,f=0;f<e.length;f++)if(n=e[f],n.type===i.MOVE_EXISTING||n.type===i.REMOVE_NODE){var p=n.fromIndex,d=n.parentNode.childNodes[p],h=n.parentID;d?void 0:l(!1),a=a||{},a[h]=a[h]||[],a[h][p]=d,c=c||[],c.push(d)}var y;if(y=t.length&&"string"==typeof t[0]?o.dangerouslyRenderMarkup(t):t,c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var v=0;v<e.length;v++)switch(n=e[v],n.type){case i.INSERT_MARKUP:r(n.parentNode,y[n.markupIndex],n.toIndex);break;case i.MOVE_EXISTING:r(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case i.SET_MARKUP:s(n.parentNode,n.content);break;case i.TEXT_CONTENT:u(n.parentNode,n.content);break;case i.REMOVE_NODE:}}};a.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},{"./Danger":347,"./ReactMultiChildUpdateTypes":403,"./ReactPerf":407,"./setInnerHTML":460,"./setTextContent":461,"fbjs/lib/invariant":259}],345:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e("fbjs/lib/invariant"),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?o(!1):void 0;var p=f.toLowerCase(),d=n[f],h={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseAttribute:r(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasSideEffects:r(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty?o(!1):void 0,!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),u.hasOwnProperty(f)){var y=u[f];h.attributeName=y}a.hasOwnProperty(f)&&(h.attributeNamespace=a[f]),l.hasOwnProperty(f)&&(h.propertyName=l[f]),c.hasOwnProperty(f)&&(h.mutationMethod=c[f]),s.properties[f]=h}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:i};t.exports=s},{"fbjs/lib/invariant":259}],346:[function(e,t,n){"use strict";function r(e){return!!c.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(u.test(e)?(c[e]=!0,!0):(l[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=e("./DOMProperty"),a=e("./ReactPerf"),s=e("./quoteAttributeValueForBrowser"),u=(e("fbjs/lib/warning"),/^[a-zA-Z_][\w\.\-]*$/),l={},c={},f={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+s(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var l=r.propertyName;r.hasSideEffects&&""+e[l]==""+n||(e[l]=n)}}else i.isCustomAttribute(t)&&f.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var o=n.propertyName,a=i.getDefaultValueForProperty(e.nodeName,o);n.hasSideEffects&&""+e[o]===a||(e[o]=a)}}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(f,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=f},{"./DOMProperty":345,"./ReactPerf":407,"./quoteAttributeValueForBrowser":458,"fbjs/lib/warning":270}],347:[function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e("fbjs/lib/ExecutionEnvironment"),i=e("fbjs/lib/createNodesFromMarkup"),a=e("fbjs/lib/emptyFunction"),s=e("fbjs/lib/getMarkupWrap"),u=e("fbjs/lib/invariant"),l=/^(<[^ \/>]+)/,c="data-danger-index",f={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:u(!1);for(var t,n={},f=0;f<e.length;f++)e[f]?void 0:u(!1),t=r(e[f]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][f]=e[f];var p=[],d=0;for(t in n)if(n.hasOwnProperty(t)){var h,y=n[t];for(h in y)if(y.hasOwnProperty(h)){var m=y[h];y[h]=m.replace(l,"$1 "+c+'="'+h+'" ')}for(var v=i(y.join(""),a),g=0;g<v.length;++g){var b=v[g];b.hasAttribute&&b.hasAttribute(c)&&(h=+b.getAttribute(c),b.removeAttribute(c),p.hasOwnProperty(h)?u(!1):void 0,p[h]=b,d+=1)}}return d!==p.length?u(!1):void 0,p.length!==e.length?u(!1):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){o.canUseDOM?void 0:u(!1),t?void 0:u(!1),"html"===e.tagName.toLowerCase()?u(!1):void 0;var n;n="string"==typeof t?i(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};t.exports=f},{"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/createNodesFromMarkup":250,"fbjs/lib/emptyFunction":251,"fbjs/lib/getMarkupWrap":255,"fbjs/lib/invariant":259}],348:[function(e,t,n){"use strict";var r=e("fbjs/lib/keyOf"),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{"fbjs/lib/keyOf":263}],349:[function(e,t,n){"use strict";var r=e("./EventConstants"),o=e("./EventPropagators"),i=e("./SyntheticMouseEvent"),a=e("./ReactMount"),s=e("fbjs/lib/keyOf"),u=r.topLevelTypes,l=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},f=[null,null],p={eventTypes:c,extractEvents:function(e,t,n,r,s){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var p;if(t.window===t)p=t;else{var d=t.ownerDocument;p=d?d.defaultView||d.parentWindow:window}var h,y,m="",v="";if(e===u.topMouseOut?(h=t,m=n,y=l(r.relatedTarget||r.toElement),y?v=a.getID(y):y=p,y=y||p):(h=p,y=t,v=n),h===y)return null;var g=i.getPooled(c.mouseLeave,m,r,s);g.type="mouseleave",g.target=h,g.relatedTarget=y;var b=i.getPooled(c.mouseEnter,v,r,s);return b.type="mouseenter",b.target=y,b.relatedTarget=h,o.accumulateEnterLeaveDispatches(g,b,m,v),f[0]=g,f[1]=b,f}};t.exports=p},{"./EventConstants":350,"./EventPropagators":354,"./ReactMount":401,"./SyntheticMouseEvent":432,"fbjs/lib/keyOf":263}],350:[function(e,t,n){"use strict";var r=e("fbjs/lib/keyMirror"),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};t.exports=a},{"fbjs/lib/keyMirror":262}],351:[function(e,t,n){"use strict";var r=e("./EventPluginRegistry"),o=e("./EventPluginUtils"),i=e("./ReactErrorUtils"),a=e("./accumulateInto"),s=e("./forEachAccumulated"),u=e("fbjs/lib/invariant"),l=(e("fbjs/lib/warning"),{}),c=null,f=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return f(e,!0)},d=function(e){return f(e,!1)},h=null,y={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){h=e},getInstanceHandle:function(){return h},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?u(!1):void 0;var o=l[t]||(l[t]={});o[e]=n;var i=r.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=l[t];o&&delete o[e]},deleteAllListeners:function(e){for(var t in l)if(l[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e]}},extractEvents:function(e,t,n,o,i){for(var s,u=r.plugins,l=0;l<u.length;l++){var c=u[l];if(c){var f=c.extractEvents(e,t,n,o,i);f&&(s=a(s,f))}}return s},enqueueEvents:function(e){e&&(c=a(c,e))},processEventQueue:function(e){var t=c;c=null,e?s(t,p):s(t,d),c?u(!1):void 0,i.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=y},{"./EventPluginRegistry":352,"./EventPluginUtils":353,"./ReactErrorUtils":392,"./accumulateInto":438,"./forEachAccumulated":446,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],352:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!l.plugins[n]){t.extractEvents?void 0:a(!1),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a(!1)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]?a(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e("fbjs/lib/invariant"),s=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]?a(!1):void 0,u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{"fbjs/lib/invariant":259}],353:[function(e,t,n){"use strict";function r(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function o(e){return e===m.topMouseMove||e===m.topTouchMove}function i(e){return e===m.topMouseDown||e===m.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=y.Mount.getNode(r),t?d.invokeGuardedCallbackWithCatch(o,n,e,r):d.invokeGuardedCallback(o,n,e,r),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?h(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function f(e){return!!e._dispatchListeners}var p=e("./EventConstants"),d=e("./ReactErrorUtils"),h=e("fbjs/lib/invariant"),y=(e("fbjs/lib/warning"),{Mount:null,injectMount:function(e){y.Mount=e}}),m=p.topLevelTypes,v={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:f,getNode:function(e){return y.Mount.getNode(e)},getID:function(e){return y.Mount.getID(e)},injection:y};t.exports=v},{"./EventConstants":350,"./ReactErrorUtils":392,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],354:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function o(e,t,n){var o=t?v.bubbled:v.captured,i=r(e,n,o);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchIDs=y(n._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,o,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(e,r);o&&(n._dispatchListeners=y(n._dispatchListeners,o),n._dispatchIDs=y(n._dispatchIDs,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function l(e){m(e,i)}function c(e){m(e,a)}function f(e,t,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function p(e){m(e,u)}var d=e("./EventConstants"),h=e("./EventPluginHub"),y=(e("fbjs/lib/warning"),e("./accumulateInto")),m=e("./forEachAccumulated"),v=d.PropagationPhases,g=h.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:f};t.exports=b},{"./EventConstants":350,"./EventPluginHub":351,"./accumulateInto":438,"./forEachAccumulated":446,"fbjs/lib/warning":270}],355:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e("./PooledClass"),i=e("./Object.assign"),a=e("./getTextContentAccessor");i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),t.exports=r},{"./Object.assign":358,"./PooledClass":359,"./getTextContentAccessor":453}],356:[function(e,t,n){"use strict";var r,o=e("./DOMProperty"),i=e("fbjs/lib/ExecutionEnvironment"),a=o.injection.MUST_USE_ATTRIBUTE,s=o.injection.MUST_USE_PROPERTY,u=o.injection.HAS_BOOLEAN_VALUE,l=o.injection.HAS_SIDE_EFFECTS,c=o.injection.HAS_NUMERIC_VALUE,f=o.injection.HAS_POSITIVE_NUMERIC_VALUE,p=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var d=document.implementation;r=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,capture:a|u,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|u,classID:a,className:r?a:s,cols:a|f,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,"default":u,defer:u,dir:null,disabled:a|u,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|u,muted:s|u,name:null,nonce:a,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:a,rows:a|f,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|f,sizes:a,span:f,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},{"./DOMProperty":345,"fbjs/lib/ExecutionEnvironment":245}],357:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e("./ReactPropTypes"),u=e("./ReactPropTypeLocations"),l=e("fbjs/lib/invariant"),c=(e("fbjs/lib/warning"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},p={},d={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var o=f[r](t,r,e,u.prop);if(o instanceof Error&&!(o.message in p)){p[o.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=d},{"./ReactPropTypeLocations":409,"./ReactPropTypes":410,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],358:[function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var a=Object(i);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}t.exports=r},{}],359:[function(e,t,n){"use strict";var r=e("fbjs/lib/invariant"),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,f=o,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||f,n.poolSize||(n.poolSize=c),n.release=l,n},d={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};t.exports=d},{"fbjs/lib/invariant":259}],360:[function(e,t,n){"use strict";var r=e("./ReactDOM"),o=e("./ReactDOMServer"),i=e("./ReactIsomorphic"),a=e("./Object.assign"),s=e("./deprecated"),u={};a(u,i),a(u,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,t.exports=u},{"./Object.assign":358,"./ReactDOM":371,"./ReactDOMServer":381,"./ReactIsomorphic":399,"./deprecated":442}],361:[function(e,t,n){"use strict";var r=(e("./ReactInstanceMap"),e("./findDOMNode")),o=(e("fbjs/lib/warning"),"_getDOMNodeDidWarn"),i={getDOMNode:function(){return this.constructor[o]=!0,r(this)}};t.exports=i},{"./ReactInstanceMap":398,"./findDOMNode":444,"fbjs/lib/warning":270}],362:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,p[e[m]]={}),p[e[m]]}var o=e("./EventConstants"),i=e("./EventPluginHub"),a=e("./EventPluginRegistry"),s=e("./ReactEventEmitterMixin"),u=e("./ReactPerf"),l=e("./ViewportMetrics"),c=e("./Object.assign"),f=e("./isEventSupported"),p={},d=!1,h=0,y={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),s=a.registrationNameDependencies[e],u=o.topLevelTypes,l=0;l<s.length;l++){var c=s[l];i.hasOwnProperty(c)&&i[c]||(c===u.topWheel?f("wheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):f("mousewheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?f("scroll",!0)?v.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(f("focus",!0)?(v.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):f("focusin")&&(v.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):y.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,y[c],n),i[c]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=l.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});u.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=v},{"./EventConstants":350,"./EventPluginHub":351,"./EventPluginRegistry":352,"./Object.assign":358,"./ReactEventEmitterMixin":393,"./ReactPerf":407,"./ViewportMetrics":437,"./isEventSupported":455}],363:[function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=i(t,null))}var o=e("./ReactReconciler"),i=e("./instantiateReactComponent"),a=e("./shouldUpdateReactComponent"),s=e("./traverseAllChildren"),u=(e("fbjs/lib/warning"),{instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var u=e&&e[s],l=u&&u._currentElement,c=t[s];if(null!=u&&a(l,c))o.receiveComponent(u,c,n,r),t[s]=u;else{u&&o.unmountComponent(u,s);var f=i(c,null);t[s]=f}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||o.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];o.unmountComponent(n)}}});t.exports=u},{"./ReactReconciler":412,"./instantiateReactComponent":454,"./shouldUpdateReactComponent":462,"./traverseAllChildren":463,"fbjs/lib/warning":270}],364:[function(e,t,n){"use strict";function r(e){return(""+e).replace(_,"//")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);v(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,o,n,m.thatReturnsArgument):null!=u&&(y.isValidElement(u)&&(u=y.cloneAndReplaceKey(u,i+(u!==t?r(u.key||"")+"/":"")+n)),o.push(u))}function l(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,o,i);v(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function f(e,t,n){return null}function p(e,t){return v(e,f,null)}function d(e){var t=[];return l(e,t,null,m.thatReturnsArgument),t}var h=e("./PooledClass"),y=e("./ReactElement"),m=e("fbjs/lib/emptyFunction"),v=e("./traverseAllChildren"),g=h.twoArgumentPooler,b=h.fourArgumentPooler,_=/\/(?!\/)/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var w={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:p,toArray:d};t.exports=w},{"./PooledClass":359,"./ReactElement":388,"./traverseAllChildren":463,"fbjs/lib/emptyFunction":251}],365:[function(e,t,n){"use strict";function r(e,t){var n=S.hasOwnProperty(t)?S[t]:null;x.hasOwnProperty(t)&&(n!==_.OVERRIDE_BASE?m(!1):void 0),
e.hasOwnProperty(t)&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?m(!1):void 0)}function o(e,t){if(t){"function"==typeof t?m(!1):void 0,p.isValidElement(t)?m(!1):void 0;var n=e.prototype;t.hasOwnProperty(b)&&T.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==b){var i=t[o];if(r(n,o),T.hasOwnProperty(o))T[o](e,i);else{var a=S.hasOwnProperty(o),l=n.hasOwnProperty(o),c="function"==typeof i,f=c&&!a&&!l&&t.autobind!==!1;if(f)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=i,n[o]=i;else if(l){var d=S[o];!a||d!==_.DEFINE_MANY_MERGED&&d!==_.DEFINE_MANY?m(!1):void 0,d===_.DEFINE_MANY_MERGED?n[o]=s(n[o],i):d===_.DEFINE_MANY&&(n[o]=u(n[o],i))}else n[o]=i}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in T;o?m(!1):void 0;var i=n in e;i?m(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,n)}}var f=e("./ReactComponent"),p=e("./ReactElement"),d=(e("./ReactPropTypeLocations"),e("./ReactPropTypeLocationNames"),e("./ReactNoopUpdateQueue")),h=e("./Object.assign"),y=e("fbjs/lib/emptyObject"),m=e("fbjs/lib/invariant"),v=e("fbjs/lib/keyMirror"),g=e("fbjs/lib/keyOf"),b=(e("fbjs/lib/warning"),g({mixins:null})),_=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],S={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},T={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=h({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=h({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=h({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},x={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},P=function(){};h(P.prototype,f.prototype,x);var E={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.refs=y,this.updater=n||d,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?m(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,w.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in S)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){w.push(e)}}};t.exports=E},{"./Object.assign":358,"./ReactComponent":366,"./ReactElement":388,"./ReactNoopUpdateQueue":405,"./ReactPropTypeLocationNames":408,"./ReactPropTypeLocations":409,"fbjs/lib/emptyObject":252,"fbjs/lib/invariant":259,"fbjs/lib/keyMirror":262,"fbjs/lib/keyOf":263,"fbjs/lib/warning":270}],366:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}var o=e("./ReactNoopUpdateQueue"),i=(e("./canDefineProperty"),e("fbjs/lib/emptyObject")),a=e("fbjs/lib/invariant");e("fbjs/lib/warning");r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};t.exports=r},{"./ReactNoopUpdateQueue":405,"./canDefineProperty":440,"fbjs/lib/emptyObject":252,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],367:[function(e,t,n){"use strict";var r=e("./ReactDOMIDOperations"),o=e("./ReactMount"),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};t.exports=i},{"./ReactDOMIDOperations":376,"./ReactMount":401}],368:[function(e,t,n){"use strict";var r=e("fbjs/lib/invariant"),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1):void 0,i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{"fbjs/lib/invariant":259}],369:[function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}var i=e("./ReactComponentEnvironment"),a=e("./ReactCurrentOwner"),s=e("./ReactElement"),u=e("./ReactInstanceMap"),l=e("./ReactPerf"),c=e("./ReactPropTypeLocations"),f=(e("./ReactPropTypeLocationNames"),e("./ReactReconciler")),p=e("./ReactUpdateQueue"),d=e("./Object.assign"),h=e("fbjs/lib/emptyObject"),y=e("fbjs/lib/invariant"),m=e("./shouldUpdateReactComponent");e("fbjs/lib/warning");o.prototype.render=function(){var e=u.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var v=1,g={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=v++,this._rootNodeID=e;var r,i,a=this._processProps(this._currentElement.props),l=this._processContext(n),c=this._currentElement.type,d="prototype"in c;d&&(r=new c(a,l,p)),d&&null!==r&&r!==!1&&!s.isValidElement(r)||(i=r,r=new o(c)),r.props=a,r.context=l,r.refs=h,r.updater=p,this._instance=r,u.set(r,this);var m=r.state;void 0===m&&(r.state=m=null),"object"!=typeof m||Array.isArray(m)?y(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===i&&(i=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(i);var g=f.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),g},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),f.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return h;t={};for(var o in r)t[o]=e[o];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?y(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:y(!1);return d({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?y(!1):void 0,a=e[i](t,i,o,n)}catch(s){a=s}if(a instanceof Error){r(this);n===c.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){var i,a=this._instance,s=this._context===o?a.context:this._processContext(o);t===n?i=n.props:(i=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(i,s));var u=this._processPendingState(i,s),l=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(i,u,s);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,i,u,s,e,o)):(this._currentElement=n,this._context=o,a.props=i,a.state=u,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=d({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];d(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(m(r,o))f.receiveComponent(n,o,e,this._processChildContext(t));else{var i=this._rootNodeID,a=n._rootNodeID;f.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var s=f.mountComponent(this._renderedComponent,i,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:y(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?y(!1):void 0;var r=t.getPublicInstance(),o=n.refs===h?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};l.measureMethods(g,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:g};t.exports=b},{"./Object.assign":358,"./ReactComponentEnvironment":368,"./ReactCurrentOwner":370,"./ReactElement":388,"./ReactInstanceMap":398,"./ReactPerf":407,"./ReactPropTypeLocationNames":408,"./ReactPropTypeLocations":409,"./ReactReconciler":412,"./ReactUpdateQueue":418,"./shouldUpdateReactComponent":462,"fbjs/lib/emptyObject":252,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],370:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],371:[function(e,t,n){"use strict";var r=e("./ReactCurrentOwner"),o=e("./ReactDOMTextComponent"),i=e("./ReactDefaultInjection"),a=e("./ReactInstanceHandles"),s=e("./ReactMount"),u=e("./ReactPerf"),l=e("./ReactReconciler"),c=e("./ReactUpdates"),f=e("./ReactVersion"),p=e("./findDOMNode"),d=e("./renderSubtreeIntoContainer");e("fbjs/lib/warning");i.inject();var h=u.measure("React","render",s.render),y={findDOMNode:p,render:h,unmountComponentAtNode:s.unmountComponentAtNode,version:f,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:s,Reconciler:l,TextComponent:o});t.exports=y},{"./ReactCurrentOwner":370,"./ReactDOMTextComponent":382,"./ReactDefaultInjection":385,"./ReactInstanceHandles":397,"./ReactMount":401,"./ReactPerf":407,"./ReactReconciler":412,"./ReactUpdates":419,"./ReactVersion":420,"./findDOMNode":444,"./renderSubtreeIntoContainer":459,"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/warning":270}],372:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t,n){if(!t.disabled)return t;var o={};for(var i in t)t.hasOwnProperty(i)&&!r[i]&&(o[i]=t[i]);return o}};t.exports=o},{}],373:[function(e,t,n){"use strict";function r(){return this}function o(){var e=this._reactInternalComponent;return!!e}function i(){}function a(e,t){var n=this._reactInternalComponent;n&&(I.enqueueSetPropsInternal(n,e),t&&I.enqueueCallbackInternal(n,t))}function s(e,t){var n=this._reactInternalComponent;n&&(I.enqueueReplacePropsInternal(n,e),t&&I.enqueueCallbackInternal(n,t))}function u(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?D(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&W in t.dangerouslySetInnerHTML?void 0:D(!1)),null!=t.style&&"object"!=typeof t.style?D(!1):void 0)}function l(e,t,n,r){var o=R.findReactContainerForID(e);if(o){var i=o.nodeType===Y?o.ownerDocument:o;H(t,i)}r.getReactMountReady().enqueue(c,{id:e,registrationName:t,listener:n})}function c(){var e=this;S.putListener(e.id,e.registrationName,e.listener)}function f(){var e=this;e._rootNodeID?void 0:D(!1);var t=R.getNode(e._rootNodeID);switch(t?void 0:D(!1),e._tag){case"iframe":e._wrapperState.listeners=[S.trapBubbledEvent(w.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(S.trapBubbledEvent(w.topLevelTypes[n],G[n],t));break;case"img":e._wrapperState.listeners=[S.trapBubbledEvent(w.topLevelTypes.topError,"error",t),S.trapBubbledEvent(w.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[S.trapBubbledEvent(w.topLevelTypes.topReset,"reset",t),S.trapBubbledEvent(w.topLevelTypes.topSubmit,"submit",t)]}}function p(){P.mountReadyWrapper(this)}function d(){C.postUpdateWrapper(this)}function h(e){Z.call(X,e)||(J.test(e)?void 0:D(!1),X[e]=!0)}function y(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){h(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var v=e("./AutoFocusUtils"),g=e("./CSSPropertyOperations"),b=e("./DOMProperty"),_=e("./DOMPropertyOperations"),w=e("./EventConstants"),S=e("./ReactBrowserEventEmitter"),T=e("./ReactComponentBrowserEnvironment"),x=e("./ReactDOMButton"),P=e("./ReactDOMInput"),E=e("./ReactDOMOption"),C=e("./ReactDOMSelect"),O=e("./ReactDOMTextarea"),R=e("./ReactMount"),k=e("./ReactMultiChild"),j=e("./ReactPerf"),I=e("./ReactUpdateQueue"),M=e("./Object.assign"),A=e("./canDefineProperty"),N=e("./escapeTextContentForBrowser"),D=e("fbjs/lib/invariant"),L=(e("./isEventSupported"),e("fbjs/lib/keyOf")),q=e("./setInnerHTML"),F=e("./setTextContent"),U=(e("fbjs/lib/shallowEqual"),e("./validateDOMNesting"),e("fbjs/lib/warning"),S.deleteListener),H=S.listenTo,B=S.registrationNameModules,V={string:!0,number:!0},z=L({children:null}),$=L({style:null}),W=L({__html:null}),Y=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},J=(M({menuitem:!0},K),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),X={},Z={}.hasOwnProperty;m.displayName="ReactDOMComponent",m.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(f,this);break;case"button":r=x.getNativeProps(this,r,n);break;case"input":P.mountWrapper(this,r,n),r=P.getNativeProps(this,r,n);break;case"option":E.mountWrapper(this,r,n),r=E.getNativeProps(this,r,n);break;case"select":C.mountWrapper(this,r,n),r=C.getNativeProps(this,r,n),n=C.processChildContext(this,r,n);break;case"textarea":O.mountWrapper(this,r,n),r=O.getNativeProps(this,r,n)}u(this,r);var o;if(t.useCreateElement){var i=n[R.ownerDocumentContextKey],a=i.createElement(this._currentElement.type);_.setAttributeForID(a,this._rootNodeID),R.getID(a),this._updateDOMProperties({},r,t,a),this._createInitialChildren(t,r,n,a),o=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);o=!l&&K[this._tag]?s+"/>":s+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(p,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(B.hasOwnProperty(r))o&&l(this._rootNodeID,r,o,e);else{r===$&&(o&&(o=this._previousStyleCopy=M({},t.style)),o=g.createMarkupForStyles(o));var i=null;null!=this._tag&&y(this._tag,t)?r!==z&&(i=_.createMarkupForCustomAttribute(r,o)):i=_.createMarkupForProperty(r,o),i&&(n+=" "+i)}}if(e.renderToStaticMarkup)return n;var a=_.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=V[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=N(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return Q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&q(r,o.__html);else{var i=V[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)F(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)r.appendChild(s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,i=this._currentElement.props;switch(this._tag){case"button":o=x.getNativeProps(this,o),i=x.getNativeProps(this,i);break;case"input":P.updateWrapper(this),o=P.getNativeProps(this,o),i=P.getNativeProps(this,i);break;case"option":o=E.getNativeProps(this,o),i=E.getNativeProps(this,i);break;case"select":o=C.getNativeProps(this,o),i=C.getNativeProps(this,i);break;case"textarea":O.updateWrapper(this),o=O.getNativeProps(this,o),i=O.getNativeProps(this,i)}u(this,i),this._updateDOMProperties(o,i,e,null),this._updateDOMChildren(o,i,e,r),!A&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=i),"select"===this._tag&&e.getReactMountReady().enqueue(d,this)},_updateDOMProperties:function(e,t,n,r){var o,i,a;for(o in e)if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o===$){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else B.hasOwnProperty(o)?e[o]&&U(this._rootNodeID,o):(b.properties[o]||b.isCustomAttribute(o))&&(r||(r=R.getNode(this._rootNodeID)),_.deleteValueForProperty(r,o));for(o in t){var u=t[o],c=o===$?this._previousStyleCopy:e[o];if(t.hasOwnProperty(o)&&u!==c)if(o===$)if(u?u=this._previousStyleCopy=M({},u):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else B.hasOwnProperty(o)?u?l(this._rootNodeID,o,u,n):c&&U(this._rootNodeID,o):y(this._tag,t)?(r||(r=R.getNode(this._rootNodeID)),o===z&&(u=null),_.setValueForAttribute(r,o,u)):(b.properties[o]||b.isCustomAttribute(o))&&(r||(r=R.getNode(this._rootNodeID)),null!=u?_.setValueForProperty(r,o,u):_.deleteValueForProperty(r,o))}a&&(r||(r=R.getNode(this._rootNodeID)),g.setValueForStyles(r,a))},_updateDOMChildren:function(e,t,n,r){var o=V[typeof e.children]?e.children:null,i=V[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,f=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":P.unmountWrapper(this);break;case"html":case"head":case"body":D(!1)}if(this.unmountChildren(),S.deleteAllListeners(this._rootNodeID),T.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=R.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=o,e.setState=i,e.replaceState=i,e.forceUpdate=i,e.setProps=a,e.replaceProps=s,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},j.measureMethods(m,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),M(m.prototype,m.Mixin,k.Mixin),t.exports=m},{"./AutoFocusUtils":337,"./CSSPropertyOperations":340,"./DOMProperty":345,"./DOMPropertyOperations":346,"./EventConstants":350,"./Object.assign":358,"./ReactBrowserEventEmitter":362,"./ReactComponentBrowserEnvironment":367,"./ReactDOMButton":372,"./ReactDOMInput":377,"./ReactDOMOption":378,"./ReactDOMSelect":379,"./ReactDOMTextarea":383,"./ReactMount":401,"./ReactMultiChild":402,"./ReactPerf":407,"./ReactUpdateQueue":418,"./canDefineProperty":440,"./escapeTextContentForBrowser":443,"./isEventSupported":455,"./setInnerHTML":460,"./setTextContent":461,"./validateDOMNesting":464,"fbjs/lib/invariant":259,"fbjs/lib/keyOf":263,"fbjs/lib/shallowEqual":268,"fbjs/lib/warning":270}],374:[function(e,t,n){"use strict";function r(e){return o.createFactory(e)}var o=e("./ReactElement"),i=(e("./ReactElementValidator"),e("fbjs/lib/mapObject")),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a},{"./ReactElement":388,"./ReactElementValidator":389,"fbjs/lib/mapObject":264}],375:[function(e,t,n){"use strict";var r={useCreateElement:!1};t.exports=r},{}],376:[function(e,t,n){"use strict";var r=e("./DOMChildrenOperations"),o=e("./DOMPropertyOperations"),i=e("./ReactMount"),a=e("./ReactPerf"),s=e("fbjs/lib/invariant"),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(e,t,n){var r=i.getNode(e);u.hasOwnProperty(t)?s(!1):void 0,null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=i.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=i.getNode(e[n].parentID);r.processUpdates(e,t)}};a.measureMethods(l,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=l},{"./DOMChildrenOperations":344,"./DOMPropertyOperations":346,"./ReactMount":401,"./ReactPerf":407,"fbjs/lib/invariant":259}],377:[function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);u.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=s.getNode(this._rootNodeID),l=i;l.parentNode;)l=l.parentNode;for(var p=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<p.length;d++){var h=p[d];if(h!==i&&h.form===i.form){var y=s.getID(h);y?void 0:c(!1);var m=f[y];m?void 0:c(!1),u.asap(r,m)}}}return n}var i=e("./ReactDOMIDOperations"),a=e("./LinkedValueUtils"),s=e("./ReactMount"),u=e("./ReactUpdates"),l=e("./Object.assign"),c=e("fbjs/lib/invariant"),f={},p={getNativeProps:function(e,t,n){var r=a.getValue(t),o=a.getChecked(t),i=l({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=o?o:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:o.bind(e)}},mountReadyWrapper:function(e){f[e._rootNodeID]=e},unmountWrapper:function(e){delete f[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&i.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=a.getValue(t);null!=r&&i.updatePropertyByID(e._rootNodeID,"value",""+r)}};t.exports=p},{"./LinkedValueUtils":357,"./Object.assign":358,"./ReactDOMIDOperations":376,"./ReactMount":401,"./ReactUpdates":419,"fbjs/lib/invariant":259}],378:[function(e,t,n){"use strict";var r=e("./ReactChildren"),o=e("./ReactDOMSelect"),i=e("./Object.assign"),a=(e("fbjs/lib/warning"),o.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[a],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var i=0;i<r.length;i++)if(""+r[i]==""+t.value){o=!0;break}}else o=""+r==""+t.value;e._wrapperState={selected:o}},getNativeProps:function(e,t,n){var o=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(o.selected=e._wrapperState.selected);var a="";return r.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(a+=e))}),o.children=a,o}};t.exports=s},{"./Object.assign":358,"./ReactChildren":364,"./ReactDOMSelect":379,"fbjs/lib/warning":270}],379:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=a.getValue(e);null!=t&&o(this,e,t)}}function o(e,t,n){var r,o,i=s.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,u.asap(r,this),n}var a=e("./LinkedValueUtils"),s=e("./ReactMount"),u=e("./ReactUpdates"),l=e("./Object.assign"),c=(e("fbjs/lib/warning"),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),f={valueContextKey:c,getNativeProps:function(e,t,n){return l({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=a.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=l({},n);return r[c]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=a.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=f},{"./LinkedValueUtils":357,"./Object.assign":358,"./ReactMount":401,"./ReactUpdates":419,"fbjs/lib/warning":270}],380:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(e),f.setEnd(s.startContainer,s.startOffset);var p=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),d=p?0:f.toString().length,h=d+c,y=document.createRange();y.setStart(n,o),y.setEnd(i,a);
var m=y.collapsed;return{start:m?h:d,end:m?d:h}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(f),n.extend(u.node,u.offset)):(f.setEnd(u.node,u.offset),n.addRange(f))}}}var u=e("fbjs/lib/ExecutionEnvironment"),l=e("./getNodeForCharacterOffset"),c=e("./getTextContentAccessor"),f=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:f?o:i,setOffsets:f?a:s};t.exports=p},{"./getNodeForCharacterOffset":452,"./getTextContentAccessor":453,"fbjs/lib/ExecutionEnvironment":245}],381:[function(e,t,n){"use strict";var r=e("./ReactDefaultInjection"),o=e("./ReactServerRendering"),i=e("./ReactVersion");r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};t.exports=a},{"./ReactDefaultInjection":385,"./ReactServerRendering":416,"./ReactVersion":420}],382:[function(e,t,n){"use strict";var r=e("./DOMChildrenOperations"),o=e("./DOMPropertyOperations"),i=e("./ReactComponentBrowserEnvironment"),a=e("./ReactMount"),s=e("./Object.assign"),u=e("./escapeTextContentForBrowser"),l=e("./setTextContent"),c=(e("./validateDOMNesting"),function(e){});s(c.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[a.ownerDocumentContextKey],i=r.createElement("span");return o.setAttributeForID(i,e),a.getID(i),l(i,this._stringText),i}var s=u(this._stringText);return t.renderToStaticMarkup?s:"<span "+o.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=a.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},{"./DOMChildrenOperations":344,"./DOMPropertyOperations":346,"./Object.assign":358,"./ReactComponentBrowserEnvironment":367,"./ReactMount":401,"./escapeTextContentForBrowser":443,"./setTextContent":461,"./validateDOMNesting":464}],383:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return s.asap(r,this),n}var i=e("./LinkedValueUtils"),a=e("./ReactDOMIDOperations"),s=e("./ReactUpdates"),u=e("./Object.assign"),l=e("fbjs/lib/invariant"),c=(e("fbjs/lib/warning"),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?l(!1):void 0;var r=u({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?l(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:l(!1),r=r[0]),n=""+r),null==n&&(n="");var a=i.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=i.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}});t.exports=c},{"./LinkedValueUtils":357,"./Object.assign":358,"./ReactDOMIDOperations":376,"./ReactUpdates":419,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],384:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e("./ReactUpdates"),i=e("./Transaction"),a=e("./Object.assign"),s=e("fbjs/lib/emptyFunction"),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];a(r.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var f=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?e(t,n,r,o,i):f.perform(e,null,t,n,r,o,i)}};t.exports=p},{"./Object.assign":358,"./ReactUpdates":419,"./Transaction":436,"fbjs/lib/emptyFunction":251}],385:[function(e,t,n){"use strict";function r(){if(!P){P=!0,v.EventEmitter.injectReactEventListener(m),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginHub.injectInstanceHandle(g),v.EventPluginHub.injectMount(b),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:T,EnterLeaveEventPlugin:u,ChangeEventPlugin:i,SelectEventPlugin:w,BeforeInputEventPlugin:o}),v.NativeComponent.injectGenericComponentClass(h),v.NativeComponent.injectTextComponentClass(y),v.Class.injectMixin(f),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(x),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(_),v.Updates.injectBatchingStrategy(d),v.RootIndex.injectCreateReactRootIndex(l.canUseDOM?a.createReactRootIndex:S.createReactRootIndex),v.Component.injectEnvironment(p)}}var o=e("./BeforeInputEventPlugin"),i=e("./ChangeEventPlugin"),a=e("./ClientReactRootIndex"),s=e("./DefaultEventPluginOrder"),u=e("./EnterLeaveEventPlugin"),l=e("fbjs/lib/ExecutionEnvironment"),c=e("./HTMLDOMPropertyConfig"),f=e("./ReactBrowserComponentMixin"),p=e("./ReactComponentBrowserEnvironment"),d=e("./ReactDefaultBatchingStrategy"),h=e("./ReactDOMComponent"),y=e("./ReactDOMTextComponent"),m=e("./ReactEventListener"),v=e("./ReactInjection"),g=e("./ReactInstanceHandles"),b=e("./ReactMount"),_=e("./ReactReconcileTransaction"),w=e("./SelectEventPlugin"),S=e("./ServerReactRootIndex"),T=e("./SimpleEventPlugin"),x=e("./SVGDOMPropertyConfig"),P=!1;t.exports={inject:r}},{"./BeforeInputEventPlugin":338,"./ChangeEventPlugin":342,"./ClientReactRootIndex":343,"./DefaultEventPluginOrder":348,"./EnterLeaveEventPlugin":349,"./HTMLDOMPropertyConfig":356,"./ReactBrowserComponentMixin":361,"./ReactComponentBrowserEnvironment":367,"./ReactDOMComponent":373,"./ReactDOMTextComponent":382,"./ReactDefaultBatchingStrategy":384,"./ReactDefaultPerf":386,"./ReactEventListener":394,"./ReactInjection":395,"./ReactInstanceHandles":397,"./ReactMount":401,"./ReactReconcileTransaction":411,"./SVGDOMPropertyConfig":421,"./SelectEventPlugin":422,"./ServerReactRootIndex":423,"./SimpleEventPlugin":424,"fbjs/lib/ExecutionEnvironment":245}],386:[function(e,t,n){"use strict";function r(e){return Math.floor(100*e)/100}function o(e,t,n){e[t]=(e[t]||0)+n}var i=e("./DOMProperty"),a=e("./ReactDefaultPerfAnalysis"),s=e("./ReactMount"),u=e("./ReactPerf"),l=e("fbjs/lib/performanceNow"),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||u.injection.injectMeasure(c.measure),c._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=a.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=a.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=a.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=a.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[i.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=c._allMeasurements[c._allMeasurements.length-1].writes;o[e]=o[e]||[],o[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var u,f,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=l(),f=n.apply(this,i),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-p,f;if("_mountImageIntoNode"===t||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(p=l(),f=n.apply(this,i),u=l()-p,"_mountImageIntoNode"===t){var d=s.getID(i[1]);c._recordWrite(d,t,u,i[0])}else if("dangerouslyProcessChildrenUpdates"===t)i[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=i[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,u,t)});else{var h=i[0];"object"==typeof h&&(h=s.getID(i[0])),c._recordWrite(h,t,u,Array.prototype.slice.call(i,1))}return f}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,i);if(this._currentElement.type===s.TopLevelWrapper)return n.apply(this,i);var y="mountComponent"===t?i[0]:this._rootNodeID,m="_renderValidatedComponent"===t,v="mountComponent"===t,g=c._mountStack,b=c._allMeasurements[c._allMeasurements.length-1];if(m?o(b.counts,y,1):v&&(b.created[y]=!0,g.push(0)),p=l(),f=n.apply(this,i),u=l()-p,m)o(b.render,y,u);else if(v){var _=g.pop();g[g.length-1]+=u,o(b.exclusive,y,u-_),o(b.inclusive,y,u)}else o(b.inclusive,y,u);return b.displayNames[y]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},f}}};t.exports=c},{"./DOMProperty":345,"./ReactDefaultPerfAnalysis":387,"./ReactMount":401,"./ReactPerf":407,"fbjs/lib/performanceNow":267}],387:[function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function o(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:c[e.type]||e.type,args:e.args})})})}),t}function i(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],i=u({},o.exclusive,o.inclusive);for(var a in i)t=o.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(n[t].render+=o.render[a]),o.exclusive[a]&&(n[t].exclusive+=o.exclusive[a]),o.inclusive[a]&&(n[t].inclusive+=o.inclusive[a]),o.counts[a]&&(n[t].count+=o.counts[a])}var s=[];for(t in n)n[t].exclusive>=l&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function a(e,t){for(var n,r={},o=0;o<e.length;o++){var i,a=e[o],c=u({},a.exclusive,a.inclusive);t&&(i=s(a));for(var f in c)if(!t||i[f]){var p=a.displayNames[f];n=p.owner+" > "+p.current,r[n]=r[n]||{componentName:n,time:0,count:0},a.inclusive[f]&&(r[n].time+=a.inclusive[f]),a.counts[f]&&(r[n].count+=a.counts[f])}}var d=[];for(n in r)r[n].time>=l&&d.push(r[n]);return d.sort(function(e,t){return t.time-e.time}),d}function s(e){var t={},n=Object.keys(e.writes),r=u({},e.exclusive,e.inclusive);for(var o in r){for(var i=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(o)){i=!0;break}e.created[o]&&(i=!0),!i&&e.counts[o]>0&&(t[o]=!0)}return t}var u=e("./Object.assign"),l=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},f={getExclusiveSummary:i,getInclusiveSummary:a,getDOMSummary:o,getTotalTime:r};t.exports=f},{"./Object.assign":358}],388:[function(e,t,n){"use strict";var r=e("./ReactCurrentOwner"),o=e("./Object.assign"),i=(e("./canDefineProperty"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,r,o,a,s){var u={$$typeof:i,type:e,key:t,ref:n,props:s,_owner:a};return u};s.createElement=function(e,t,n){var o,i={},u=null,l=null,c=null,f=null;if(null!=t){l=void 0===t.ref?null:t.ref,u=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(i[o]=t[o])}var p=arguments.length-2;if(1===p)i.children=n;else if(p>1){for(var d=Array(p),h=0;h<p;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps){var y=e.defaultProps;for(o in y)"undefined"==typeof i[o]&&(i[o]=y[o])}return s(e,u,l,c,f,r.current,i)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneAndReplaceProps=function(e,t){var n=s(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},s.cloneElement=function(e,t,n){var i,u=o({},e.props),l=e.key,c=e.ref,f=e._self,p=e._source,d=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,d=r.current),void 0!==t.key&&(l=""+t.key);for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(u[i]=t[i])}var h=arguments.length-2;if(1===h)u.children=n;else if(h>1){for(var y=Array(h),m=0;m<h;m++)y[m]=arguments[m+2];u.children=y}return s(e.type,l,c,f,p,d,u)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.exports=s},{"./Object.assign":358,"./ReactCurrentOwner":370,"./canDefineProperty":440}],389:[function(e,t,n){"use strict";function r(){if(f.current){var e=f.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;i("uniqueKey",e,t)}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=h[e]||(h[e]={});if(a[o])return null;a[o]=!0;var s={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==f.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];l.isValidElement(r)&&o(r,t)}else if(l.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=p(e);if(i&&i!==e.entries)for(var a,s=i.call(e);!(a=s.next()).done;)l.isValidElement(a.value)&&o(a.value,t)}}function s(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?d(!1):void 0,a=t[i](n,i,e,o)}catch(s){a=s}if(a instanceof Error&&!(a.message in y)){y[a.message]=!0;r()}}}function u(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var l=e("./ReactElement"),c=e("./ReactPropTypeLocations"),f=(e("./ReactPropTypeLocationNames"),e("./ReactCurrentOwner")),p=(e("./canDefineProperty"),e("./getIteratorFn")),d=e("fbjs/lib/invariant"),h=(e("fbjs/lib/warning"),{}),y={},m={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=l.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var i=2;i<arguments.length;i++)a(arguments[i],e);return u(o),o},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=l.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return u(r),r}};t.exports=m},{"./ReactCurrentOwner":370,"./ReactElement":388,"./ReactPropTypeLocationNames":408,"./ReactPropTypeLocations":409,"./canDefineProperty":440,"./getIteratorFn":451,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],390:[function(e,t,n){"use strict";var r,o=e("./ReactElement"),i=e("./ReactEmptyComponentRegistry"),a=e("./ReactReconciler"),s=e("./Object.assign"),u={injectEmptyComponent:function(e){r=o.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};s(l.prototype,{construct:function(e){},mountComponent:function(e,t,n){return i.registerNullComponentID(e),this._rootNodeID=e,a.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){a.unmountComponent(this._renderedComponent),i.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=u,t.exports=l},{"./Object.assign":358,"./ReactElement":388,"./ReactEmptyComponentRegistry":391,"./ReactReconciler":412}],391:[function(e,t,n){"use strict";function r(e){return!!a[e]}function o(e){a[e]=!0}function i(e){delete a[e]}var a={},s={isNullComponentID:r,registerNullComponentID:o,deregisterNullComponentID:i};t.exports=s},{}],392:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(i){return void(null===o&&(o=i))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],393:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e("./EventPluginHub"),i={handleTopLevel:function(e,t,n,i,a){var s=o.extractEvents(e,t,n,i,a);r(s)}};t.exports=i},{"./EventPluginHub":351}],394:[function(e,t,n){"use strict";function r(e){var t=p.getID(e),n=f.getReactRootIDFromNodeID(t),r=p.findReactContainerForID(n),o=p.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){a(e)}function a(e){for(var t=p.getFirstReactDOM(y(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;o<e.ancestors.length;o++){t=e.ancestors[o];var i=p.getID(t)||"";v._handleTopLevel(e.topLevelType,t,i,e.nativeEvent,y(e.nativeEvent))}}function s(e){var t=m(window);e(t)}var u=e("fbjs/lib/EventListener"),l=e("fbjs/lib/ExecutionEnvironment"),c=e("./PooledClass"),f=e("./ReactInstanceHandles"),p=e("./ReactMount"),d=e("./ReactUpdates"),h=e("./Object.assign"),y=e("./getEventTarget"),m=e("fbjs/lib/getUnboundedScrollPosition");h(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=v},{"./Object.assign":358,"./PooledClass":359,"./ReactInstanceHandles":397,"./ReactMount":401,"./ReactUpdates":419,"./getEventTarget":450,"fbjs/lib/EventListener":244,"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/getUnboundedScrollPosition":256}],395:[function(e,t,n){"use strict";var r=e("./DOMProperty"),o=e("./EventPluginHub"),i=e("./ReactComponentEnvironment"),a=e("./ReactClass"),s=e("./ReactEmptyComponent"),u=e("./ReactBrowserEventEmitter"),l=e("./ReactNativeComponent"),c=e("./ReactPerf"),f=e("./ReactRootIndex"),p=e("./ReactUpdates"),d={Component:i.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:f.injection,Updates:p.injection};t.exports=d},{"./DOMProperty":345,"./EventPluginHub":351,"./ReactBrowserEventEmitter":362,"./ReactClass":365,"./ReactComponentEnvironment":368,"./ReactEmptyComponent":390,"./ReactNativeComponent":404,"./ReactPerf":407,"./ReactRootIndex":414,"./ReactUpdates":419}],396:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e("./ReactDOMSelection"),i=e("fbjs/lib/containsNode"),a=e("fbjs/lib/focusNode"),s=e("fbjs/lib/getActiveElement"),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{"./ReactDOMSelection":380,"fbjs/lib/containsNode":248,"fbjs/lib/focusNode":253,"fbjs/lib/getActiveElement":254}],397:[function(e,t,n){"use strict";function r(e){return d+e.toString(36)}function o(e,t){return e.charAt(t)===d||t===e.length}function i(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function a(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(d)):""}function u(e,t){if(i(e)&&i(t)?void 0:p(!1),a(e,t)?void 0:p(!1),e===t)return e;var n,r=e.length+h;for(n=r;n<t.length&&!o(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;a<=n;a++)if(o(e,a)&&o(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,r);return i(s)?void 0:p(!1),s}function c(e,t,n,r,o,i){e=e||"",t=t||"",e===t?p(!1):void 0;var l=a(t,e);l||a(e,t)?void 0:p(!1);for(var c=0,f=l?s:u,d=e;;d=f(d,t)){var h;if(o&&d===e||i&&d===t||(h=n(d,l,r)),h===!1||d===t)break;c++<y?void 0:p(!1)}}var f=e("./ReactRootIndex"),p=e("fbjs/lib/invariant"),d=".",h=d.length,y=1e4,m={createReactRootID:function(){return r(f.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var i=l(e,t);i!==e&&c(e,i,n,r,!1,!0),i!==t&&c(i,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:d};t.exports=m},{"./ReactRootIndex":414,"fbjs/lib/invariant":259}],398:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],399:[function(e,t,n){"use strict";var r=e("./ReactChildren"),o=e("./ReactComponent"),i=e("./ReactClass"),a=e("./ReactDOMFactories"),s=e("./ReactElement"),u=(e("./ReactElementValidator"),e("./ReactPropTypes")),l=e("./ReactVersion"),c=e("./Object.assign"),f=e("./onlyChild"),p=s.createElement,d=s.createFactory,h=s.cloneElement,y={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:f},Component:o,createElement:p,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:i.createClass,createFactory:d,createMixin:function(e){return e},DOM:a,version:l,__spread:c};t.exports=y},{"./Object.assign":358,"./ReactChildren":364,"./ReactClass":365,"./ReactComponent":366,"./ReactDOMFactories":374,"./ReactElement":388,"./ReactElementValidator":389,"./ReactPropTypes":410,"./ReactVersion":420,"./onlyChild":457}],400:[function(e,t,n){"use strict";var r=e("./adler32"),o=/\/?>/,i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(o," "+i.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=i},{"./adler32":439}],401:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===B?e.documentElement:e.firstChild:null}function i(e){var t=o(e);return t&&Q.getID(t)}function a(e){var t=s(e);if(t)if(U.hasOwnProperty(t)){var n=U[t];n!==e&&(f(n,t)?D(!1):void 0,U[t]=e)}else U[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(F)||""}function u(e,t){var n=s(e);n!==t&&delete U[n],e.setAttribute(F,t),U[t]=e}function l(e){return U.hasOwnProperty(e)&&f(U[e],e)||(U[e]=Q.findReactNodeByID(e)),U[e]}function c(e){var t=E.get(e)._rootNodeID;return x.isNullComponentID(t)?null:(U.hasOwnProperty(t)&&f(U[t],t)||(U[t]=Q.findReactNodeByID(t)),U[t])}function f(e,t){if(e){s(e)!==t?D(!1):void 0;var n=Q.findReactContainerForID(t);if(n&&A(n,e))return!0}return!1}function p(e){delete U[e]}function d(e){var t=U[e];return!(!t||!f(t,e))&&void(G=t)}function h(e){G=null,P.traverseAncestors(e,d);var t=G;return G=null,t}function y(e,t,n,r,o,i){S.useCreateElement&&(i=I({},i),n.nodeType===B?i[z]=n:i[z]=n.ownerDocument);var a=R.mountComponent(e,t,r,i);e._renderedComponent._topLevelWrapper=e,Q._mountImageIntoNode(a,n,o,r)}function m(e,t,n,r,o){var i=j.ReactReconcileTransaction.getPooled(r);i.perform(y,null,e,t,n,i,r,o),j.ReactReconcileTransaction.release(i)}function v(e,t){for(R.unmountComponent(e),t.nodeType===B&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function g(e){var t=i(e);return!!t&&t!==P.getReactRootIDFromNodeID(t)}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,r=P.getReactRootIDFromNodeID(t),o=e;do if(n=s(o),o=o.parentNode,null==o)return null;while(n!==r);if(o===W[r])return e}}return null}var _=e("./DOMProperty"),w=e("./ReactBrowserEventEmitter"),S=(e("./ReactCurrentOwner"),e("./ReactDOMFeatureFlags")),T=e("./ReactElement"),x=e("./ReactEmptyComponentRegistry"),P=e("./ReactInstanceHandles"),E=e("./ReactInstanceMap"),C=e("./ReactMarkupChecksum"),O=e("./ReactPerf"),R=e("./ReactReconciler"),k=e("./ReactUpdateQueue"),j=e("./ReactUpdates"),I=e("./Object.assign"),M=e("fbjs/lib/emptyObject"),A=e("fbjs/lib/containsNode"),N=e("./instantiateReactComponent"),D=e("fbjs/lib/invariant"),L=e("./setInnerHTML"),q=e("./shouldUpdateReactComponent"),F=(e("./validateDOMNesting"),e("fbjs/lib/warning"),_.ID_ATTRIBUTE_NAME),U={},H=1,B=9,V=11,z="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),$={},W={},Y=[],G=null,K=function(){};K.prototype.isReactComponent={},K.prototype.render=function(){return this.props};var Q={TopLevelWrapper:K,_instancesByReactRootID:$,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return Q.scrollMonitor(n,function(){k.enqueueElementInternal(e,t),r&&k.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==H&&t.nodeType!==B&&t.nodeType!==V?D(!1):void 0,w.ensureScrollValueMonitoring();var n=Q.registerContainer(t);return $[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var o=N(e,null),i=Q._registerComponent(o,t);return j.batchedUpdates(m,o,i,t,n,r),o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?D(!1):void 0,Q._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.isValidElement(t)?void 0:D(!1);var a=new T(K,null,null,null,null,null,t),u=$[i(n)];if(u){var l=u._currentElement,c=l.props;if(q(c,t)){var f=u._renderedComponent.getPublicInstance(),p=r&&function(){r.call(f)};return Q._updateRootComponent(u,a,n,p),f}Q.unmountComponentAtNode(n)}var d=o(n),h=d&&!!s(d),y=g(n),m=h&&!u&&!y,v=Q._renderNewRootComponent(a,n,m,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):M)._renderedComponent.getPublicInstance();return r&&r.call(v),v},render:function(e,t,n){return Q._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=i(e);return t&&(t=P.getReactRootIDFromNodeID(t)),t||(t=P.createReactRootID()),W[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==H&&e.nodeType!==B&&e.nodeType!==V?D(!1):void 0;var t=i(e),n=$[t];if(!n){var r=(g(e),s(e));r&&r===P.getReactRootIDFromNodeID(r);return!1}return j.batchedUpdates(v,n,e),delete $[t],delete W[t],!0},findReactContainerForID:function(e){var t=P.getReactRootIDFromNodeID(e),n=W[t];return n},findReactNodeByID:function(e){var t=Q.findReactContainerForID(e);return Q.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var n=Y,r=0,o=h(t)||e;for(n[0]=o.firstChild,n.length=1;r<n.length;){for(var i,a=n[r++];a;){var s=Q.getID(a);s?t===s?i=a:P.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(i)return n.length=0,i}n.length=0,D(!1)},_mountImageIntoNode:function(e,t,n,i){if(!t||t.nodeType!==H&&t.nodeType!==B&&t.nodeType!==V?D(!1):void 0,n){var a=o(t);if(C.canReuseMarkup(e,a))return;var s=a.getAttribute(C.CHECKSUM_ATTR_NAME);a.removeAttribute(C.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(C.CHECKSUM_ATTR_NAME,s);var l=e,c=r(l,u);" (client) "+l.substring(c-20,c+20)+"\n (server) "+u.substring(c-20,c+20);t.nodeType===B?D(!1):void 0}if(t.nodeType===B?D(!1):void 0,i.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else L(t,e)},ownerDocumentContextKey:z,getReactRootID:i,getID:a,setID:u,getNode:l,getNodeFromInstance:c,isValid:f,purgeID:p};O.measureMethods(Q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=Q},{"./DOMProperty":345,"./Object.assign":358,"./ReactBrowserEventEmitter":362,"./ReactCurrentOwner":370,"./ReactDOMFeatureFlags":375,"./ReactElement":388,"./ReactEmptyComponentRegistry":391,"./ReactInstanceHandles":397,"./ReactInstanceMap":398,"./ReactMarkupChecksum":400,"./ReactPerf":407,"./ReactReconciler":412,"./ReactUpdateQueue":418,"./ReactUpdates":419,"./instantiateReactComponent":454,"./setInnerHTML":460,"./shouldUpdateReactComponent":462,"./validateDOMNesting":464,"fbjs/lib/containsNode":248,"fbjs/lib/emptyObject":252,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],402:[function(e,t,n){"use strict";function r(e,t,n){m.push({parentID:e,parentNode:null,type:f.INSERT_MARKUP,markupIndex:v.push(t)-1,content:null,fromIndex:null,toIndex:n})}function o(e,t,n){m.push({parentID:e,parentNode:null,type:f.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function i(e,t){m.push({parentID:e,parentNode:null,type:f.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){m.push({parentID:e,parentNode:null,type:f.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){m.push({parentID:e,parentNode:null,type:f.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function u(){m.length&&(c.processChildrenUpdates(m,v),l())}function l(){m.length=0,
v.length=0}var c=e("./ReactComponentEnvironment"),f=e("./ReactMultiChildUpdateTypes"),p=(e("./ReactCurrentOwner"),e("./ReactReconciler")),d=e("./ReactChildReconciler"),h=e("./flattenChildren"),y=0,m=[],v=[],g={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var o;return o=h(t),d.updateChildren(e,o,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=this._rootNodeID+a,l=p.mountComponent(s,u,t,n);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){y++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{y--,y||(t?l():u())}},updateMarkup:function(e){y++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{y--,y||(t?l():u())}},updateChildren:function(e,t,n){y++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{y--,y||(r?l():u())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var i,a=0,s=0;for(i in o)if(o.hasOwnProperty(i)){var u=r&&r[i],l=o[i];u===l?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChild(u)),this._mountChildByNameAtIndex(l,i,s,t,n)),s++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChild(r[i])}},unmountChildren:function(){var e=this._renderedChildren;d.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,a=p.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=g},{"./ReactChildReconciler":363,"./ReactComponentEnvironment":368,"./ReactCurrentOwner":370,"./ReactMultiChildUpdateTypes":403,"./ReactReconciler":412,"./flattenChildren":445}],403:[function(e,t,n){"use strict";var r=e("fbjs/lib/keyMirror"),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{"fbjs/lib/keyMirror":262}],404:[function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=f[t];return null==n&&(f[t]=n=l(t)),n}function o(e){return c?void 0:u(!1),new c(e.type,e.props)}function i(e){return new p(e)}function a(e){return e instanceof p}var s=e("./Object.assign"),u=e("fbjs/lib/invariant"),l=null,c=null,f={},p=null,d={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(f,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:d};t.exports=h},{"./Object.assign":358,"fbjs/lib/invariant":259}],405:[function(e,t,n){"use strict";function r(e,t){}var o=(e("fbjs/lib/warning"),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}});t.exports=o},{"fbjs/lib/warning":270}],406:[function(e,t,n){"use strict";var r=e("fbjs/lib/invariant"),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=o},{"fbjs/lib/invariant":259}],407:[function(e,t,n){"use strict";function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){o.storedMeasure=e}}};t.exports=o},{}],408:[function(e,t,n){"use strict";var r={};t.exports=r},{}],409:[function(e,t,n){"use strict";var r=e("fbjs/lib/keyMirror"),o=r({prop:null,context:null,childContext:null});t.exports=o},{"fbjs/lib/keyMirror":262}],410:[function(e,t,n){"use strict";function r(e){function t(t,n,r,o,i,a){if(o=o||S,a=a||r,null==n[r]){var s=b[i];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,i){var a=t[n],s=y(a);if(s!==e){var u=b[o],l=m(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function i(){return r(_.thatReturns(null))}function a(e){function t(t,n,r,o,i){var a=t[n];if(!Array.isArray(a)){var s=b[o],u=y(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=e(a,l,r,o,i+"["+l+"]");if(c instanceof Error)return c}return null}return r(t)}function s(){function e(e,t,n,r,o){if(!g.isValidElement(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=b[o],s=e.name||S,u=v(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function l(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var u=b[o],l=JSON.stringify(e);return new Error("Invalid "+u+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,r,o,i){var a=t[n],s=y(a);if("object"!==s){var u=b[o];return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,o,i+"."+l);if(c instanceof Error)return c}return null}return r(t)}function f(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,o,i))return null}var u=b[o];return new Error("Invalid "+u+" `"+i+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,n,r,o){if(!h(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function d(e){function t(t,n,r,o,i){var a=t[n],s=y(a);if("object"!==s){var u=b[o];return new Error("Invalid "+u+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var f=c(a,l,r,o,i+"."+l);if(f)return f}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||g.isValidElement(e))return!0;var t=w(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!h(o[1]))return!1}return!0;default:return!1}}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var g=e("./ReactElement"),b=e("./ReactPropTypeLocationNames"),_=e("fbjs/lib/emptyFunction"),w=e("./getIteratorFn"),S="<<anonymous>>",T={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:i(),arrayOf:a,element:s(),instanceOf:u,node:p(),objectOf:c,oneOf:l,oneOfType:f,shape:d};t.exports=T},{"./ReactElement":388,"./ReactPropTypeLocationNames":408,"./getIteratorFn":451,"fbjs/lib/emptyFunction":251}],411:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var o=e("./CallbackQueue"),i=e("./PooledClass"),a=e("./ReactBrowserEventEmitter"),s=e("./ReactDOMFeatureFlags"),u=e("./ReactInputSelection"),l=e("./Transaction"),c=e("./Object.assign"),f={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[f,p,d],y={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};c(r.prototype,l.Mixin,y),i.addPoolingTo(r),t.exports=r},{"./CallbackQueue":341,"./Object.assign":358,"./PooledClass":359,"./ReactBrowserEventEmitter":362,"./ReactDOMFeatureFlags":375,"./ReactInputSelection":396,"./Transaction":436}],412:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e("./ReactRef"),i={mountComponent:function(e,t,n,o){var i=e.mountComponent(t,n,o);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),i},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=i},{"./ReactRef":413}],413:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e("./ReactOwner"),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{"./ReactOwner":406}],414:[function(e,t,n){"use strict";var r={injectCreateReactRootIndex:function(e){o.createReactRootIndex=e}},o={createReactRootIndex:null,injection:r};t.exports=o},{}],415:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],416:[function(e,t,n){"use strict";function r(e){a.isValidElement(e)?void 0:h(!1);var t;try{f.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var r=d(e,null),o=r.mountComponent(n,t,p);return u.addChecksumToMarkup(o)},null)}finally{c.release(t),f.injection.injectBatchingStrategy(i)}}function o(e){a.isValidElement(e)?void 0:h(!1);var t;try{f.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var r=d(e,null);return r.mountComponent(n,t,p)},null)}finally{c.release(t),f.injection.injectBatchingStrategy(i)}}var i=e("./ReactDefaultBatchingStrategy"),a=e("./ReactElement"),s=e("./ReactInstanceHandles"),u=e("./ReactMarkupChecksum"),l=e("./ReactServerBatchingStrategy"),c=e("./ReactServerRenderingTransaction"),f=e("./ReactUpdates"),p=e("fbjs/lib/emptyObject"),d=e("./instantiateReactComponent"),h=e("fbjs/lib/invariant");t.exports={renderToString:r,renderToStaticMarkup:o}},{"./ReactDefaultBatchingStrategy":384,"./ReactElement":388,"./ReactInstanceHandles":397,"./ReactMarkupChecksum":400,"./ReactServerBatchingStrategy":415,"./ReactServerRenderingTransaction":417,"./ReactUpdates":419,"./instantiateReactComponent":454,"fbjs/lib/emptyObject":252,"fbjs/lib/invariant":259}],417:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.useCreateElement=!1}var o=e("./PooledClass"),i=e("./CallbackQueue"),a=e("./Transaction"),s=e("./Object.assign"),u=e("fbjs/lib/emptyFunction"),l={initialize:function(){this.reactMountReady.reset()},close:u},c=[l],f={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};s(r.prototype,a.Mixin,f),o.addPoolingTo(r),t.exports=r},{"./CallbackQueue":341,"./Object.assign":358,"./PooledClass":359,"./Transaction":436,"fbjs/lib/emptyFunction":251}],418:[function(e,t,n){"use strict";function r(e){s.enqueueUpdate(e)}function o(e,t){var n=a.get(e);return n?n:null}var i=(e("./ReactCurrentOwner"),e("./ReactElement")),a=e("./ReactInstanceMap"),s=e("./ReactUpdates"),u=e("./Object.assign"),l=e("fbjs/lib/invariant"),c=(e("fbjs/lib/warning"),{isMounted:function(e){var t=a.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t){"function"!=typeof t?l(!1):void 0;var n=o(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?l(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueSetProps:function(e,t){var n=o(e,"setProps");n&&c.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var o=n._pendingElement||n._currentElement,a=o.props,s=u({},a.props,t);n._pendingElement=i.cloneAndReplaceProps(o,i.cloneAndReplaceProps(a,s)),r(n)},enqueueReplaceProps:function(e,t){var n=o(e,"replaceProps");n&&c.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var o=n._pendingElement||n._currentElement,a=o.props;n._pendingElement=i.cloneAndReplaceProps(o,i.cloneAndReplaceProps(a,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=c},{"./Object.assign":358,"./ReactCurrentOwner":370,"./ReactElement":388,"./ReactInstanceMap":398,"./ReactUpdates":419,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],419:[function(e,t,n){"use strict";function r(){E.ReactReconcileTransaction&&_?void 0:m(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!1)}function i(e,t,n,o,i,a){r(),_.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length?m(!1):void 0,v.sort(a);for(var n=0;n<t;n++){var r=v[n],o=r._pendingCallbacks;if(r._pendingCallbacks=null,d.performUpdateIfNecessary(r,e.reconcileTransaction),o)for(var i=0;i<o.length;i++)e.callbackQueue.enqueue(o[i],r.getPublicInstance())}}function u(e){return r(),_.isBatchingUpdates?void v.push(e):void _.batchedUpdates(u,e)}function l(e,t){_.isBatchingUpdates?void 0:m(!1),g.enqueue(e,t),b=!0}var c=e("./CallbackQueue"),f=e("./PooledClass"),p=e("./ReactPerf"),d=e("./ReactReconciler"),h=e("./Transaction"),y=e("./Object.assign"),m=e("fbjs/lib/invariant"),v=[],g=c.getPooled(),b=!1,_=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),x()):v.length=0}},S={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[w,S];y(o.prototype,h.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var x=function(){for(;v.length||b;){if(v.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(b){b=!1;var t=g;g=c.getPooled(),t.notifyAll(),c.release(t)}}};x=p.measure("ReactUpdates","flushBatchedUpdates",x);var P={injectReconcileTransaction:function(e){e?void 0:m(!1),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:m(!1),"function"!=typeof e.batchedUpdates?m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?m(!1):void 0,_=e}},E={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:x,injection:P,asap:l};t.exports=E},{"./CallbackQueue":341,"./Object.assign":358,"./PooledClass":359,"./ReactPerf":407,"./ReactReconciler":412,"./Transaction":436,"fbjs/lib/invariant":259}],420:[function(e,t,n){"use strict";t.exports="0.14.3"},{}],421:[function(e,t,n){"use strict";var r=e("./DOMProperty"),o=r.injection.MUST_USE_ATTRIBUTE,i={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:i.xlink,xlinkArcrole:i.xlink,xlinkHref:i.xlink,xlinkRole:i.xlink,xlinkShow:i.xlink,xlinkTitle:i.xlink,xlinkType:i.xlink,xmlBase:i.xml,xmlLang:i.xml,xmlSpace:i.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=a},{"./DOMProperty":345}],422:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==v||v!==c())return null;var n=r(v);if(!b||!d(b,n)){b=n;var o=l.getPooled(m.select,g,e,t);return o.type="select",o.target=v,a.accumulateTwoPhaseDispatches(o),o}return null}var i=e("./EventConstants"),a=e("./EventPropagators"),s=e("fbjs/lib/ExecutionEnvironment"),u=e("./ReactInputSelection"),l=e("./SyntheticEvent"),c=e("fbjs/lib/getActiveElement"),f=e("./isTextInputElement"),p=e("fbjs/lib/keyOf"),d=e("fbjs/lib/shallowEqual"),h=i.topLevelTypes,y=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},v=null,g=null,b=null,_=!1,w=!1,S=p({onSelect:null}),T={eventTypes:m,extractEvents:function(e,t,n,r,i){if(!w)return null;switch(e){case h.topFocus:(f(t)||"true"===t.contentEditable)&&(v=t,g=n,b=null);break;case h.topBlur:v=null,g=null,b=null;break;case h.topMouseDown:_=!0;break;case h.topContextMenu:case h.topMouseUp:return _=!1,o(r,i);case h.topSelectionChange:if(y)break;case h.topKeyDown:case h.topKeyUp:return o(r,i)}return null},didPutListener:function(e,t,n){t===S&&(w=!0)}};t.exports=T},{"./EventConstants":350,"./EventPropagators":354,"./ReactInputSelection":396,"./SyntheticEvent":428,"./isTextInputElement":456,"fbjs/lib/ExecutionEnvironment":245,"fbjs/lib/getActiveElement":254,"fbjs/lib/keyOf":263,"fbjs/lib/shallowEqual":268}],423:[function(e,t,n){"use strict";var r=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=o},{}],424:[function(e,t,n){"use strict";var r=e("./EventConstants"),o=e("fbjs/lib/EventListener"),i=e("./EventPropagators"),a=e("./ReactMount"),s=e("./SyntheticClipboardEvent"),u=e("./SyntheticEvent"),l=e("./SyntheticFocusEvent"),c=e("./SyntheticKeyboardEvent"),f=e("./SyntheticMouseEvent"),p=e("./SyntheticDragEvent"),d=e("./SyntheticTouchEvent"),h=e("./SyntheticUIEvent"),y=e("./SyntheticWheelEvent"),m=e("fbjs/lib/emptyFunction"),v=e("./getEventCharCode"),g=e("fbjs/lib/invariant"),b=e("fbjs/lib/keyOf"),_=r.topLevelTypes,w={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},S={topAbort:w.abort,topBlur:w.blur,topCanPlay:w.canPlay,topCanPlayThrough:w.canPlayThrough,topClick:w.click,topContextMenu:w.contextMenu,topCopy:w.copy,topCut:w.cut,topDoubleClick:w.doubleClick,topDrag:w.drag,topDragEnd:w.dragEnd,topDragEnter:w.dragEnter,topDragExit:w.dragExit,topDragLeave:w.dragLeave,topDragOver:w.dragOver,topDragStart:w.dragStart,topDrop:w.drop,topDurationChange:w.durationChange,topEmptied:w.emptied,topEncrypted:w.encrypted,topEnded:w.ended,topError:w.error,topFocus:w.focus,topInput:w.input,topKeyDown:w.keyDown,topKeyPress:w.keyPress,topKeyUp:w.keyUp,topLoad:w.load,topLoadedData:w.loadedData,topLoadedMetadata:w.loadedMetadata,topLoadStart:w.loadStart,topMouseDown:w.mouseDown,topMouseMove:w.mouseMove,topMouseOut:w.mouseOut,topMouseOver:w.mouseOver,topMouseUp:w.mouseUp,topPaste:w.paste,topPause:w.pause,topPlay:w.play,topPlaying:w.playing,topProgress:w.progress,topRateChange:w.rateChange,topReset:w.reset,topScroll:w.scroll,topSeeked:w.seeked,topSeeking:w.seeking,topStalled:w.stalled,topSubmit:w.submit,topSuspend:w.suspend,topTimeUpdate:w.timeUpdate,topTouchCancel:w.touchCancel,topTouchEnd:w.touchEnd,topTouchMove:w.touchMove,topTouchStart:w.touchStart,topVolumeChange:w.volumeChange,topWaiting:w.waiting,topWheel:w.wheel};for(var T in S)S[T].dependencies=[T];var x=b({onClick:null}),P={},E={eventTypes:w,extractEvents:function(e,t,n,r,o){var a=S[e];if(!a)return null;var m;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:m=u;break;case _.topKeyPress:if(0===v(r))return null;case _.topKeyDown:case _.topKeyUp:m=c;break;case _.topBlur:case _.topFocus:m=l;break;case _.topClick:if(2===r.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:m=f;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:m=p;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:m=d;break;case _.topScroll:m=h;break;case _.topWheel:m=y;break;case _.topCopy:case _.topCut:case _.topPaste:m=s}m?void 0:g(!1);var b=m.getPooled(a,n,r,o);return i.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===x){var r=a.getNode(e);P[e]||(P[e]=o.listen(r,"click",m))}},willDeleteListener:function(e,t){t===x&&(P[e].remove(),delete P[e])}};t.exports=E},{"./EventConstants":350,"./EventPropagators":354,"./ReactMount":401,"./SyntheticClipboardEvent":425,"./SyntheticDragEvent":427,"./SyntheticEvent":428,"./SyntheticFocusEvent":429,"./SyntheticKeyboardEvent":431,"./SyntheticMouseEvent":432,"./SyntheticTouchEvent":433,"./SyntheticUIEvent":434,"./SyntheticWheelEvent":435,"./getEventCharCode":447,"fbjs/lib/EventListener":244,"fbjs/lib/emptyFunction":251,"fbjs/lib/invariant":259,"fbjs/lib/keyOf":263}],425:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticEvent"),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{"./SyntheticEvent":428}],426:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticEvent"),i={data:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticEvent":428}],427:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticMouseEvent"),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticMouseEvent":432}],428:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=r,this.currentTarget=r;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,
this.isPropagationStopped=a.thatReturnsFalse}var o=e("./PooledClass"),i=e("./Object.assign"),a=e("fbjs/lib/emptyFunction"),s=(e("fbjs/lib/warning"),{type:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);i(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),t.exports=r},{"./Object.assign":358,"./PooledClass":359,"fbjs/lib/emptyFunction":251,"fbjs/lib/warning":270}],429:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticUIEvent":434}],430:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticEvent"),i={data:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticEvent":428}],431:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),i=e("./getEventCharCode"),a=e("./getEventKey"),s=e("./getEventModifierState"),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{"./SyntheticUIEvent":434,"./getEventCharCode":447,"./getEventKey":448,"./getEventModifierState":449}],432:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),i=e("./ViewportMetrics"),a=e("./getEventModifierState"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{"./SyntheticUIEvent":434,"./ViewportMetrics":437,"./getEventModifierState":449}],433:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),i=e("./getEventModifierState"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{"./SyntheticUIEvent":434,"./getEventModifierState":449}],434:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticEvent"),i=e("./getEventTarget"),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{"./SyntheticEvent":428,"./getEventTarget":450}],435:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e("./SyntheticMouseEvent"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticMouseEvent":432}],436:[function(e,t,n){"use strict";var r=e("fbjs/lib/invariant"),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()?r(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},{"fbjs/lib/invariant":259}],437:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],438:[function(e,t,n){"use strict";function r(e,t){if(null==t?o(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e("fbjs/lib/invariant");t.exports=r},{"fbjs/lib/invariant":259}],439:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=i&-4;r<a;){for(;r<Math.min(r+4096,a);r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],440:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],441:[function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e("./CSSProperty"),i=o.isUnitlessNumber;t.exports=r},{"./CSSProperty":339}],442:[function(e,t,n){"use strict";function r(e,t,n,r,o){return o}e("./Object.assign"),e("fbjs/lib/warning");t.exports=r},{"./Object.assign":358,"fbjs/lib/warning":270}],443:[function(e,t,n){"use strict";function r(e){return i[e]}function o(e){return(""+e).replace(a,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;t.exports=o},{}],444:[function(e,t,n){"use strict";function r(e){return null==e?null:1===e.nodeType?e:o.has(e)?i.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1):void 0,void a(!1))}var o=(e("./ReactCurrentOwner"),e("./ReactInstanceMap")),i=e("./ReactMount"),a=e("fbjs/lib/invariant");e("fbjs/lib/warning");t.exports=r},{"./ReactCurrentOwner":370,"./ReactInstanceMap":398,"./ReactMount":401,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],445:[function(e,t,n){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=e("./traverseAllChildren");e("fbjs/lib/warning");t.exports=o},{"./traverseAllChildren":463,"fbjs/lib/warning":270}],446:[function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],447:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],448:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e("./getEventCharCode"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{"./getEventCharCode":447}],449:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],450:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],451:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],452:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],453:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e("fbjs/lib/ExecutionEnvironment"),i=null;t.exports=r},{"fbjs/lib/ExecutionEnvironment":245}],454:[function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t;if(null===e||e===!1)t=new a(o);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?l(!1):void 0,t="string"==typeof n.type?s.createInternalComponent(n):r(n.type)?new n.type(n):new c}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):l(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var i=e("./ReactCompositeComponent"),a=e("./ReactEmptyComponent"),s=e("./ReactNativeComponent"),u=e("./Object.assign"),l=e("fbjs/lib/invariant"),c=(e("fbjs/lib/warning"),function(){});u(c.prototype,i.Mixin,{_instantiateReactComponent:o}),t.exports=o},{"./Object.assign":358,"./ReactCompositeComponent":369,"./ReactEmptyComponent":390,"./ReactNativeComponent":404,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],455:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e("fbjs/lib/ExecutionEnvironment");i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{"fbjs/lib/ExecutionEnvironment":245}],456:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],457:[function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:i(!1),e}var o=e("./ReactElement"),i=e("fbjs/lib/invariant");t.exports=r},{"./ReactElement":388,"fbjs/lib/invariant":259}],458:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e("./escapeTextContentForBrowser");t.exports=r},{"./escapeTextContentForBrowser":443}],459:[function(e,t,n){"use strict";var r=e("./ReactMount");t.exports=r.renderSubtreeIntoContainer},{"./ReactMount":401}],460:[function(e,t,n){"use strict";var r=e("fbjs/lib/ExecutionEnvironment"),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=a},{"fbjs/lib/ExecutionEnvironment":245}],461:[function(e,t,n){"use strict";var r=e("fbjs/lib/ExecutionEnvironment"),o=e("./escapeTextContentForBrowser"),i=e("./setInnerHTML"),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),t.exports=a},{"./escapeTextContentForBrowser":443,"./setInnerHTML":460,"fbjs/lib/ExecutionEnvironment":245}],462:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],463:[function(e,t,n){"use strict";function r(e){return y[e]}function o(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function i(e){return(""+e).replace(m,r)}function a(e){return"$"+i(e)}function s(e,t,n,r){var i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||l.isValidElement(e))return n(r,e,""===t?d+o(e,0):t),1;var u,c,y=0,m=""===t?d:t+h;if(Array.isArray(e))for(var v=0;v<e.length;v++)u=e[v],c=m+o(u,v),y+=s(u,c,n,r);else{var g=f(e);if(g){var b,_=g.call(e);if(g!==e.entries)for(var w=0;!(b=_.next()).done;)u=b.value,c=m+o(u,w++),y+=s(u,c,n,r);else for(;!(b=_.next()).done;){var S=b.value;S&&(u=S[1],c=m+a(S[0])+h+o(u,0),y+=s(u,c,n,r))}}else if("object"===i){String(e);p(!1)}}return y}function u(e,t,n){return null==e?0:s(e,"",t,n)}var l=(e("./ReactCurrentOwner"),e("./ReactElement")),c=e("./ReactInstanceHandles"),f=e("./getIteratorFn"),p=e("fbjs/lib/invariant"),d=(e("fbjs/lib/warning"),c.SEPARATOR),h=":",y={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;t.exports=u},{"./ReactCurrentOwner":370,"./ReactElement":388,"./ReactInstanceHandles":397,"./getIteratorFn":451,"fbjs/lib/invariant":259,"fbjs/lib/warning":270}],464:[function(e,t,n){"use strict";var r=(e("./Object.assign"),e("fbjs/lib/emptyFunction")),o=(e("fbjs/lib/warning"),r);t.exports=o},{"./Object.assign":358,"fbjs/lib/emptyFunction":251,"fbjs/lib/warning":270}],465:[function(e,t,n){"use strict";t.exports=e("./lib/React")},{"./lib/React":360}],466:[function(e,t,n){t.exports=function(e,t,n){for(var r=0,o=e.length,i=3==arguments.length?n:e[r++];r<o;)i=t.call(null,i,e[r],++r,e);return i}},{}],467:[function(e,t,n){(function(e){(function(){"use strict";function t(e,t,n){var r=n||o(e);return r==="[object "+t+"]"}function n(e){var n="Array"===e&&un.isArray||function(n,r){return t(n,e,r)};return _n[e]=n,n}function r(e,n){var r=function(r){return b(r)?t(r,n):typeof r===e};return _n[n]=r,r}function o(e){return yn.call(e)}function i(){a(sn),S(Sn,function(e,t){a(hn[t])})}function a(e){e.SugarMethods||(f(e,"SugarMethods",{}),s(e,!1,!0,{extend:function(t,n,r){s(e,r!==!1,n,t)},sugarRestore:function(){return l(this,e,arguments,function(e,t,n){f(e,t,n.method)})},sugarRevert:function(){return l(this,e,arguments,function(e,t,n){n.existed?f(e,t,n.original):delete e[t]})}}))}function s(e,t,n,r){var o=t?e.prototype:e;a(e),S(r,function(r,i){var a=o[r],s=g(o,r);Rn(n)&&a&&(i=c(a,i,n)),n===!1&&a||f(o,r,i),e.SugarMethods[r]={method:i,existed:s,original:a,instance:t}})}function u(e,t,n,r,o){var i={};r=Pn(r)?r.split(","):r,r.forEach(function(e,t){o(i,e,t)}),s(e,t,n,i)}function l(e,t,n,r){var o=0===n.length,i=p(n),a=!1;return S(t.SugarMethods,function(t,n){(o||i.indexOf(t)!==-1)&&(a=!0,r(n.instance?e.prototype:e,t,n))}),a}function c(e,t,n){return function(r){return n.apply(this,arguments)?t.apply(this,arguments):e.apply(this,arguments)}}function f(e,t,n){vn?sn.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writable:!0}):e[t]=n}function p(e,t,n){var r,o=[],i=n||0;for(r=e.length;i<r;i++)o.push(e[i]),t&&t.call(e,e[i],i);return o}function d(e,t,n){var r=e[n||0];return En(r)&&(e=r,n=0),p(e,t,n)}function h(e){if(!e||!e.call)throw new TypeError("Callback is not callable")}function y(e){return e!==an}function m(e){return e===an}function v(e,t){return!_(e)&&t in e}function g(e,t){return!!e&&mn.call(e,t)}function b(e){return!!e&&("object"==typeof e||gn&&On(e))}function _(e){var t=typeof e;return null==e||"string"===t||"number"===t||"boolean"===t}function w(e,t){t=t||o(e);try{if(e&&e.constructor&&!g(e,"constructor")&&!g(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}return!!e&&"[object Object]"===t&&"hasOwnProperty"in e}function S(e,t){var n;for(n in e)if(g(e,n)&&t.call(e,n,e[n],e)===!1)break}function T(e,t){for(var n=0;n<e;n++)t(n)}function x(e,t){return S(t,function(n){e[n]=t[n]}),e}function P(e){return _(e)&&(e=sn(e)),bn&&Pn(e)&&E(e),e}function E(e){for(var t,n=0;t=e.charAt(n);)e[n++]=t}function C(e){x(this,P(e))}function O(e,t,n){var r=In(10,jn(t||0));return n=n||Nn,t<0&&(r=1/r),n(e*r)/r}function R(e){return e>=qn&&e<=Fn||e>=Un&&e<=Hn}function k(){var e,t;for(t=0;t<=9;t++)e=j(t+Un),$n+=e,Wn[e]=j(t+qn);Wn[zn]="",Wn[Vn]=Bn,Wn[Bn]=Bn,kn=ln("["+$n+Vn+zn+Bn+"]","g")}function j(e){return fn.fromCharCode(e)}function I(){return"\t\n\x0B\f\r   ᠎             \u2028\u2029　\ufeff"}function M(e,t){for(var n="",e=e.toString();t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n}function A(e,t){var n,r;return n=e.replace(kn,function(e){var t=Wn[e];return t===Bn&&(r=!0),t}),r?parseFloat(n):parseInt(n,t||10)}function N(e,t,n,r){var o=jn(e).toString(r||10);return o=M("0",t-o.replace(/\.\d+/,"").length)+o,(n||e<0)&&(o=(e<0?"-":"+")+o),o}function D(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function L(e,t){function n(e,n){(e||t.indexOf(n)>-1)&&(r+=n)}var r="";return t=t||"",n(e.multiline,"m"),n(e.ignoreCase,"i"),n(e.global,"g"),n(e.sticky,"y"),r}function q(e){return Pn(e)||(e=fn(e)),e.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function F(e,t){return e["get"+(e._utc?"UTC":"")+t]()}function U(e,t,n){return e["set"+(e._utc&&"ISOWeek"!=t?"UTC":"")+t](n)}function H(e,t){var n,r,o,i,a,s,u,l,c=typeof e;if("string"===c)return e;if(o=yn.call(e),n=w(e,o),r=En(e,o),null!=e&&n||r){if(t||(t=[]),t.length>1)for(u=t.length;u--;)if(t[u]===e)return"CYC";for(t.push(e),i=e.valueOf()+fn(e.constructor),a=r?e:sn.keys(e).sort(),u=0,l=a.length;u<l;u++)s=r?u:a[u],i+=s+H(e[s],t);t.pop()}else i=1/e===-(1/0)?"-0":fn(e&&e.valueOf?e.valueOf():e);return c+o+i}function B(e,t){return e===t?0!==e||1/e===1/t:!(!V(e)||!V(t))&&H(e)===H(t)}function V(e){var t=o(e);return wn.test(t)||w(e,t)}function z(e,t,n){var r,o=e.length,i=t.length,a=t[i-1]!==!1,s=i>(a?1:2);return s?(r=[],p(t,function(t){return!Tn(t)&&void r.push($(e,o,t,a,n))}),r):$(e,o,t[0],a,n)}function $(e,t,n,r,o){return r&&(n%=t,n<0&&(n=t+n)),o?e.charAt(n):e[n]}function W(e,t){u(t,!0,!1,e,function(e,t){e[t+("equal"===t?"s":"")]=function(){return sn[t].apply(null,[this].concat(p(arguments)))}})}function Y(e,t,n,r){var o=e.length,i=r==-1,a=i?o-1:0,s=K(n,a);for(s<0&&(s=o+s),(!i&&s<0||i&&s>=o)&&(s=a);i&&s>=0||!i&&s<o;){if(e[s]===t)return s;s+=r}return-1}function G(e,t,n,r){var o,i,a=e.length,s=0,u=y(n);if(h(t),0==a&&!u)throw new TypeError("Reduce called on empty array with no initial value");for(u?o=n:(o=e[r?a-1:s],s++);s<a;)i=r?a-s-1:s,i in e&&(o=t(o,e[i],i,e)),s++;return o}function K(e,t){return isNaN(e)?t:parseInt(e>>0)}function Q(e){if(0===e.length)throw new TypeError("First argument must be defined")}function J(){var e=I().match(/^\s+$/);try{fn.prototype.trim.call([1])}catch(t){e=!1}s(fn,!0,!e,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(ln("^["+I()+"]+"),"")},trimRight:function(){return this.replace(ln("["+I()+"]+$"),"")}})}function X(){var e=new cn(cn.UTC(1999,11,31)),t="1999-12-31T00:00:00.000Z",n=e.toISOString&&e.toISOString()===t;u(cn,!0,!n,"toISOString,toJSON",function(e,t){e[t]=function(){return N(this.getUTCFullYear(),4)+"-"+N(this.getUTCMonth()+1,2)+"-"+N(this.getUTCDate(),2)+"T"+N(this.getUTCHours(),2)+":"+N(this.getUTCMinutes(),2)+":"+N(this.getUTCSeconds(),2)+"."+N(this.getUTCMilliseconds(),3)+"Z"}})}function Z(e){return e=ln(e),function(t){return e.test(t)}}function ee(e){var t=e.getTime();return function(e){return!(!e||!e.getTime)&&e.getTime()===t}}function te(e){return function(t,n,r){return t===e||e.call(this,t,n,r)}}function ne(e){return function(t,n,r){return t===e||e.call(r,n,t,r)}}function re(e,t){var n={};return function(r,o,i){var a;if(!b(r))return!1;for(a in e)if(n[a]=n[a]||ie(e[a],t),n[a].call(i,r[a],o,i)===!1)return!1;return!0}}function oe(e){return function(t){return t===e||B(t,e)}}function ie(e,t){if(_(e));else{if(On(e))return Z(e);if(Cn(e))return ee(e);if(Rn(e))return t?ne(e):te(e);if(w(e))return re(e,t)}return oe(e)}function ae(e,t,n,r){return t?t.apply?t.apply(n,r||[]):Rn(e[t])?e[t].call(e):e[t]:e}function se(e,t,n,r){var o,i,a=+e.length;for(n<0&&(n=e.length+n),i=isNaN(n)?0:n,r===!0&&(a+=i);i<a;){if(o=i%e.length,!(o in e))return ue(e,t,i,r);if(t.call(e,e[o],o,e)===!1)break;i++}}function ue(e,t,n,r){var o,i=[];for(o in e)le(e,o)&&o>=n&&i.push(parseInt(o));return i.sort().each(function(n){return t.call(e,e[n],n,e)}),e}function le(e,t){return t in e&&ce(t)==t&&4294967295!=t}function ce(e){return e>>>0}function fe(e,t,n,r,o,i){var a,s,u;return e.length>0&&(u=ie(t),se(e,function(t,n){if(u.call(i,t,n,e))return a=t,s=n,!1},n,r)),o?s:a}function pe(e,t){var n,r=[],o={};return se(e,function(i,a){n=t?ae(i,t,e,[i,a,e]):i,be(o,n)||r.push(i)}),r}function de(e,t,n){var r=[],o={};return t.each(function(e){be(o,e)}),e.each(function(e){var t=H(e),i=!V(e);ge(o,t,e,i)!==n&&(_e(o,t,e,i),r.push(e))}),r}function he(e,t,n){t=t||1/0,n=n||0;var r=[];return se(e,function(e){En(e)&&n<t?r=r.concat(he(e,t,n+1)):r.push(e)}),r}function ye(e){return v(e,"length")&&!Pn(e)&&!w(e)}function me(e){return v(e,"length")&&("[object Arguments]"===o(e)||!!e.callee)}function ve(e){var t=[];return p(e,function(e){t=t.concat(e)}),t}function ge(e,t,n,r){var o=t in e;return r&&(e[t]||(e[t]=[]),o=e[t].indexOf(n)!==-1),o}function be(e,t){var n=H(t),r=!V(t),o=ge(e,n,t,r);return r?e[n].push(t):e[n]=t,o}function _e(e,t,n,r){var o,i=0;if(r)for(o=e[t];i<o.length;)o[i]===n?o.splice(i,1):i+=1;else delete e[t]}function we(e,t,n,r){var o,i,a,s,u=[],l="max"===n,c="min"===n,f=un.isArray(e);for(i in e)if(e.hasOwnProperty(i)){if(o=e[i],s=ae(o,t,e,f?[o,parseInt(i),e]:[]),m(s))throw new TypeError("Cannot compare with undefined");s===a?u.push(o):(m(a)||l&&s>a||c&&s<a)&&(u=[o],a=s)}return f||(u=he(u,1)),r?u:u[0]}function Se(e,t){var n,r,o,i,a,s,u=0,l=0,c=un[Kn],f=un[Qn],p=un[Jn],d=un[Gn],h=un[Xn];e=Te(e,c,f),t=Te(t,c,f);do o=xe(e,u,p),i=xe(t,u,p),n=Pe(o,d),r=Pe(i,d),n===-1||r===-1?(n=e.charCodeAt(u)||null,r=t.charCodeAt(u)||null,h&&R(n)&&R(r)&&(n=A(e.slice(u)),r=A(t.slice(u)))):(a=o!==e.charAt(u),s=i!==t.charAt(u),a!==s&&0===l&&(l=a-s)),u+=1;while(null!=n&&null!=r&&n===r);return n===r?l:n-r}function Te(e,t,n){return Pn(e)||(e=fn(e)),n&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function xe(e,t,n){var r=e.charAt(t);return n[r]||r}function Pe(e,t){return e?t.indexOf(e):null}function Ee(){var e=un.prototype.map,t=function(){var e=arguments;return e.length>0&&!Rn(e[0])};u(un,!0,t,"every,all,some,filter,any,none,find,findIndex",function(e,t){var n=un.prototype[t];e[t]=function(e){var t=ie(e);return n.call(this,function(e,n){return t(e,n,this)})}}),s(un,!0,t,{map:function(t){return e.call(this,function(e,n){return ae(e,t,this,[e,n,this])})}})}function Ce(){var e="AÁÀÂÃĄBCĆČÇDĎÐEÉÈĚÊËĘFGĞHıIÍÌİÎÏJKLŁMNŃŇÑOÓÒÔPQRŘSŚŠŞTŤUÚÙŮÛÜVWXYÝZŹŻŽÞÆŒØÕÅÄÖ",t="AÁÀÂÃÄ,CÇ,EÉÈÊË,IÍÌİÎÏ,OÓÒÔÕÖ,Sß,UÚÙÛÜ";un[Gn]=e.split("").map(function(e){return e+e.toLowerCase()}).join("");var n={};se(t.split(","),function(e){var t=e.charAt(0);se(e.slice(1).split(""),function(e){n[e]=t,n[e.toLowerCase()]=t.toLowerCase()})}),un[Xn]=!0,un[Qn]=!0,un[Jn]=n}function Oe(e){return sn.keys(P(e))}function Re(e,t){u(sn,!1,!0,e,function(e,n){e[n]=function(e,r,o){var i,a,s=Oe(e);return t||(a=ie(r,!0)),i=un.prototype[n].call(s,function(n){var o=e[n];return t?ae(o,r,e,[n,o,e]):a(o,n,e)},o),En(i)&&(i=i.reduce(function(t,n,r){return t[n]=e[n],t},{})),i}}),W(e,C)}function ke(){un[Yn]=Se}function je(e){x(this,e),this.compiledFormats=yr.concat()}function Ie(e,t){var n;if(Pn(e)||(e=""),n=br[e]||br[e.slice(0,2)],t===!1&&!n)throw new TypeError("Invalid locale.");return n||or}function Me(e,t){function n(e){var t=l[e];Pn(t)?l[e]=t.split(","):t||(l[e]=[])}function r(e,t){return e=e.split("+").map(function(e){return e.replace(/(.+):(.+)$/,function(e,t,n){return n.split("|").map(function(e){return t+e}).join("|")})}).join("|"),e.split("|").forEach(t)}function o(e,t,n){var o=[];l[e].forEach(function(e,i){t&&(e+="+"+e.slice(0,3)),r(e,function(e,t){o[t*n+i]=e.toLowerCase()})}),l[e]=o}function i(e,t,n){var r="\\d{"+e+","+t+"}";return n&&(r+="|(?:"+De(l.numbers)+")+"),r}function a(){var e=["-?\\d+"].concat(l.articles);return l.numbers&&(e=e.concat(l.numbers)),De(e)}function s(e,t){l[e]=l[e]||t}function u(){var e=[];l.modifiersByName={},l.modifiers.push({name:"day",src:"yesterday",value:-1}),l.modifiers.push({name:"day",src:"today",value:0}),l.modifiers.push({name:"day",src:"tomorrow",value:1}),l.modifiers.forEach(function(t){var n=t.name;r(t.src,function(r){var o=l[n];l.modifiersByName[r]=t,e.push({name:n,src:r,value:t.value}),l[n]=o?o+"|"+r:r})}),l.day+="|"+De(l.weekdays),l.modifiers=e}var l,c;return l=new je(t),n("modifiers"),"months,weekdays,units,numbers,articles,tokens,timeMarker,ampm,timeSuffixes,dateParse,timeParse".split(",").forEach(n),c=!l.monthSuffix,o("months",c,12),o("weekdays",c,7),o("units",!1,8),o("numbers",!1,10),s("code",e),s("date",i(1,2,l.digitDate)),s("year","'\\d{2}|"+i(4,4)),s("num",a()),u(),l.monthSuffix&&(l.month=i(1,2),l.months="1,2,3,4,5,6,7,8,9,10,11,12".split(",").map(function(e){return e+l.monthSuffix})),l.full_month=i(1,2)+"|"+De(l.months),l.timeSuffixes.length>0&&l.addFormat(ut(pr,l),!1,ur),l.addFormat("{day}",!0),l.addFormat("{month}"+(l.monthSuffix||"")),l.addFormat("{year}"+(l.yearSuffix||"")),l.timeParse.forEach(function(e){l.addFormat(e,!0)}),l.dateParse.forEach(function(e){l.addFormat(e)}),br[e]=l}function Ae(e,t,n,r){e.compiledFormats.unshift({variant:r,locale:e,reg:ln("^"+t+"$","i"),to:n})}function Ne(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function De(e){return e.filter(function(e){return!!e}).join("|")}function Le(){var e=cn.SugarNewDate;return e?e():new cn}function qe(e,t){var n;return b(e[0])?e:xn(e[0])&&!xn(e[1])?[e[0]]:Pn(e[0])&&t?[Fe(e[0]),e[1]]:(n={},ar.forEach(function(t,r){n[t.name]=e[r]}),[n])}function Fe(e,t){var n,r={};return n=e.match(/^(\d+)?\s?(\w+?)s?$/i),n&&(m(t)&&(t=parseInt(n[1])||1),r[n[2].toLowerCase()]=t),r}function Ue(e,t,n){var r,o;for(m(n)&&(n=sr.length),r=t||0;r<n&&(o=sr[r],e(o.name,o,r)!==!1);r++);}function He(e,t){var n,r,o={};return t.forEach(function(t,i){n=e[i+1],m(n)||""===n||("year"===t&&(o.yearAsString=n.replace(/'/,"")),r=parseFloat(n.replace(/'/,"").replace(/,/,".")),o[t]=isNaN(r)?n.toLowerCase():r)}),o}function Be(e){return e=e.trim().replace(/^just (?=now)|\.+$/i,""),Ve(e)}function Ve(e){return e.replace(ir,function(e,t,n){var r,o,i=0,a=1;return t?e:(n.split("").reverse().forEach(function(e){var t=hr[e],n=t>9;n?(r&&(i+=a),a*=t/(o||1),o=t):(r===!1&&(a*=10),i+=a*t),r=n}),r&&(i+=a),i)})}function ze(e,t,n,r){function o(e){p.push(e)}function i(){p.forEach(function(e){e.call()})}function a(){var e=l.getWeekday();l.setWeekday(7*(h.num-1)+(e>g?g+7:g))}function s(){var e=d.modifiersByName[h.edge];Ue(function(e){if(y(h[e]))return m=e,!1},4),"year"===m?h.specificity="month":"month"!==m&&"week"!==m||(h.specificity="day"),l[(e.value<0?"endOf":"beginningOf")+Ne(m)](),e.value===-2&&l.reset()}function u(){var e;Ue(function(t,n,r){if("day"===t&&(t="date"),y(h[t])){if(r>=v)return ft(l),!1;e=e||{},e[t]=h[t],delete h[t]}}),e&&o(function(){l.set(e,!0)})}var l,c,f,p,d,h,m,v,g,_,w;return l=Le(),p=[],l.utc(r),Cn(e)?l.utc(e.isUTC()).setTime(e.getTime()):xn(e)?l.setTime(e):b(e)?(l.set(e,!0),h=e):Pn(e)&&(f=Ie(t),e=Be(e),f&&S(f.getFormats(),function(n,r){var i=e.match(r.reg);if(i)return d=r.locale,h=He(i,r.to,d),d.cachedFormat=r,h.utc&&l.utc(),h.timestamp?(h=h.timestamp,!1):(r.variant&&!Pn(h.month)&&(Pn(h.date)||f.hasVariant(t))&&(w=h.month,h.month=h.date,h.date=w),h.year&&2===h.yearAsString.length&&(h.year=$e(h.year)),h.month&&(h.month=d.getMonth(h.month),h.shift&&!h.unit&&(h.unit=d.units[7])),h.weekday&&h.date?delete h.weekday:h.weekday&&(h.weekday=d.getWeekday(h.weekday),h.shift&&!h.unit&&(h.unit=d.units[5])),h.day&&(w=d.modifiersByName[h.day])?(h.day=w.value,l.reset(),c=!0):h.day&&(g=d.getWeekday(h.day))>-1&&(delete h.day,h.num&&h.month?(o(a),h.day=1):h.weekday=g),h.date&&!xn(h.date)&&(h.date=d.getNumericDate(h.date)),d.matchPM(h.ampm)&&h.hour<12?h.hour+=12:d.matchAM(h.ampm)&&12===h.hour&&(h.hour=0),("offset_hours"in h||"offset_minutes"in h)&&(l.utc(),h.offset_minutes=h.offset_minutes||0,h.offset_minutes+=60*h.offset_hours,"-"===h.offset_sign&&(h.offset_minutes*=-1),h.minute-=h.offset_minutes),h.unit&&(c=!0,_=d.getNumber(h.num),v=d.getUnitIndex(h.unit),m=rr.units[v],u(),h.shift&&(_*=(w=d.modifiersByName[h.shift])?w.value:0),h.sign&&(w=d.modifiersByName[h.sign])&&(_*=w.value),y(h.weekday)&&(l.set({weekday:h.weekday},!0),delete h.weekday),h[m]=(h[m]||0)+_),h.edge&&o(s),"-"===h.year_sign&&(h.year*=-1),Ue(function(e,t,n){var r=h[e],o=r%1;o&&(h[sr[n-1].name]=Nn(o*("second"===e?1e3:60)),h[e]=An(r))},1,4),!1)}),h?c?l.advance(h):(l._utc&&l.reset(),st(l,h,!0,!1,n)):("now"!==e&&(l=new cn(e)),r&&l.addMinutes(-l.getTimezoneOffset())),i(),l.utc(!1)),{date:l,set:h}}function $e(e){return 100*Nn(F(Le(),"FullYear")/100)-100*Nn(e/100)+e}function We(e){e=e.clone();var t=F(e,"Day")||7;return e.addDays(4-t).reset(),1+An(e.daysSince(e.clone().beginningOfYear())/7)}function Ye(e){var t,n=jn(e),r=n,o=0;return Ue(function(e,i,a){t=An(O(n/i.multiplier(),1)),t>=1&&(r=t,o=a)},1),[r,o,e]}function Ge(e){var t=Ye(e.millisecondsFromNow());return Ke(e,t)&&(t[0]=jn(e.monthsFromNow()),t[1]=6),t}function Ke(e,t){return 6===t[1]||5===t[1]&&4===t[0]&&e.daysFromNow()>=Le().daysInMonth()}function Qe(e,t){var n=function(e,t){var n=F(e,"Hours");return Ie(t).ampm[An(n/12)]||""};et("t",n,1),et("tt",n),et("T",n,1,1),et("TT",n,null,2)}function Je(e,t){var n=function(e,t){var n=F(e,"Day");return Ie(t).weekdays[n]};et("dow",n,3),et("Dow",n,3,1),et("weekday",n),et("Weekday",n,null,1)}function Xe(e,t){Ze("mon",0,3),Ze("month",0),Ze("month2",1),Ze("month3",2)}function Ze(e,t,n){var r=function(e,n){var r=F(e,"Month");return Ie(n).months[r+12*t]};et(e,r,n),et(Ne(e),r,n,1)}function et(e,t,n,r){vr[e]=function(e,o){var i=t(e,o);return n&&(i=i.slice(0,n)),r&&(i=i.slice(0,r).toUpperCase()+i.slice(r)),i}}function tt(e,t,n){vr[e]=t,vr[e+e]=function(e,n){return N(t(e,n),2)},n&&(vr[e+e+e]=function(e,n){return N(t(e,n),3)},vr[e+e+e+e]=function(e,n){return N(t(e,n),4)})}function nt(e){var t=e.match(/(\{\w+\})|[^{}]+/g);mr[e]=t.map(function(e){return e.replace(/\{(\w+)\}/,function(t,n){return e=vr[n]||n,n}),e})}function rt(e,t,n){
var r,o,i,a,s="";for(r=mr[t],i=0,o=r.length;i<o;i++)a=r[i],s+=Rn(a)?a(e,n):a;return s}function ot(e,t,n,r){var o;return e.isValid()?(Date[t]?t=Date[t]:Rn(t)&&(o=Ge(e),t=t.apply(e,o.concat(Ie(r)))),!t&&n?(o=o||Ge(e),0===o[1]&&(o[1]=1,o[0]=1),Ie(r).getRelativeFormat(o)):(t=t||"long","short"!==t&&"long"!==t&&"full"!==t||(t=Ie(r)[t]),mr[t]||nt(t),rt(e,t,r))):"Invalid Date"}function it(e,t,n,r,o){var i,a,s,u,l,c,f=0,p=0,d=0;return i=ze(t,n,null,o),r>0&&(p=d=r,l=!0),!!i.date.isValid()&&(i.set&&i.set.specificity&&(gr.forEach(function(t,n){t.name===i.set.specificity&&(f=t.multiplier(i.date,e-i.date)-1)}),c=Ne(i.set.specificity),(i.set.edge||i.set.shift)&&i.date["beginningOf"+c](),"month"===i.set.specificity&&(u=i.date.clone()["endOf"+c]().getTime()),!l&&i.set.sign&&"millisecond"!=i.set.specificity&&(p=50,d=-50)),a=e.getTime(),s=i.date.getTime(),u=u||s+f,u=at(e,s,u),a>=s-p&&a<=u+d)}function at(e,t,n){var r,o,i,a;return r=new cn(t),o=new cn(n).utc(e.isUTC()),23!==F(o,"Hours")&&(i=r.getTimezoneOffset(),a=o.getTimezoneOffset(),i!==a&&(n+=(a-i).minutes())),n}function st(e,t,n,r,o){function i(e){return y(t[e])?t[e]:t[e+"s"]}function a(e){return y(i(e))}function s(e,t){return a(e)||t&&a("weekday")}function u(){switch(o){case-1:return e>Le();case 1:return e<Le()}}var l,c;if(xn(t)&&r)t={milliseconds:t};else if(xn(t))return e.setTime(t),e;if(y(t.date)&&(t.day=t.date),Ue(function(r,o,i){var u="day"===r;return s(r,u)?(t.specificity=r,c=+i,!1):void(!n||"week"===r||u&&a("week")||U(e,o.method,u?1:0))}),gr.forEach(function(n,o){var s,u=n.name,l=n.method;gr[o-1];s=i(u),m(s)||(r?("week"===u&&(s=(t.day||0)+7*s,l="Date"),s=s*r+F(e,l)):"month"===u&&a("day")&&U(e,"Date",15),U(e,l,s),r&&"month"===u&&lt(e,s))}),!r&&!a("day")&&a("weekday")){var l=i("weekday");e.setWeekday(l)}return u()&&Ue(function(t,n){var r=n.ambiguous||"week"===t&&a("weekday");if(r&&!s(t,"day"===t))return e[n.addMethod](o),!1},c+1),e}function ut(e,t,n){var r,o={h:0,m:1,s:2};return t=t||rr,e.replace(/{([a-z])}/g,function(e,i){var a=[],s="h"===i,u=s&&!n;return"t"===i?t.ampm.join("|"):(s&&a.push(":"),(r=t.timeSuffixes[o[i]])&&a.push(r+"\\s*"),0===a.length?"":"(?:"+a.join("|")+")"+(u?"":"?"))})}function lt(e,t){t<0&&(t=t%12+12),t%12!=F(e,"Month")&&U(e,"Date",0)}function ct(e,t,n){var r,o;return xn(e[1])?r=qe(e)[0]:(r=e[0],o=e[1]),ze(r,o,t,n).date}function ft(e){e.setTime(NaN)}function pt(){sr=gr.concat().reverse(),ar=gr.concat(),ar.splice(2,1)}function dt(){u(cn,!0,!0,gr,function(e,t,n){function r(e){var n=e/u,r=n%1,o=t.error||.999;return r&&jn(r%1)>o&&(n=Nn(n)),n<0?Mn(n):An(n)}var o,i,a=t.name,s=Ne(a),u=t.multiplier();t.addMethod="add"+s+"s",o=function(e,t){return r(this.getTime()-cn.create(e,t).getTime())},i=function(e,t){return r(cn.create(e,t).getTime()-this.getTime())},e[a+"sAgo"]=i,e[a+"sUntil"]=i,e[a+"sSince"]=o,e[a+"sFromNow"]=o,e[t.addMethod]=function(e,t){var n={};return n[a]=e,this.advance(n,t)},wt(t,u),n<3&&["Last","This","Next"].forEach(function(t){e["is"+t+s]=function(){return it(this,t+" "+a,"en")}}),n<4&&(e["beginningOf"+s]=function(){var e={};switch(a){case"year":e.year=F(this,"FullYear");break;case"month":e.month=F(this,"Month");break;case"day":e.day=F(this,"Date");break;case"week":e.weekday=0}return this.set(e,!0)},e["endOf"+s]=function(){var e={hours:23,minutes:59,seconds:59,milliseconds:999};switch(a){case"year":e.month=11,e.day=31;break;case"month":e.day=this.daysInMonth();break;case"week":e.weekday=6}return this.set(e,!0)})})}function ht(){rr.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0),rr.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0),rr.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]),rr.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]),rr.addFormat(ut(pr,rr),!1,ur),yr=rr.compiledFormats.slice(0,7).reverse(),rr.compiledFormats=rr.compiledFormats.slice(7).concat(yr)}function yt(){tt("f",function(e){return F(e,"Milliseconds")},!0),tt("s",function(e){return F(e,"Seconds")}),tt("m",function(e){return F(e,"Minutes")}),tt("h",function(e){return F(e,"Hours")%12||12}),tt("H",function(e){return F(e,"Hours")}),tt("d",function(e){return F(e,"Date")}),tt("M",function(e){return F(e,"Month")+1}),Qe(),Je(),Xe(),vr.ms=vr.f,vr.milliseconds=vr.f,vr.seconds=vr.s,vr.minutes=vr.m,vr.hours=vr.h,vr["24hr"]=vr.H,vr["12hr"]=vr.h,vr.date=vr.d,vr.day=vr.d,vr.year=vr.yyyy}function mt(){u(cn,!0,!0,"short,long,full",function(e,t){e[t]=function(e){return ot(this,t,!1,e)}})}function vt(){dr.split("").forEach(function(e,t){t>9&&(t=In(10,t-9)),hr[e]=t}),x(hr,Wn),ir=ln("([期週周])?(["+dr+$n+"]+)(?!昨)","g")}function gt(){var e="today,yesterday,tomorrow,weekday,weekend,future,past".split(","),t=rr.weekdays.slice(0,7),n=rr.months.slice(0,12);u(cn,!0,!0,e.concat(t).concat(n),function(e,t){e["is"+Ne(t)]=function(e){return this.is(t,0,e)}})}function bt(){cn.utc||(cn.utc={create:function(){return ct(arguments,0,!0)},past:function(){return ct(arguments,-1,!0)},future:function(){return ct(arguments,1,!0)}})}function _t(){s(cn,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"})}function wt(e,t){function n(){return Nn(this*t)}function r(){return ct(arguments)[e.addMethod](this)}function o(){return ct(arguments)[e.addMethod](-this)}var i=e.name,a={};a[i]=n,a[i+"s"]=n,a[i+"Before"]=o,a[i+"sBefore"]=o,a[i+"Ago"]=o,a[i+"sAgo"]=o,a[i+"After"]=r,a[i+"sAfter"]=r,a[i+"FromNow"]=r,a[i+"sFromNow"]=r,pn.extend(a)}function St(e,t){this.start=Pt(e),this.end=Pt(t)}function Tt(e){return Pn(e)?e.charCodeAt(0):e}function xt(e){return null==e?e:Cn(e)?e.getTime():e.valueOf()}function Pt(e){return Cn(e)?new cn(e.getTime()):xt(e)}function Et(e){var t=xt(e);return!!t||0===t}function Ct(e){var t,n,r;return xn(e)?e:(t=e.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),n=parseInt(t[1])||1,r=t[2].slice(0,1).toUpperCase()+t[2].slice(1),r.match(/hour|minute|second/i)?r+="s":"Year"===r?r="FullYear":"Day"===r&&(r="Date"),[n,r])}function Ot(e,t){var n,r,o,i;return xn(t)?new cn(e.getTime()+t):(n=t[0],r=t[1],o=F(e,r),i=new cn(e.getTime()),U(i,r,o+n),i)}function Rt(e,t){return fn.fromCharCode(e.charCodeAt(0)+t)}function kt(e,t){return e+t}function jt(e,t,n,r,o){t!==1/0&&(e.timers||(e.timers=[]),xn(t)||(t=1),e._canceled=!1,e.timers.push(setTimeout(function(){e._canceled||n.apply(r,o||[])},t)))}function It(e,t,n,r,o,i){var a,s,u,l=e.toFixed(20),c=l.search(/\./),f=l.search(/[1-9]/),p=c-f;return p>0&&(p-=1),s=Ln(Dn(An(p/3),o===!1?n.length:o),-r),a=n.charAt(s+r-1),p<-9&&(s=-3,t=jn(p)-9,a=n.slice(0,1)),u=i?In(2,10*s):In(10,3*s),O(e/u,t||0).format()+a.trim()}function Mt(){function e(e){return function(t){return t?O(this,t,e):e(this)}}s(pn,!0,!0,{ceil:e(Mn),round:e(Nn),floor:e(An)}),u(pn,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(e,t){e[t]=function(e,n){return dn[t](this,e,n)}})}function At(e,t,n,r){var o,i,a,s,u=/^(.+?)(\[.*\])$/;(i=t.match(u))?(s=i[1],a=i[2].replace(/^\[|\]$/g,"").split("]["),a.forEach(function(t){o=!t||t.match(/^\d+$/),!s&&En(e)&&(s=e.length),g(e,s)||(e[s]=o?[]:{}),e=e[s],s=t}),!s&&o&&(s=e.length.toString()),At(e,s,n,r)):r&&"true"===n?e[t]=!0:r&&"false"===n?e[t]=!1:e[t]=n}function Nt(e,t){var n;return En(t)||b(t)&&t.toString===yn?(n=[],S(t,function(t,r){e&&(t=e+"["+t+"]"),n.push(Nt(t,r))}),n.join("&")):e?Dt(e)+"="+(Cn(t)?t.getTime():Dt(t)):""}function Dt(e){return e||e===!1||0===e?encodeURIComponent(e).replace(/%20/g,"+"):""}function Lt(e,t,n){return On(e)?e.test(t):b(e)?e[t]===n:t===fn(e)}function qt(e,t,n){var r,o=e instanceof C?new C:{};return S(e,function(e,i){r=!1,d(t,function(t){Lt(t,e,i)&&(r=!0)},1),r===n&&(o[e]=i)}),o}function Ft(){u(sn,!1,!0,Sn,function(e,t){var n="is"+t;_r.push(n),e[n]=_n[t]})}function Ut(){s(sn,!1,function(){return 0===arguments.length},{extend:function(){var e=_r.concat(wr);"undefined"!=typeof nr&&(e=e.concat(nr)),W(e,sn)}})}function Ht(e){var t=fn.Inflector,e=t&&t.acronyms[e];if(Pn(e))return e}function Bt(e){if(e=+e,e<0||e===1/0)throw new RangeError("Invalid number");return e}function Vt(e,t){return M(y(t)?t:" ",e)}function zt(e,t,n,r,o){var i,a,s,u;if(e.length<=t)return e.toString();switch(r=m(r)?"...":r,n){case"left":return a=o?$t(e,t,!0):e.slice(e.length-t),r+a;case"middle":return s=Mn(t/2),u=An(t/2),i=o?$t(e,s):e.slice(0,s),a=o?$t(e,u,!0):e.slice(e.length-u),i+r+a;default:return i=o?$t(e,t):e.slice(0,t),i+r}}function $t(e,t,n){if(n)return $t(e.reverse(),t).reverse();var r=ln("(?=["+I()+"])"),o=e.split(r),i=0;return o.filter(function(e){return i+=e.length,i<=t}).join("")}function Wt(e,t,n){return Pn(t)&&(t=e.indexOf(t),t===-1&&(t=n?e.length:0)),t}function Yt(e){if(hn.btoa)return Sr=hn.btoa,void(Tr=hn.atob);var t=/[^A-Za-z0-9\+\/\=]/g;Sr=function(t){var n,r,o,i,a,s,u,l="",c=0;do n=t.charCodeAt(c++),r=t.charCodeAt(c++),o=t.charCodeAt(c++),i=n>>2,a=(3&n)<<4|r>>4,s=(15&r)<<2|o>>6,u=63&o,isNaN(r)?s=u=64:isNaN(o)&&(u=64),l=l+e.charAt(i)+e.charAt(a)+e.charAt(s)+e.charAt(u),n=r=o="",i=a=s=u="";while(c<t.length);return l},Tr=function(n){var r,o,i,a,s,u,l,c="",f=0;if(n.match(t))throw new Error("String contains invalid base64 characters");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do a=e.indexOf(n.charAt(f++)),s=e.indexOf(n.charAt(f++)),u=e.indexOf(n.charAt(f++)),l=e.indexOf(n.charAt(f++)),r=a<<2|s>>4,o=(15&s)<<4|u>>2,i=(3&u)<<6|l,c+=j(r),64!=u&&(c+=j(o)),64!=l&&(c+=j(i)),r=o=i="",a=s=u=l="";while(f<n.length);return c}}function Gt(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Kt(e,t,n){Pn(t)&&Gt(Or,t),Gt(Or,n),e.unshift({rule:t,replacement:n})}function Qt(e,t){return e==t||"all"==e||!e}function Jt(e){return Or.some(function(t){return new ln("\\b"+t+"$","i").test(e)})}function Xt(e,t){return e=Pn(e)?e.toString():"",e.isBlank()||Jt(e)?e:Zt(e,t?Er:Cr)}function Zt(e,t){return S(t,function(t,n){if(e.match(n.rule))return e=e.replace(n.rule,n.replacement),!1}),e}function en(e){return e.replace(/^\W*[a-z]/,function(e){return e.toUpperCase()})}function tn(){Ir.forEach(function(e){var t=ln("^["+e.source+"\\s]+$"),n=ln("["+e.source+"]");e.names.forEach(function(e){f(fn.prototype,"is"+e,function(){return t.test(this.trim())}),f(fn.prototype,"has"+e,function(){return n.test(this)})})})}function nn(e,t,n,r){jr||rn();var o=p(t).join(""),i=jr[r];return o=o.replace(/all/,"").replace(/(\w)lphabet|umbers?|atakana|paces?|unctuation/g,"$1"),e.replace(n,function(e){return!i[e]||o&&!o.has(i[e].type)?e:i[e].to})}function rn(){var e;jr={zenkaku:{},hankaku:{}},Ar.forEach(function(e){T(e.end-e.start+1,function(t){t+=e.start,on(e.type,j(t),j(t+Mr))})}),Br.each(function(t,n){e=Hr.charAt(n),on("k",e,t),t.match(Fr)&&on("k",e+"ﾞ",t.shift(1)),t.match(Ur)&&on("k",e+"ﾟ",t.shift(2))}),qr.each(function(e,t){on("p",Lr.charAt(t),e)}),on("k","ｳﾞ","ヴ"),on("k","ｦﾞ","ヺ"),on("s"," ","　")}function on(e,t,n){jr.zenkaku[t]={type:e,to:n},jr.hankaku[n]={type:e,to:t}}var an,sn=Object,un=Array,ln=RegExp,cn=Date,fn=String,pn=Number,dn=Math,hn="undefined"!=typeof e?e:this,yn=sn.prototype.toString,mn=sn.prototype.hasOwnProperty,vn=sn.defineProperty&&sn.defineProperties,gn="function"==typeof ln(),bn=!("0"in new fn("a")),_n={},wn=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,Sn="Boolean,Number,String,Array,Date,RegExp,Function".split(","),Tn=r("boolean",Sn[0]),xn=r("number",Sn[1]),Pn=r("string",Sn[2]),En=n(Sn[3]),Cn=n(Sn[4]),On=n(Sn[5]),Rn=n(Sn[6]);C.prototype.constructor=sn;var kn,jn=dn.abs,In=dn.pow,Mn=dn.ceil,An=dn.floor,Nn=dn.round,Dn=dn.min,Ln=dn.max,qn=48,Fn=57,Un=65296,Hn=65305,Bn=".",Vn="．",zn=",",$n="",Wn={};i(),k(),s(sn,!1,!1,{keys:function(e){var t=[];if(!b(e)&&!On(e)&&!Rn(e))throw new TypeError("Object required");return S(e,function(e,n){t.push(e)}),t}}),s(un,!1,!1,{isArray:function(e){return En(e)}}),s(un,!0,!1,{every:function(e,t){var n=this.length,r=0;for(Q(arguments);r<n;){if(r in this&&!e.call(t,this[r],r,this))return!1;r++}return!0},some:function(e,t){var n=this.length,r=0;for(Q(arguments);r<n;){if(r in this&&e.call(t,this[r],r,this))return!0;r++}return!1},map:function(e,t){var t=arguments[1],n=this.length,r=0,o=new Array(n);for(Q(arguments);r<n;)r in this&&(o[r]=e.call(t,this[r],r,this)),r++;return o},filter:function(e){var t=arguments[1],n=this.length,r=0,o=[];for(Q(arguments);r<n;)r in this&&e.call(t,this[r],r,this)&&o.push(this[r]),r++;return o},indexOf:function(e){var t=arguments[1];return Pn(this)?this.indexOf(e,t):Y(this,e,t,1)},lastIndexOf:function(e){var t=arguments[1];return Pn(this)?this.lastIndexOf(e,t):Y(this,e,t,-1)},forEach:function(e){var t=this.length,n=0,r=arguments[1];for(h(e);n<t;)n in this&&e.call(r,this[n],n,this),n++},reduce:function(e){return G(this,e,arguments[1])},reduceRight:function(e){return G(this,e,arguments[1],!0)}}),s(Function,!0,!1,{bind:function(e){var t,n=this,r=p(arguments,null,1);if(!Rn(this))throw new TypeError("Function.prototype.bind called on a non-function");return t=function(){return n.apply(n.prototype&&this instanceof n?this:e,r.concat(p(arguments)))},t.prototype=this.prototype,t}}),s(cn,!1,!1,{now:function(){return(new cn).getTime()}}),J(),X();var Yn="AlphanumericSort",Gn="AlphanumericSortOrder",Kn="AlphanumericSortIgnore",Qn="AlphanumericSortIgnoreCase",Jn="AlphanumericSortEquivalents",Xn="AlphanumericSortNatural";s(un,!1,!0,{create:function(){var e=[];return p(arguments,function(t){(me(t)||ye(t))&&(t=un.prototype.slice.call(t,0)),e=e.concat(t)}),e}}),s(un,!0,!1,{find:function(e,t){return h(e),fe(this,e,0,!1,!1,t)},findIndex:function(e,t){var n;return h(e),n=fe(this,e,0,!1,!0,t),m(n)?-1:n}}),s(un,!0,!0,{findFrom:function(e,t,n){return fe(this,e,t,n)},findIndexFrom:function(e,t,n){var t=fe(this,e,t,n,!0);return m(t)?-1:t},findAll:function(e,t,n){var r,o=[];return this.length>0&&(r=ie(e),se(this,function(e,t,n){r(e,t,n)&&o.push(e)},t,n)),o},count:function(e){return m(e)?this.length:this.findAll(e).length},removeAt:function(e,t){return m(e)?this:(m(t)&&(t=e),this.splice(e,t-e+1),this)},include:function(e,t){return this.clone().add(e,t)},exclude:function(){return un.prototype.remove.apply(this.clone(),arguments)},clone:function(){return x([],this)},unique:function(e){return pe(this,e)},flatten:function(e){return he(this,e)},union:function(){return pe(this.concat(ve(arguments)))},intersect:function(){return de(this,ve(arguments),!1)},subtract:function(e){return de(this,ve(arguments),!0)},at:function(){return z(this,arguments)},first:function(e){return m(e)?this[0]:(e<0&&(e=0),this.slice(0,e))},last:function(e){if(m(e))return this[this.length-1];var t=this.length-e<0?0:this.length-e;return this.slice(t)},from:function(e){return this.slice(e)},to:function(e){return m(e)&&(e=this.length),this.slice(0,e)},min:function(e,t){return we(this,e,"min",t)},max:function(e,t){return we(this,e,"max",t)},least:function(e,t){return we(this.groupBy.apply(this,[e]),"length","min",t)},most:function(e,t){return we(this.groupBy.apply(this,[e]),"length","max",t)},sum:function(e){var t=e?this.map(e):this;return t.length>0?t.reduce(function(e,t){return e+t}):0},average:function(e){var t=e?this.map(e):this;return t.length>0?t.sum()/t.length:0},inGroups:function(e,t){var n=arguments.length>1,r=this,o=[],i=Mn(this.length/e);return T(e,function(e){var a=e*i,s=r.slice(a,a+i);n&&s.length<i&&T(i-s.length,function(){s=s.add(t)}),o.push(s)}),o},inGroupsOf:function(e,t){var n,r=[],o=this.length,i=this;return 0===o||0===e?i:(m(e)&&(e=1),m(t)&&(t=null),T(Mn(o/e),function(o){for(n=i.slice(e*o,e*o+e);n.length<e;)n.push(t);r.push(n)}),r)},isEmpty:function(){return 0==this.compact().length},sortBy:function(e,t){var n=this.clone();return n.sort(function(r,o){var i,a,s;return i=ae(r,e,n,[r]),a=ae(o,e,n,[o]),s=Pn(i)&&Pn(a)?Se(i,a):i<a?-1:i>a?1:0,s*(t?-1:1)}),n},randomize:function(){for(var e,t,n=this.concat(),r=n.length;r;)e=dn.random()*r|0,t=n[--r],n[r]=n[e],n[e]=t;return n},zip:function(){var e=p(arguments);return this.map(function(t,n){return[t].concat(e.map(function(e){return n in e?e[n]:null}))})},sample:function(e){var t=this.randomize();return arguments.length>0?t.slice(0,e):t[0]},each:function(e,t,n){return se(this,e,t,n),this},add:function(e,t){return xn(pn(t))&&!isNaN(t)||(t=this.length),un.prototype.splice.apply(this,[t,0].concat(e)),this},remove:function(){var e=this;return p(arguments,function(t){for(var n=0,r=ie(t);n<e.length;)r(e[n],n,e)?e.splice(n,1):n++}),e},compact:function(e){var t=[];return se(this,function(n,r){En(n)?t.push(n.compact()):e&&n?t.push(n):e||null==n||n.valueOf()!==n.valueOf()||t.push(n)}),t},groupBy:function(e,t){var n,r=this,o={};return se(r,function(t,i){n=ae(t,e,r,[t,i,r]),o[n]||(o[n]=[]),o[n].push(t)}),t&&S(o,t),o},none:function(){return!this.any.apply(this,arguments)}}),s(un,!0,!0,{all:un.prototype.every,any:un.prototype.some,insert:un.prototype.add}),s(sn,!1,!0,{map:function(e,t){var n,r,o={};for(n in e)g(e,n)&&(r=e[n],o[n]=ae(r,t,e,[n,r,e]));return o},reduce:function(e){var t=Oe(e).map(function(t){return e[t]});return t.reduce.apply(t,p(arguments,null,1))},each:function(e,t){return h(t),S(e,t),e},size:function(e){return Oe(e).length}});var Zn="any,all,none,count,find,findAll,isEmpty".split(","),er="sum,average,min,max,least,most".split(","),tr="map,reduce,size".split(","),nr=Zn.concat(er).concat(tr);Ee(),Ce(),Re(Zn),Re(er,!0),W(tr,C),ke();var rr,or,ir,ar,sr,ur=["ampm","hour","minute","second","ampm","utc","offset_sign","offset_hours","offset_minutes","ampm"],lr="(?:[,.]\\d+)?",cr="\\d{1,2}"+lr,fr="[0-5]\\d"+lr,pr="({t})?\\s*("+cr+")(?:{h}("+fr+")?{m}(?::?("+fr+"){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",dr="〇一二三四五六七八九十百千万",hr={},yr=[],mr={},vr={yyyy:function(e){return F(e,"FullYear")},yy:function(e){return F(e,"FullYear")%100},ord:function(e){var t=F(e,"Date");return t+D(t)},tz:function(e){return e.getUTCOffset()},isotz:function(e){return e.getUTCOffset(!0)},Z:function(e){return e.getUTCOffset()},ZZ:function(e){return e.getUTCOffset().replace(/(\d{2})$/,":$1")}},gr=[{name:"year",method:"FullYear",ambiguous:!0,multiplier:function(e){var t=e?e.isLeapYear()?1:0:.25;return 24*(365+t)*60*60*1e3}},{name:"month",error:.919,method:"Month",ambiguous:!0,multiplier:function(e,t){var n,r=30.4375;return e&&(n=e.daysInMonth(),t<=n.days()&&(r=n)),24*r*60*60*1e3}},{name:"week",method:"ISOWeek",multiplier:function(){return 6048e5}},{name:"day",error:.958,method:"Date",ambiguous:!0,multiplier:function(){return 864e5}},{name:"hour",method:"Hours",multiplier:function(){return 36e5}},{name:"minute",method:"Minutes",multiplier:function(){return 6e4}},{name:"second",method:"Seconds",multiplier:function(){return 1e3}},{name:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}],br={};je.prototype={getMonth:function(e){return xn(e)?e-1:this.months.indexOf(e)%12},getWeekday:function(e){return this.weekdays.indexOf(e)%7},getNumber:function(e){var t;return xn(e)?e:e&&(t=this.numbers.indexOf(e))!==-1?(t+1)%10:1},getNumericDate:function(e){var t=this;return e.replace(ln(this.num,"g"),function(e){var n=t.getNumber(e);return n||""})},getUnitIndex:function(e){return this.units.indexOf(e)%8},getRelativeFormat:function(e){return this.convertAdjustedToFormat(e,e[2]>0?"future":"past")},getDuration:function(e){return this.convertAdjustedToFormat(Ye(e),"duration")},hasVariant:function(e){return e=e||this.code,"en"===e||"en-US"===e||this.variant},matchAM:function(e){return e===this.ampm[0]},matchPM:function(e){return e&&e===this.ampm[1]},convertAdjustedToFormat:function(e,t){var n,r,o,i=e[0],a=e[1],s=e[2],u=this[t]||this.relative;return Rn(u)?u.call(this,i,a,s,t):(o=this.plural&&i>1?1:0,r=this.units[8*o+a]||this.units[a],this.capitalizeUnit&&(r=Ne(r)),n=this.modifiers.filter(function(e){return"sign"==e.name&&e.value==(s>0?1:-1)})[0],u.replace(/\{(.*?)\}/g,function(e,t){switch(t){case"num":return i;case"unit":return r;case"sign":return n.src}}))},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(e,t,n,r,o){var i,a,s,u=n||[],l=this;e=e.replace(/\s+/g,"[,. ]*"),e=e.replace(/\{([^,]+?)\}/g,function(e,t){var r,o,i,a=t.match(/\?$/),s=t.match(/^(\d+)\??$/),c=t.match(/(\d)(?:-(\d))?/),f=t.replace(/[^a-z]+$/,"");return s?r=l.tokens[s[1]]:l[f]?r=l[f]:l[f+"s"]&&(r=l[f+"s"],c&&(o=[],r.forEach(function(e,t){var n=t%(l.units?8:r.length);n>=c[1]&&n<=(c[2]||c[1])&&o.push(e)}),r=o),r=De(r)),s?i="(?:"+r+")":(n||u.push(f),i="("+r+")"),a&&(i+="?"),i}),t?(i=ut(pr,l,o),a=["t","[\\s\\u3000]"].concat(l.timeMarker),s=e.match(/\\d\{\d,\d\}\)+\??$/),Ae(l,"(?:"+i+")[,\\s\\u3000]+?"+e,ur.concat(u),r),Ae(l,e+"(?:[,\\s]*(?:"+a.join("|")+(s?"+":"*")+")"+i+")?",u.concat(ur),r)):Ae(l,e,u,r)}},s(cn,!1,!0,{create:function(){return ct(arguments)},past:function(){return ct(arguments,-1)},future:function(){return ct(arguments,1)},addLocale:function(e,t){return Me(e,t)},setLocale:function(e,t){var n=Ie(e,!1);return or=n,e&&e!=n.code&&(n.code=e),n},getLocale:function(e){return e?Ie(e,!1):or},addFormat:function(e,t,n){Ae(Ie(n),e,t)}}),s(cn,!0,!0,{set:function(){var e=qe(arguments);return st(this,e[0],e[1])},setWeekday:function(e){if(!m(e))return U(this,"Date",F(this,"Date")+e-F(this,"Day"))},setISOWeek:function(e){var t=F(this,"Day")||7;if(!m(e))return this.set({month:0,date:4}),this.set({weekday:1}),e>1&&this.addWeeks(e-1),1!==t&&this.advance({days:t-1}),this.getTime()},getISOWeek:function(){return We(this)},beginningOfISOWeek:function(){var e=this.getDay();return 0===e?e=-6:1!==e&&(e=1),this.setWeekday(e),this.reset()},endOfISOWeek:function(){return 0!==this.getDay()&&this.setWeekday(7),this.endOfDay()},getUTCOffset:function(e){var t=this._utc?0:this.getTimezoneOffset(),n=e===!0?":":"";return!t&&e?"Z":N(An(-t/60),2,!0)+n+N(jn(t%60),2)},utc:function(e){return f(this,"_utc",e===!0||0===arguments.length),this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var e=qe(arguments,!0);return st(this,e[0],e[1],1)},rewind:function(){var e=qe(arguments,!0);return st(this,e[0],e[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(e,t,n){return this.getTime()>cn.create(e).getTime()-(t||0)},isBefore:function(e,t){return this.getTime()<cn.create(e).getTime()+(t||0)},isBetween:function(e,t,n){var r=this.getTime(),o=cn.create(e).getTime(),i=cn.create(t).getTime(),a=Dn(o,i),s=Ln(o,i);return n=n||0,a-n<r&&s+n>r},isLeapYear:function(){var e=F(this,"FullYear");return e%4===0&&e%100!==0||e%400===0},daysInMonth:function(){return 32-F(new cn(F(this,"FullYear"),F(this,"Month"),32),"Date")},format:function(e,t){return ot(this,e,!1,t)},relative:function(e,t){return Pn(e)&&(t=e,e=null),ot(this,e,!0,t)},is:function(e,t,n){var r,o;if(this.isValid()){if(Pn(e))switch(e=e.trim().toLowerCase(),o=this.clone().utc(n),!0){case"future"===e:return this.getTime()>Le().getTime();case"past"===e:return this.getTime()<Le().getTime();case"weekday"===e:return F(o,"Day")>0&&F(o,"Day")<6;case"weekend"===e:return 0===F(o,"Day")||6===F(o,"Day");case(r=rr.weekdays.indexOf(e)%7)>-1:return F(o,"Day")===r;case(r=rr.months.indexOf(e)%12)>-1:return F(o,"Month")===r}return it(this,e,null,t,n)}},reset:function(e){var t,n={};return e=e||"hours","date"===e&&(e="days"),t=gr.some(function(t){return e===t.name||e===t.name+"s"}),n[e]=e.match(/^days?/)?1:0,t?this.set(n,!0):this},clone:function(){var e=new cn(this.getTime());return e.utc(!!this._utc),e}}),s(cn,!0,!0,{iso:function(){return this.toISOString()},getWeekday:cn.prototype.getDay,getUTCWeekday:cn.prototype.getUTCDay}),s(pn,!0,!0,{duration:function(e){return Ie(e).getDuration(this)}}),rr=or=cn.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of","short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1?} {year?}","{date} {month} {year}","{date} {month}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2?} {shift} week","{num} {unit=4-5} {sign} {day}","{0?} {date}{1} of {month}","{0?}{month?} {date?}{1?} of {shift} {unit=6-7}"]}),pt(),dt(),ht(),yt(),mt(),vt(),gt(),bt(),_t(),St.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"},s(St,!0,!0,{isValid:function(){return Et(this.start)&&Et(this.end)&&typeof this.start==typeof this.end},span:function(){return this.isValid()?jn(Tt(this.end)-Tt(this.start))+1:NaN},contains:function(e){return null!=e&&(e.start&&e.end?e.start>=this.start&&e.start<=this.end&&e.end>=this.start&&e.end<=this.end:e>=this.start&&e<=this.end)},every:function(e,t){var n,r=this.start,o=this.end,i=o<r,a=r,s=0,u=[];for(Rn(e)&&(t=e,e=null),e=e||1,xn(r)?n=kt:Pn(r)?n=Rt:Cn(r)&&(e=Ct(e),n=Ot),i&&e>0&&(e*=-1);i?a>=o:a<=o;)u.push(a),t&&t(a,s),a=n(a,e),s++;return u},union:function(e){return new St(this.start<e.start?this.start:e.start,this.end>e.end?this.end:e.end)},intersect:function(e){return e.start>this.end||e.end<this.start?new St(NaN,NaN):new St(this.start>e.start?this.start:e.start,this.end<e.end?this.end:e.end)},clone:function(e){return new St(this.start,this.end)},clamp:function(e){var t,n=this.start,r=this.end,o=r<n?r:n,i=n>r?n:r;return t=e<o?o:e>i?i:e,Pt(t)}}),[pn,fn,cn].forEach(function(e){s(e,!1,!0,{range:function(t,n){return e.create&&(t=e.create(t),n=e.create(n)),new St(t,n)}})}),s(pn,!0,!0,{upto:function(e,t,n){return pn.range(this,e).every(n,t)},clamp:function(e,t){return new St(e,t).clamp(this)},cap:function(e){return this.clamp(an,e)}}),s(pn,!0,!0,{downto:pn.prototype.upto}),s(un,!1,function(e){return e instanceof St},{create:function(e){return e.every()}}),s(Function,!0,!0,{lazy:function(e,t,n){function r(){return l.length<n-(c&&t?1:0)&&l.push([this,arguments]),c||(c=!0,t?o():jt(r,i,o)),s}var o,i,a,s,u=this,l=[],c=!1;return e=e||1,n=n||1/0,i=Mn(e),a=Nn(i/e)||1,o=function(){var e,t=l.length;if(0!=t){for(e=Ln(t-a,0);t>e;)s=Function.prototype.apply.apply(u,l.shift()),t--;jt(r,i,function(){c=!1,o()})}},r},throttle:function(e){return this.lazy(e,!0,1)},debounce:function(e){function t(){t.cancel(),jt(t,e,n,this,arguments)}var n=this;return t},delay:function(e){var t=this,n=p(arguments,null,1);return jt(t,e,t,t,n),t},every:function(e){function t(){n.apply(n,r),jt(n,e,t)}var n=this,r=arguments;return r=r.length>1?p(r,null,1):[],jt(n,e,t),n},cancel:function(){var e,t=this.timers;if(En(t))for(;e=t.shift();)clearTimeout(e);return this._canceled=!0,this},after:function(e){var t=this,n=0,r=[];if(xn(e)){if(0===e)return t.call(),t}else e=1;return function(){var o;if(r.push(p(arguments)),n++,n==e)return o=t.call(this,r),n=0,r=[],o}},once:function(){return this.throttle(1/0,!0)},fill:function(){var e=this,t=p(arguments);return function(){var n=p(arguments);return t.forEach(function(e,t){(null!=e||t>=n.length)&&n.splice(t,0,e)}),e.apply(this,n)}}}),s(pn,!1,!0,{random:function(e,t){var n,r;return 1==arguments.length&&(t=e,e=0),n=Dn(e||0,m(t)?1:t),r=Ln(e||0,m(t)?1:t)+1,An(dn.random()*(r-n)+n)}}),s(pn,!0,!0,{log:function(e){return dn.log(this)/(e?dn.log(e):1)},abbr:function(e){return It(this,e,"kmbt",0,4)},metric:function(e,t){return It(this,e,"nμm kMGTPE",4,m(t)?1:t)},bytes:function(e,t){return It(this,e,"kMGTPE",0,m(t)?4:t,!0)+"B"},isInteger:function(){return this%1==0},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(e){return this%e===0},format:function(e,t,n){var r,o,i,a,s,u="";for(m(t)&&(t=","),m(n)&&(n="."),o=(xn(e)?O(this,e||0).toFixed(Ln(e,0)):this.toString()).replace(/^-/,""),i=o.split("."),a=i[0],s=i[1],r=a.length;r>0;r-=3)r<a.length&&(u=t+u),u=a.slice(Ln(0,r-3),r)+u;return s&&(u+=n+M("0",(e||0)-s.length)+s),(this<0?"-":"")+u},hex:function(e){return this.pad(e||1,!1,16)},times:function(e){if(e)for(var t=0;t<this;t++)e.call(this,t);return this.toNumber()},chr:function(){return fn.fromCharCode(this)},pad:function(e,t,n){return N(this,e,t,n)},ordinalize:function(){var e=jn(this),t=parseInt(e.toString().slice(-2));return this+D(t)},toNumber:function(){return parseFloat(this,10)}}),Mt();var _r="isObject,isNaN".split(","),wr="keys,values,select,reject,each,merge,clone,equal,watch,tap,has,toQueryString".split(",");s(sn,!1,!0,{watch:function(e,t,n){if(vn){var r=e[t];sn.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return r},set:function(o){r=n.call(e,t,r,o)}})}}}),s(sn,!1,function(){return arguments.length>1},{keys:function(e,t){var n=sn.keys(e);return n.forEach(function(n){t.call(e,n,e[n])}),n}}),s(sn,!1,!0,{isObject:function(e){return w(e)},isNaN:function(e){return xn(e)&&e.valueOf()!==e.valueOf()},equal:function(e,t){return B(e,t)},extended:function(e){return new C(e)},merge:function(e,t,n,r){var o,i,a,s,u,l,c;if(e&&"string"!=typeof t)for(o in t)if(g(t,o)&&e){if(s=t[o],u=e[o],l=y(u),i=b(s),a=b(u),c=l&&r===!1?u:s,l&&Rn(r)&&(c=r.call(t,o,u,s)),n&&(i||a))if(Cn(s))c=new cn(s.getTime());else{if(!On(s)){a||(e[o]=un.isArray(s)?[]:{}),sn.merge(e[o],s,n,r);continue}c=new ln(s.source,L(s))}e[o]=c}return e},values:function(e,t){var n=[];return S(e,function(r,o){n.push(o),t&&t.call(e,o)}),n},clone:function(e,t){var n,r;if(!b(e))return e;if(r=o(e),Cn(e,r)&&e.clone)return e.clone();if(Cn(e,r)||On(e,r))return new e.constructor(e);if(e instanceof C)n=new C;else if(En(e,r))n=[];else{if(!w(e,r))throw new TypeError("Clone must be a basic data type.");n={}}return sn.merge(n,e,t)},fromQueryString:function(e,t){var n=sn.extended();return e=e&&e.toString?e.toString():"",e.replace(/^.*?\?/,"").split("&").forEach(function(e){var r=e.split("=");2===r.length&&At(n,r[0],decodeURIComponent(r[1]),t)}),n},toQueryString:function(e,t){return Nt(t,e)},tap:function(e,t){var n=t;return Rn(t)||(n=function(){t&&e[t]()}),n.call(e,e),e},has:function(e,t){return g(e,t)},select:function(e){return qt(e,arguments,!0)},reject:function(e){return qt(e,arguments,!1)}}),Ft(),Ut(),W(wr,C),s(ln,!1,!0,{escape:function(e){return q(e)}}),s(ln,!0,!0,{getFlags:function(){return L(this)},setFlags:function(e){return ln(this.source,e)},addFlag:function(e){return this.setFlags(L(this,e))},removeFlag:function(e){return this.setFlags(L(this).replace(e,""))}});var Sr,Tr;s(fn,!0,!1,{repeat:function(e){return e=Bt(e),M(this,e)}}),s(fn,!0,function(e){return On(e)||arguments.length>2},{startsWith:function(e){var t,n=arguments,r=n[1],o=n[2],i=this;return r&&(i=i.slice(r)),m(o)&&(o=!0),t=On(e)?e.source.replace("^",""):q(e),ln("^"+t,o?"":"i").test(i)},endsWith:function(e){var t,n=arguments,r=n[1],o=n[2],i=this;return y(r)&&(i=i.slice(0,r)),m(o)&&(o=!0),t=On(e)?e.source.replace("$",""):q(e),ln(t+"$",o?"":"i").test(i)}}),s(fn,!0,!0,{escapeRegExp:function(){return q(this)},escapeURL:function(e){return e?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(e){return e?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&");
},encodeBase64:function(){return Sr(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(Tr(this)))},each:function(e,t){var n,r,o;if(Rn(e)?(t=e,e=/[\s\S]/g):e?Pn(e)?e=ln(q(e),"gi"):On(e)&&(e=ln(e.source,L(e,"g"))):e=/[\s\S]/g,n=this.match(e)||[],t)for(r=0,o=n.length;r<o;r++)n[r]=t.call(this,n[r],r,n)||n[r];return n},shift:function(e){var t="";return e=e||0,this.codes(function(n){t+=j(n+e)}),t},codes:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++){var o=this.charCodeAt(t);r.push(o),e&&e.call(this,o,t)}return r},chars:function(e){return this.each(e)},words:function(e){return this.trim().each(/\S+/g,e)},lines:function(e){return this.trim().each(/^.*$/gm,e)},paragraphs:function(e){var t=this.trim().split(/[\r\n]{2,}/);return t=t.map(function(t){if(e)var n=e.call(t);return n?n:t})},isBlank:function(){return 0===this.trim().length},has:function(e){return this.search(On(e)?e:q(e))!==-1},add:function(e,t){return t=m(t)?this.length:t,this.slice(0,t)+e+this.slice(t)},remove:function(e){return this.replace(e,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s　])+/g,function(e,t){return"　"===t?t:" "})},at:function(){return z(this,arguments,!0)},from:function(e){return this.slice(Wt(this,e,!0))},to:function(e){return m(e)&&(e=this.length),this.slice(0,Wt(this,e))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(fn.Inflector&&fn.Inflector.acronymRegExp,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(e){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,n,r,o){var i=Ht(r),a=e!==!1||o>0;return i?a?i:i.toLowerCase():a?r.capitalize():r})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var e=this,t=arguments.length>0?arguments:[""];return d(t,function(t){e=e.replace(ln("</?"+q(t)+"[^<>]*>","gi"),"")}),e},removeTags:function(){var e=this,t=arguments.length>0?arguments:["\\S+"];return d(t,function(t){var n=ln("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");e=e.replace(n,"")}),e},truncate:function(e,t,n){return zt(this,e,t,n)},truncateOnWord:function(e,t,n){return zt(this,e,t,n,!0)},pad:function(e,t){var n,r,o;return e=Bt(e),n=Ln(0,e-this.length)/2,r=An(n),o=Mn(n),Vt(r,t)+this+Vt(o,t)},padLeft:function(e,t){return e=Bt(e),Vt(Ln(0,e-this.length),t)+this},padRight:function(e,t){return e=Bt(e),this+Vt(Ln(0,e-this.length),t)},first:function(e){return m(e)&&(e=1),this.substr(0,e)},last:function(e){m(e)&&(e=1);var t=this.length-e<0?0:this.length-e;return this.substr(t)},toNumber:function(e){return A(this,e)},capitalize:function(e){var t;return this.toLowerCase().replace(e?/[^']/g:/^\S/,function(e){var n,r=e.toUpperCase();return n=t?e:r,t=r!==e,n})},assign:function(){var e={};return d(arguments,function(t,n){b(t)?x(e,t):e[n+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,n){return g(e,n)?e[n]:t})}}),s(fn,!0,!0,{insert:fn.prototype.add}),Yt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");var xr,Pr,Er=[],Cr=[],Or=[],Rr=[],kr={};Pr={acronym:function(e){kr[e.toLowerCase()]=e;var t=sn.keys(kr).map(function(e){return kr[e]});Pr.acronymRegExp=ln(t.join("|"),"g")},plural:function(e,t){Kt(Er,e,t)},singular:function(e,t){Kt(Cr,e,t)},irregular:function(e,t){var n=e.first(),r=e.from(1),o=t.first(),i=t.from(1),a=o.toUpperCase(),s=o.toLowerCase(),u=n.toUpperCase(),l=n.toLowerCase();Gt(Or,e),Gt(Or,t),u==a?(Pr.plural(new ln("({1}){2}$".assign(n,r),"i"),"$1"+i),Pr.plural(new ln("({1}){2}$".assign(o,i),"i"),"$1"+i),Pr.singular(new ln("({1}){2}$".assign(o,i),"i"),"$1"+r)):(Pr.plural(new ln("{1}{2}$".assign(u,r)),a+i),Pr.plural(new ln("{1}{2}$".assign(l,r)),s+i),Pr.plural(new ln("{1}{2}$".assign(a,i)),a+i),Pr.plural(new ln("{1}{2}$".assign(s,i)),s+i),Pr.singular(new ln("{1}{2}$".assign(a,i)),u+r),Pr.singular(new ln("{1}{2}$".assign(s,i)),l+r))},uncountable:function(e){var t=un.isArray(e)?e:p(arguments);Or=Or.concat(t)},human:function(e,t){Rr.unshift({rule:e,replacement:t})},clear:function(e){Qt(e,"singulars")&&(Cr=[]),Qt(e,"plurals")&&(Er=[]),Qt(e,"uncountables")&&(Or=[]),Qt(e,"humans")&&(Rr=[]),Qt(e,"acronyms")&&(kr={})}},xr=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],Pr.plural(/$/,"s"),Pr.plural(/s$/gi,"s"),Pr.plural(/(ax|test)is$/gi,"$1es"),Pr.plural(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1i"),Pr.plural(/(census|alias|status)$/gi,"$1es"),Pr.plural(/(bu)s$/gi,"$1ses"),Pr.plural(/(buffal|tomat)o$/gi,"$1oes"),Pr.plural(/([ti])um$/gi,"$1a"),Pr.plural(/([ti])a$/gi,"$1a"),Pr.plural(/sis$/gi,"ses"),Pr.plural(/f+e?$/gi,"ves"),Pr.plural(/(cuff|roof)$/gi,"$1s"),Pr.plural(/([ht]ive)$/gi,"$1s"),Pr.plural(/([^aeiouy]o)$/gi,"$1es"),Pr.plural(/([^aeiouy]|qu)y$/gi,"$1ies"),Pr.plural(/(x|ch|ss|sh)$/gi,"$1es"),Pr.plural(/(matr|vert|ind)(?:ix|ex)$/gi,"$1ices"),Pr.plural(/([ml])ouse$/gi,"$1ice"),Pr.plural(/([ml])ice$/gi,"$1ice"),Pr.plural(/^(ox)$/gi,"$1en"),Pr.plural(/^(oxen)$/gi,"$1"),Pr.plural(/(quiz)$/gi,"$1zes"),Pr.plural(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/gi,"$1os"),Pr.plural(/(craft)$/gi,"$1"),Pr.plural(/([ft])[eo]{2}(th?)$/gi,"$1ee$2"),Pr.singular(/s$/gi,""),Pr.singular(/([pst][aiu]s)$/gi,"$1"),Pr.singular(/([aeiouy])ss$/gi,"$1ss"),Pr.singular(/(n)ews$/gi,"$1ews"),Pr.singular(/([ti])a$/gi,"$1um"),Pr.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/gi,"$1$2sis"),Pr.singular(/(^analy)ses$/gi,"$1sis"),Pr.singular(/(i)(f|ves)$/i,"$1fe"),Pr.singular(/([aeolr]f?)(f|ves)$/i,"$1f"),Pr.singular(/([ht]ive)s$/gi,"$1"),Pr.singular(/([^aeiouy]|qu)ies$/gi,"$1y"),Pr.singular(/(s)eries$/gi,"$1eries"),Pr.singular(/(m)ovies$/gi,"$1ovie"),Pr.singular(/(x|ch|ss|sh)es$/gi,"$1"),Pr.singular(/([ml])(ous|ic)e$/gi,"$1ouse"),Pr.singular(/(bus)(es)?$/gi,"$1"),Pr.singular(/(o)es$/gi,"$1"),Pr.singular(/(shoe)s?$/gi,"$1"),Pr.singular(/(cris|ax|test)[ie]s$/gi,"$1is"),Pr.singular(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1us"),Pr.singular(/(census|alias|status)(es)?$/gi,"$1"),Pr.singular(/^(ox)(en)?/gi,"$1"),Pr.singular(/(vert|ind)(ex|ices)$/gi,"$1ex"),Pr.singular(/(matr)(ix|ices)$/gi,"$1ix"),Pr.singular(/(quiz)(zes)?$/gi,"$1"),Pr.singular(/(database)s?$/gi,"$1"),Pr.singular(/ee(th?)$/gi,"oo$1"),Pr.irregular("person","people"),Pr.irregular("man","men"),Pr.irregular("child","children"),Pr.irregular("sex","sexes"),Pr.irregular("move","moves"),Pr.irregular("save","saves"),Pr.irregular("cow","kine"),Pr.irregular("goose","geese"),Pr.irregular("zombie","zombies"),Pr.uncountable("equipment,information,rice,money,species,series,fish,sheep,jeans".split(",")),s(fn,!0,!0,{pluralize:function(){return Xt(this,!0)},singularize:function(){return Xt(this,!1)},humanize:function(){var e,t=Zt(this,Rr);return t=t.replace(/_id$/g,""),t=t.replace(/(_)?([a-z\d]*)/gi,function(t,n,r){return e=g(kr,r)?kr[r]:null,(n?" ":"")+(e||r.toLowerCase())}),en(t)},titleize:function(){var e,t,n,r=/[.:;!]$/;return this.spacify().humanize().words(function(o,i,a){return e=r.test(o),n=0==i||i==a.length-1||e||t,t=e,n||xr.indexOf(o)===-1?en(o):o}).join(" ")},parameterize:function(e){var t=this;return void 0===e&&(e="-"),t.normalize&&(t=t.normalize()),t=t.replace(/[^a-z0-9\-_]+/gi,e),e&&(t=t.replace(new ln("^{sep}+|{sep}+$|({sep}){sep}+".assign({sep:q(e)}),"g"),"$1")),encodeURI(t.toLowerCase())}}),fn.Inflector=Pr,fn.Inflector.acronyms=kr;var jr,Ir=[{names:["Arabic"],source:"؀-ۿ"},{names:["Cyrillic"],source:"Ѐ-ӿ"},{names:["Devanagari"],source:"ऀ-ॿ"},{names:["Greek"],source:"Ͱ-Ͽ"},{names:["Hangul"],source:"가-힯ᄀ-ᇿ"},{names:["Han","Kanji"],source:"一-鿿豈-﫿"},{names:["Hebrew"],source:"֐-׿"},{names:["Hiragana"],source:"぀-ゟ・-ー"},{names:["Kana"],source:"぀-ヿ｡-ﾟ"},{names:["Katakana"],source:"゠-ヿ｡-ﾟ"},{names:["Latin"],source:"--ÿĀ-ſƀ-ɏ"},{names:["Thai"],source:"฀-๿"}],Mr=65248,Ar=[{type:"a",start:65,end:90},{type:"a",start:97,end:122},{type:"n",start:48,end:57},{type:"p",start:33,end:47},{type:"p",start:58,end:64},{type:"p",start:91,end:96},{type:"p",start:123,end:126}],Nr=/[\u0020-\u00A5]|[\uFF61-\uFF9F][ﾞﾟ]?/g,Dr=/[\u3000-\u301C]|[\u301A-\u30FC]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g,Lr="｡､｢｣¥¢£",qr="。、「」￥￠￡",Fr=/[カキクケコサシスセソタチツテトハヒフヘホ]/,Ur=/[ハヒフヘホヲ]/,Hr="ｱｲｳｴｵｧｨｩｪｫｶｷｸｹｺｻｼｽｾｿﾀﾁﾂｯﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔｬﾕｭﾖｮﾗﾘﾙﾚﾛﾜｦﾝｰ･",Br="アイウエオァィゥェォカキクケコサシスセソタチツッテトナニヌネノハヒフヘホマミムメモヤャユュヨョラリルレロワヲンー・";s(fn,!0,!0,{hankaku:function(){return nn(this,arguments,Dr,"hankaku")},zenkaku:function(){return nn(this,arguments,Nr,"zenkaku")},hiragana:function(e){var t=this;return e!==!1&&(t=t.zenkaku("k")),t.replace(/[\u30A1-\u30F6]/g,function(e){return e.shift(-96)})},katakana:function(){return this.replace(/[\u3041-\u3096]/g,function(e){return e.shift(96)})}}),tn(),Date.addLocale("da",{plural:!0,months:"januar,februar,marts,april,maj,juni,juli,august,september,oktober,november,december",weekdays:"søndag|sondag,mandag,tirsdag,onsdag,torsdag,fredag,lørdag|lordag",units:"millisekund:|er,sekund:|er,minut:|ter,tim:e|er,dag:|e,ug:e|er|en,måned:|er|en+maaned:|er|en,år:||et+aar:||et",numbers:"en|et,to,tre,fire,fem,seks,syv,otte,ni,ti",tokens:"den,for",articles:"den","short":"d. {d}. {month} {yyyy}","long":"den {d}. {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d}. {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"forgårs|i forgårs|forgaars|i forgaars",value:-2},{name:"day",src:"i går|igår|i gaar|igaar",value:-1},{name:"day",src:"i dag|idag",value:0},{name:"day",src:"i morgen|imorgen",value:1},{name:"day",src:"over morgon|overmorgen|i over morgen|i overmorgen|iovermorgen",value:2},{name:"sign",src:"siden",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i sidste|sidste",value:-1},{name:"shift",src:"denne",value:0},{name:"shift",src:"næste|naeste",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]}),Date.addLocale("de",{plural:!0,capitalizeUnit:!0,months:"Januar,Februar,März|Marz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember",weekdays:"Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag",units:"Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en",numbers:"ein:|e|er|en|em,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn",tokens:"der","short":"{d}. {Month} {yyyy}","long":"{d}. {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d}. {Month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"um",ampm:"am,pm",modifiers:[{name:"day",src:"vorgestern",value:-2},{name:"day",src:"gestern",value:-1},{name:"day",src:"heute",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"übermorgen|ubermorgen|uebermorgen",value:2},{name:"sign",src:"vor:|her",value:-1},{name:"sign",src:"in",value:1},{name:"shift",src:"letzte:|r|n|s",value:-1},{name:"shift",src:"nächste:|r|n|s+nachste:|r|n|s+naechste:|r|n|s+kommende:n|r",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("es",{plural:!0,months:"enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre",weekdays:"domingo,lunes,martes,miércoles|miercoles,jueves,viernes,sábado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,día|días|dia|dias,semana:|s,mes:|es,año|años|ano|anos",numbers:"uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez",tokens:"el,la,de","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"anteayer",value:-2},{name:"day",src:"ayer",value:-1},{name:"day",src:"hoy",value:0},{name:"day",src:"mañana|manana",value:1},{name:"sign",src:"hace",value:-1},{name:"sign",src:"dentro de",value:1},{name:"shift",src:"pasad:o|a",value:-1},{name:"shift",src:"próximo|próxima|proximo|proxima",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{0?}{1?} {unit=5-7} {shift}","{0?}{1?} {shift} {unit=5-7}"],timeParse:["{shift} {weekday}","{weekday} {shift}","{date?} {2?} {month} {2?} {year?}"]}),Date.addLocale("fi",{plural:!0,timeMarker:"kello",ampm:",",months:"tammikuu,helmikuu,maaliskuu,huhtikuu,toukokuu,kesäkuu,heinäkuu,elokuu,syyskuu,lokakuu,marraskuu,joulukuu",weekdays:"sunnuntai,maanantai,tiistai,keskiviikko,torstai,perjantai,lauantai",units:"millisekun:ti|tia|teja|tina|nin,sekun:ti|tia|teja|tina|nin,minuut:ti|tia|teja|tina|in,tun:ti|tia|teja|tina|nin,päiv:ä|ää|iä|änä|än,viik:ko|koa|koja|on|kona,kuukau:si|sia|tta|den|tena,vuo:si|sia|tta|den|tena",numbers:"yksi|ensimmäinen,kaksi|toinen,kolm:e|as,neljä:s,vii:si|des,kuu:si|des,seitsemä:n|s,kahdeksa:n|s,yhdeksä:n|s,kymmene:n|s",articles:"",optionals:"","short":"{d}. {month}ta {yyyy}","long":"{d}. {month}ta {yyyy} kello {H}.{mm}",full:"{Weekday}na {d}. {month}ta {yyyy} kello {H}.{mm}",relative:function(e,t,n,r){function o(n){return(1===e?"":e+" ")+i[8*n+t]}var i=this.units;switch(r){case"duration":return o(0);case"past":return o(e>1?1:0)+" sitten";case"future":return o(4)+" päästä"}},modifiers:[{name:"day",src:"toissa päivänä|toissa päiväistä",value:-2},{name:"day",src:"eilen|eilistä",value:-1},{name:"day",src:"tänään",value:0},{name:"day",src:"huomenna|huomista",value:1},{name:"day",src:"ylihuomenna|ylihuomista",value:2},{name:"sign",src:"sitten|aiemmin",value:-1},{name:"sign",src:"päästä|kuluttua|myöhemmin",value:1},{name:"edge",src:"viimeinen|viimeisenä",value:-2},{name:"edge",src:"lopussa",value:-1},{name:"edge",src:"ensimmäinen|ensimmäisenä",value:1},{name:"shift",src:"edellinen|edellisenä|edeltävä|edeltävänä|viime|toissa",value:-1},{name:"shift",src:"tänä|tämän",value:0},{name:"shift",src:"seuraava|seuraavana|tuleva|tulevana|ensi",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{num} {unit=4-5} {sign} {day}","{month} {year}","{shift} {unit=5-7}"],timeParse:["{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1} {year?}","{date} {month} {year}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2} {shift} week","{0} {date}{1} of {month}","{0}{month?} {date?}{1} of {shift} {unit=6-7}"]}),Date.addLocale("fr",{plural:!0,months:"janvier,février|fevrier,mars,avril,mai,juin,juillet,août,septembre,octobre,novembre,décembre|decembre",weekdays:"dimanche,lundi,mardi,mercredi,jeudi,vendredi,samedi",units:"milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|née|nee",numbers:"un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix",tokens:"l'|la|le","short":"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"à",ampm:"am,pm",modifiers:[{name:"day",src:"hier",value:-1},{name:"day",src:"aujourd'hui",value:0},{name:"day",src:"demain",value:1},{name:"sign",src:"il y a",value:-1},{name:"sign",src:"dans|d'ici",value:1},{name:"shift",src:"derni:èr|er|ère|ere",value:-1},{name:"shift",src:"prochain:|e",value:1}],dateParse:["{sign} {num} {unit}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}"],timeParse:["{weekday?} {0?} {date?} {month} {year?}","{0?} {weekday} {shift}"]}),Date.addLocale("it",{plural:!0,months:"Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre",weekdays:"Domenica,Luned:ì|i,Marted:ì|i,Mercoled:ì|i,Gioved:ì|i,Venerd:ì|i,Sabato",units:"millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i",numbers:"un:|a|o|',due,tre,quattro,cinque,sei,sette,otto,nove,dieci",tokens:"l'|la|il","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"alle",ampm:"am,pm",modifiers:[{name:"day",src:"ieri",value:-1},{name:"day",src:"oggi",value:0},{name:"day",src:"domani",value:1},{name:"day",src:"dopodomani",value:2},{name:"sign",src:"fa",value:-1},{name:"sign",src:"da adesso",value:1},{name:"shift",src:"scors:o|a",value:-1},{name:"shift",src:"prossim:o|a",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("ja",{monthSuffix:"月",weekdays:"日曜日,月曜日,火曜日,水曜日,木曜日,金曜日,土曜日",units:"ミリ秒,秒,分,時間,日,週間|週,ヶ月|ヵ月|月,年","short":"{yyyy}年{M}月{d}日","long":"{yyyy}年{M}月{d}日 {H}時{mm}分",full:"{yyyy}年{M}月{d}日 {Weekday} {H}時{mm}分{ss}秒",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"時,分,秒",ampm:"午前,午後",modifiers:[{name:"day",src:"一昨日",value:-2},{name:"day",src:"昨日",value:-1},{name:"day",src:"今日",value:0},{name:"day",src:"明日",value:1},{name:"day",src:"明後日",value:2},{name:"sign",src:"前",value:-1},{name:"sign",src:"後",value:1},{name:"shift",src:"去|先",value:-1},{name:"shift",src:"来",value:1}],dateParse:["{num}{unit}{sign}"],timeParse:["{shift}{unit=5-7}{weekday?}","{year}年{month?}月?{date?}日?","{month}月{date?}日?","{date}日"]}),Date.addLocale("ko",{digitDate:!0,monthSuffix:"월",weekdays:"일요일,월요일,화요일,수요일,목요일,금요일,토요일",units:"밀리초,초,분,시간,일,주,개월|달,년",numbers:"일|한,이,삼,사,오,육,칠,팔,구,십","short":"{yyyy}년{M}월{d}일","long":"{yyyy}년{M}월{d}일 {H}시{mm}분",full:"{yyyy}년{M}월{d}일 {Weekday} {H}시{mm}분{ss}초",past:"{num}{unit} {sign}",future:"{num}{unit} {sign}",duration:"{num}{unit}",timeSuffixes:"시,분,초",ampm:"오전,오후",modifiers:[{name:"day",src:"그저께",value:-2},{name:"day",src:"어제",value:-1},{name:"day",src:"오늘",value:0},{name:"day",src:"내일",value:1},{name:"day",src:"모레",value:2},{name:"sign",src:"전",value:-1},{name:"sign",src:"후",value:1},{name:"shift",src:"지난|작",value:-1},{name:"shift",src:"이번",value:0},{name:"shift",src:"다음|내",value:1}],dateParse:["{num}{unit} {sign}","{shift?} {unit=5-7}"],timeParse:["{shift} {unit=5?} {weekday}","{year}년{month?}월?{date?}일?","{month}월{date?}일?","{date}일"]}),Date.addLocale("nl",{plural:!0,months:"januari,februari,maart,april,mei,juni,juli,augustus,september,oktober,november,december",weekdays:"zondag|zo,maandag|ma,dinsdag|di,woensdag|woe|wo,donderdag|do,vrijdag|vrij|vr,zaterdag|za",units:"milliseconde:|n,seconde:|n,minu:ut|ten,uur,dag:|en,we:ek|ken,maand:|en,jaar",numbers:"een,twee,drie,vier,vijf,zes,zeven,acht,negen",tokens:"","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"'s|om",modifiers:[{name:"day",src:"gisteren",value:-1},{name:"day",src:"vandaag",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"overmorgen",value:2},{name:"sign",src:"geleden",value:-1},{name:"sign",src:"vanaf nu",value:1},{name:"shift",src:"laatste|vorige|afgelopen",value:-1},{name:"shift",src:"volgend:|e",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]}),Date.addLocale("pl",{plural:!0,months:"Styczeń|Stycznia,Luty|Lutego,Marzec|Marca,Kwiecień|Kwietnia,Maj|Maja,Czerwiec|Czerwca,Lipiec|Lipca,Sierpień|Sierpnia,Wrzesień|Września,Październik|Października,Listopad|Listopada,Grudzień|Grudnia",weekdays:"Niedziela|Niedzielę,Poniedziałek,Wtorek,Środ:a|ę,Czwartek,Piątek,Sobota|Sobotę",units:"milisekund:a|y|,sekund:a|y|,minut:a|y|,godzin:a|y|,dzień|dni,tydzień|tygodnie|tygodni,miesiące|miesiące|miesięcy,rok|lata|lat",numbers:"jeden|jedną,dwa|dwie,trzy,cztery,pięć,sześć,siedem,osiem,dziewięć,dziesięć",optionals:"w|we,roku","short":"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"o",ampm:"am,pm",modifiers:[{name:"day",src:"przedwczoraj",value:-2},{name:"day",src:"wczoraj",value:-1},{name:"day",src:"dzisiaj|dziś",value:0},{name:"day",src:"jutro",value:1},{name:"day",src:"pojutrze",value:2},{name:"sign",src:"temu|przed",value:-1},{name:"sign",src:"za",value:1},{name:"shift",src:"zeszły|zeszła|ostatni|ostatnia",value:-1},{name:"shift",src:"następny|następna|następnego|przyszły|przyszła|przyszłego",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{shift} {unit=5-7}","{0} {shift?} {weekday}"],timeParse:["{date} {month} {year?} {1}","{0} {shift?} {weekday}"]}),Date.addLocale("pt",{plural:!0,months:"janeiro,fevereiro,março,abril,maio,junho,julho,agosto,setembro,outubro,novembro,dezembro",weekdays:"domingo,segunda-feira,terça-feira,quarta-feira,quinta-feira,sexta-feira,sábado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,mês|mêses|mes|meses,ano:|s",numbers:"um,dois,três|tres,quatro,cinco,seis,sete,oito,nove,dez,uma,duas",tokens:"a,de","short":"{d} de {month} de {yyyy}","long":"{d} de {month} de {yyyy} {H}:{mm}",full:"{Weekday}, {d} de {month} de {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"às",ampm:"am,pm",modifiers:[{name:"day",src:"anteontem",value:-2},{name:"day",src:"ontem",value:-1},{name:"day",src:"hoje",value:0},{name:"day",src:"amanh:ã|a",value:1},{name:"sign",src:"atrás|atras|há|ha",value:-1},{name:"sign",src:"daqui a",value:1},{name:"shift",src:"passad:o|a",value:-1},{name:"shift",src:"próximo|próxima|proximo|proxima",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{date?} {1?} {month} {1?} {year?}","{0?} {shift} {weekday}"]}),Date.addLocale("ru",{months:"Январ:я|ь,Феврал:я|ь,Март:а|,Апрел:я|ь,Ма:я|й,Июн:я|ь,Июл:я|ь,Август:а|,Сентябр:я|ь,Октябр:я|ь,Ноябр:я|ь,Декабр:я|ь",weekdays:"Воскресенье,Понедельник,Вторник,Среда,Четверг,Пятница,Суббота",units:"миллисекунд:а|у|ы|,секунд:а|у|ы|,минут:а|у|ы|,час:||а|ов,день|день|дня|дней,недел:я|ю|и|ь|е,месяц:||а|ев|е,год|год|года|лет|году",numbers:"од:ин|ну,дв:а|е,три,четыре,пять,шесть,семь,восемь,девять,десять",tokens:"в|на,года","short":"{d} {month} {yyyy} года","long":"{d} {month} {yyyy} года {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} года {H}:{mm}:{ss}",relative:function(e,t,n,r){var o,i,a=e.toString().slice(-1);switch(!0){case e>=11&&e<=15:i=3;break;case 1==a:i=1;break;case a>=2&&a<=4:i=2;break;default:i=3}switch(o=e+" "+this.units[8*i+t],r){case"duration":return o;case"past":return o+" назад";case"future":return"через "+o}},timeMarker:"в",ampm:" утра, вечера",modifiers:[{name:"day",src:"позавчера",value:-2},{name:"day",src:"вчера",value:-1},{name:"day",src:"сегодня",value:0},{name:"day",src:"завтра",value:1},{name:"day",src:"послезавтра",value:2},{name:"sign",src:"назад",value:-1},{name:"sign",src:"через",value:1},{name:"shift",src:"прошл:ый|ой|ом",value:-1},{name:"shift",src:"следующ:ий|ей|ем",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{0?} {shift} {unit=5-7}"],timeParse:["{date} {month} {year?} {1?}","{0?} {shift} {weekday}"]}),Date.addLocale("sv",{plural:!0,months:"januari,februari,mars,april,maj,juni,juli,augusti,september,oktober,november,december",weekdays:"söndag|sondag,måndag:|en+mandag:|en,tisdag,onsdag,torsdag,fredag,lördag|lordag",units:"millisekund:|er,sekund:|er,minut:|er,timm:e|ar,dag:|ar,veck:a|or|an,månad:|er|en+manad:|er|en,år:||et+ar:||et",numbers:"en|ett,två|tva,tre,fyra,fem,sex,sju,åtta|atta,nio,tio",tokens:"den,för|for",articles:"den","short":"den {d} {month} {yyyy}","long":"den {d} {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"förrgår|i förrgår|iförrgår|forrgar|i forrgar|iforrgar",value:-2},{name:"day",src:"går|i går|igår|gar|i gar|igar",value:-1},{name:"day",src:"dag|i dag|idag",value:0},{name:"day",src:"morgon|i morgon|imorgon",value:1},{name:"day",src:"över morgon|övermorgon|i över morgon|i övermorgon|iövermorgon|over morgon|overmorgon|i over morgon|i overmorgon|iovermorgon",value:2},{name:"sign",src:"sedan|sen",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i förra|förra|i forra|forra",value:-1},{name:"shift",src:"denna",value:0},{name:"shift",src:"nästa|nasta",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]}),Date.addLocale("zh-CN",{variant:!0,monthSuffix:"月",weekdays:"星期日|周日,星期一|周一,星期二|周二,星期三|周三,星期四|周四,星期五|周五,星期六|周六",units:"毫秒,秒钟,分钟,小时,天,个星期|周,个月,年",tokens:"日|号","short":"{yyyy}年{M}月{d}日","long":"{yyyy}年{M}月{d}日 {tt}{h}:{mm}",full:"{yyyy}年{M}月{d}日 {weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"点|时,分钟?,秒",ampm:"上午,下午",modifiers:[{name:"day",src:"前天",value:-2},{name:"day",src:"昨天",value:-1},{name:"day",src:"今天",value:0},{name:"day",src:"明天",value:1},{name:"day",src:"后天",value:2},{name:"sign",src:"前",value:-1},{name:"sign",src:"后",value:1},{name:"shift",src:"上|去",value:-1},{name:"shift",src:"这",value:0},{name:"shift",src:"下|明",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}年{month?}月?{date?}{0?}","{month}月{date?}{0?}","{date}[日号]"]}),Date.addLocale("zh-TW",{monthSuffix:"月",weekdays:"星期日|週日,星期一|週一,星期二|週二,星期三|週三,星期四|週四,星期五|週五,星期六|週六",units:"毫秒,秒鐘,分鐘,小時,天,個星期|週,個月,年",tokens:"日|號","short":"{yyyy}年{M}月{d}日","long":"{yyyy}年{M}月{d}日 {tt}{h}:{mm}",full:"{yyyy}年{M}月{d}日 {Weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"點|時,分鐘?,秒",ampm:"上午,下午",modifiers:[{name:"day",src:"前天",value:-2},{name:"day",src:"昨天",value:-1},{name:"day",src:"今天",value:0},{name:"day",src:"明天",value:1},{name:"day",src:"後天",value:2},{name:"sign",src:"前",value:-1},{name:"sign",src:"後",value:1},{name:"shift",src:"上|去",value:-1},{name:"shift",src:"這",value:0},{name:"shift",src:"下|明",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}年{month?}月?{date?}{0?}","{month}月{date?}{0?}","{date}[日號]"]})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],468:[function(e,t,n){function r(){}function o(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(e){return e===Object(e)}function a(e){if(!i(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){for(var t,n,r={},o=e.split("&"),i=0,a=o.length;i<a;++i)n=o[i],t=n.split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return r}function u(e){var t,n,r,o,i=e.split(/\r?\n/),a={};i.pop();for(var s=0,u=i.length;s<u;++s)n=i[s],t=n.indexOf(":"),r=n.slice(0,t).toLowerCase(),o=v(n.slice(t+1)),a[r]=o;return a}function l(e){return e.split(/ *; */).shift()}function c(e){return y(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e},{})}function f(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var n=this;h.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new f(n)}catch(r){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=r,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var o=new Error(t.statusText||"Unsuccessful HTTP response");o.original=e,o.response=t,o.status=t.status,n.callback(e||o,t)})}function d(e,t){return"function"==typeof t?new p("GET",e).end(t):1==arguments.length?new p("GET",e):new p(e,t)}var h=e("emitter"),y=e("reduce"),m="undefined"==typeof window?this||self:window;d.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var v="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};d.serializeObject=a,d.parseString=s,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},f.prototype.get=function(e){return this.header[e.toLowerCase()]},f.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=l(t);var n=c(t);for(var r in n)this[r]=n[r]},f.prototype.parseBody=function(e){var t=d.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},f.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},f.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},d.Response=f,h(p.prototype),p.prototype.use=function(e){return e(this),this},p.prototype.timeout=function(e){return this._timeout=e,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},p.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},p.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},p.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},p.prototype.type=function(e){return this.set("Content-Type",d.types[e]||e),this},p.prototype.accept=function(e){return this.set("Accept",d.types[e]||e),this},p.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},p.prototype.field=function(e,t){return this._formData||(this._formData=new m.FormData),this._formData.append(e,t),this},p.prototype.attach=function(e,t,n){return this._formData||(this._formData=new m.FormData),this._formData.append(e,t,n),this},p.prototype.send=function(e){var t=i(e),n=this.getHeader("Content-Type");if(t&&i(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;
return!t||o(e)?this:(n||this.type("json"),this)},p.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},p.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(e){var t=this,n=this.xhr=d.getXHR(),i=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=e||r,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(r){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var u=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(l){}if(a&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},a)),i&&(i=d.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!o(s)){var c=d.serialize[this.getHeader("Content-Type")];c&&(s=c(s))}for(var f in this.header)null!=this.header[f]&&n.setRequestHeader(f,this.header[f]);return this.emit("request",this),n.send(s),this},d.Request=p,d.get=function(e,t,n){var r=d("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},d.head=function(e,t,n){var r=d("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},d.del=function(e,t){var n=d("DELETE",e);return t&&n.end(t),n},d.patch=function(e,t,n){var r=d("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},d.post=function(e,t,n){var r=d("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},d.put=function(e,t,n){var r=d("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},t.exports=d},{emitter:241,reduce:466}],469:[function(e,t,n){e("sugar");var r=e("node-escapist"),o=e("char-buffer");n.escape=function(e){return r.escape(e)},n.unescape=function(e){var t=r.unescape(e),n=/&#([x|X]{1}[\d|a-f|A-F]+?|\d+?);/g,i=t.match(n);return Array.isArray(i)?t=i.unique().reduce(function(e,t){var n=new o,r="X"===t[2].toUpperCase()?parseInt(t.substr(3,t.length-4),16):parseInt(t.substr(2));n.append(r);var i=new RegExp(t,"g");return e.replace(i,n.toString())},t):t}},{"char-buffer":235,"node-escapist":279,sugar:467}]},{},[1]);